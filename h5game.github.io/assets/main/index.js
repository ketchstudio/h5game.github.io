System.register("chunks:///_virtual/AnimalData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,i,r,a;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.createClass,i=t.initializerDefineProperty},function(t){r=t.cclegacy,a=t._decorator}],execute:function(){var o,l,s,u,c,m,y;r._RF.push({},"37a589cSsxJ9a1GdAryvXKH","AnimalData",void 0);var p=a.ccclass,f=a.property;t("default",(o=p("AnimalData"),l=f({type:String,visible:!0}),s=f({type:String,visible:!0}),o((m=n((c=function(){function t(){i(this,"animalName",m,this),i(this,"storyContent",y,this)}var n=t.prototype;return n.toString=function(){var t;return"[AnimalData][AnimalName|"+this.animalName+"][StoryContent|"+(null==(t=this.storyContent)?void 0:t.toString())+"]"},n.SetFromJson=function(t,n){this.animalName=t,this.storyContent=n},e(t,[{key:"AnimalName",get:function(){return this.animalName}},{key:"StoryContent",get:function(){return this.storyContent}}]),t}()).prototype,"animalName",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=n(c.prototype,"storyContent",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=c))||u));r._RF.pop()}}}));

System.register("chunks:///_virtual/AnimalDataJson.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,a,o,r;return{setters:[function(n){t=n.inheritsLoose},function(n){a=n.cclegacy,o=n._decorator,r=n.Component}],execute:function(){var e;a._RF.push({},"1c5d8l3DQhDj7rBpbtoYGp6","AnimalDataJson",void 0);var c=o.ccclass;o.property,n("AnimalDataJson",c("AnimalDataJson")(e=function(n){function a(){for(var t,a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(t=n.call.apply(n,[this].concat(o))||this).AnimalName="",t.StoryContent="",t}return t(a,n),a}(r))||e);a._RF.pop()}}}));

System.register("chunks:///_virtual/AnimalDataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AnimalData.ts"],(function(a){var n,e,t,r,i,o,l,s,c,u,m;return{setters:[function(a){n=a.applyDecoratedDescriptor,e=a.inheritsLoose,t=a.initializerDefineProperty,r=a.assertThisInitialized,i=a.asyncToGenerator,o=a.regeneratorRuntime},function(a){l=a.cclegacy,s=a._decorator,c=a.Component,u=a.resources},function(a){m=a.default}],execute:function(){var p,g,D,f,h,A;l._RF.push({},"f9e3131INZBN6epHUs8etkh","AnimalDataManager",void 0);var d=s.ccclass,v=s.property;a("AnimalDataManager",(p=d("AnimalDataManager"),g=v({type:[m],visible:!0}),p(((A=function(a){function n(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return n=a.call.apply(a,[this].concat(i))||this,t(n,"animalDatas",h,r(n)),n}e(n,a);var l=n.prototype;return l.onLoad=function(){null==n.instance?n.instance=this:this.destroy()},l.Prepare=function(){var a=i(o().mark((function a(){var n,e,t,r=this;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return e=new Promise((function(a,e){n=a})),console.log("[AnimalDataManager] | Prepare"),"Animal/AnimalDatas",t=[],console.log("[AnimalDataManager] | Prepare | resources"),u.load("Animal/AnimalDatas",(function(a,e){if(null!=a)return console.log("[AnimalDataManager] | Prepare | resource load failed "+a.message),n(null);r.animalDatas=[],t=JSON.parse(e.toString());for(var i=0;i<t.length;i++){var o=new m;console.log("[AnimalDataManager] AnimalData | "+t[i].AnimalName+" "+t[i].StoryContent),o.SetFromJson(t[i].AnimalName,t[i].StoryContent),r.animalDatas.push(o)}return console.log("[AnimalDataManager] | Prepare | Completed"),n(null)})),a.abrupt("return",e);case 7:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),l.GetAnimalData=function(a){if(console.log("[AnimalDataManager] | GetAnimalData | index: "+a),a>=this.animalDatas.length){var n=Math.round(this.GetRandom(0,this.animalDatas.length-1));return console.log("[AnimalDataManager] | GetAnimalData | randomAnimal: "+n),this.animalDatas[n]}return this.animalDatas[a]},l.GetRandom=function(a,n){return Math.random()*(n-a)+a},n}(c)).instance=void 0,h=n((f=A).prototype,"animalDatas",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=f))||D));l._RF.pop()}}}));

System.register("chunks:///_virtual/assets.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,o,s;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e.assetManager,s=e.Texture2D}],execute:function(){function u(){return(u=t(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){o.loadRemote(t.getPhoto(r),{ext:".jpg"},(function(t,r){if(r){var o=new s;o.image=r,e(o)}t&&n(t)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e("loadPhotoAsTexture",(function(e,t){return u.apply(this,arguments)})),r._RF.push({},"46055MhEgxFn6Lr2X4OIvvr","assets",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts"],(function(e){var i,t,n,o,u,r,a,c,l,s,d,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,u=e.createClass},function(e){r=e.cclegacy,a=e._decorator,c=e.AudioClip,l=e.AudioSource,s=e.tween,d=e.Component},function(e){p=e.default}],execute:function(){var f,b,y,g,h,F,_,X,v,S,k,m,w,M,z,L,A,C,W,U,D,P;r._RF.push({},"f055dGcHyVFdoeiFpaovZ9c","AudioManager",void 0);var T=a.ccclass,B=a.property;e("default",(f=T("AudioManager"),b=B({type:c,visible:!0}),y=B({type:c,visible:!0}),g=B({type:c,visible:!0}),h=B({type:c,visible:!0}),F=B({type:c,visible:!0}),_=B({type:c,visible:!0}),X=B({type:c,visible:!0}),v=B({type:c,visible:!0}),S=B({type:c,visible:!0}),f(((P=function(e){function i(){for(var i,t=arguments.length,u=new Array(t),r=0;r<t;r++)u[r]=arguments[r];return(i=e.call.apply(e,[this].concat(u))||this).audioSource=null,n(i,"_buttonFX",w,o(i)),n(i,"_nodeSelectedFX",M,o(i)),n(i,"_nodeUnselectedFX",z,o(i)),n(i,"_nodeLinkedFX",L,o(i)),n(i,"_nodeLinkWrongFX",A,o(i)),n(i,"_victoryFX",C,o(i)),n(i,"_gameoverFX",W,o(i)),n(i,"_hitFX",U,o(i)),n(i,"_backgroundMusic",D,o(i)),i}t(i,e);var r=i.prototype;return r.onLoad=function(){null==i.instance?(i.instance=this,this.audioSource=this.getComponent(l),this.audioSource||(this.audioSource=this.addComponent(l))):this.destroy()},i.PlayEffect=function(e,t){if(p.instance.isAudio){var n=i.instance;n&&n.audioSource&&n.audioSource.playOneShot(e,1)}},r.playBackgroundMusic=function(){p.instance.isAudio&&this._backgroundMusic&&(this.audioSource.clip=this._backgroundMusic,this.audioSource.loop=!0,this.audioSource.volume=0,this.audioSource.play(),s(this.audioSource).to(2,{volume:1}).start())},r.PauseWithoutTween=function(){this.audioSource.pause()},r.ContinueWithoutTween=function(){p.instance.isAudio&&null!=this.audioSource.clip&&!this.audioSource.playing&&(console.log("[AudioManager] | ContinueWithoutTween | SUCCESS"),this.audioSource.play())},r.stopBackgroundMusic=function(){var e=this;this.audioSource&&s(this.audioSource).to(.5,{volume:0}).call((function(){e.audioSource.stop(),e.audioSource.volume=1})).start()},u(i,[{key:"buttonFX",get:function(){return this._buttonFX}},{key:"nodeSelectedFX",get:function(){return this._nodeSelectedFX}},{key:"nodeUnselectedFX",get:function(){return this._nodeUnselectedFX}},{key:"nodeLinkedFX",get:function(){return this._nodeLinkedFX}},{key:"nodeLinkWrongFX",get:function(){return this._nodeLinkWrongFX}},{key:"victoryFX",get:function(){return this._victoryFX}},{key:"gameoverFX",get:function(){return this._gameoverFX}},{key:"hitFX",get:function(){return this._hitFX}},{key:"backgroundMusic",get:function(){return this._backgroundMusic}}]),i}(d)).instance=null,w=i((m=P).prototype,"_buttonFX",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=i(m.prototype,"_nodeSelectedFX",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(m.prototype,"_nodeUnselectedFX",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(m.prototype,"_nodeLinkedFX",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=i(m.prototype,"_nodeLinkWrongFX",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(m.prototype,"_victoryFX",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=i(m.prototype,"_gameoverFX",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(m.prototype,"_hitFX",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(m.prototype,"_backgroundMusic",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=m))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/BetterMatrix.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MDataHolder.ts","./MPosition.ts"],(function(e){var t,r,i,n,s,a;return{setters:[function(e){t=e.regeneratorRuntime,r=e.createClass},function(e){i=e.cclegacy,n=e._decorator},function(e){s=e.default},function(e){a=e.default}],execute:function(){var o;i._RF.push({},"f7219+eNplPQ4YdekhkoJAy","BetterMatrix",void 0);var u=n.ccclass;n.property,e("default",u("BetterMatrix")(o=function(){function e(e){void 0===e&&(e=!0),this._SyncPosition=void 0,this._data=void 0,this._holders=[],this._size=void 0,this._count=void 0,this._SyncPosition=e}var i=e.prototype;return i.InitEmpty=function(e){this.isInitialized&&this._size==e?this.ClearData():this.Init(e)},i.Init=function(e){this._data=[],this._size=new a(e.row,e.col),this._count=0,this._holders=[];for(var t=0;t<this._size.row;t++)for(var r=0;r<this._size.col;r++){var i=new s(this,new a(t,r));null==this._holders[t]&&(this._holders[t]=[]),null==this._data[t]&&(this._data[t]=[]),this._holders[t][r]=i}},i.GetItemByMPosition=function(e){return this.IsOutOfSize(e.row,e.col)?null:(null==this._data[e.row]&&(this._data[e.row]=[]),this._data[e.row][e.col])},i.GetItemByRC=function(e,t){return this.IsOutOfSize(e,t)?null:this._data[e][t]},i.GetItemByXY=function(e,t){return this.IsOutOfSize(t,e)?null:this._data[t][e]},i.IsOutOfSize=function(e,t){return e<0||e>=this.rowSize||t<0||t>=this.colSize},i.RemoveItemAt=function(e){this.SetItem(e,null)},i.SetItem=function(e,t){null==this._data[e.row]&&(this._data[e.row]=[]);var r=this._data[e.row][e.col];null==r&&null!=t?(this._SyncPosition&&(t.mPosition=e),this._count++):null!=r&&null==t&&(this._SyncPosition&&(r.mPosition=a.NotSet),this._count--),this._data[e.row][e.col]=t},i.PopItem=function(e){var t=this.GetItemByMPosition(e);return null!=t&&this.RemoveItemAt(e),t},i.ClearData=function(){if(this.isInitialized)for(var e=0;e<this.rowSize;e++)for(var t=0;t<this.colSize;t++)this._holders[e][t].Value=null},i.GetVerticalLR=t().mark((function e(){var r,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized){e.next=2;break}return e.abrupt("return",null);case 2:r=0;case 3:if(!(r<this.rowSize)){e.next=14;break}i=0;case 5:if(!(i<this.colSize)){e.next=11;break}return e.next=8,this._holders[r][i].Value;case 8:i++,e.next=5;break;case 11:r++,e.next=3;break;case 14:case"end":return e.stop()}}),e,this)})),i.GetVerticalRL=t().mark((function e(){var r,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized){e.next=2;break}return e.abrupt("return",null);case 2:r=0;case 3:if(!(r<this.rowSize)){e.next=14;break}i=this.colSize-1;case 5:if(!(i>=0)){e.next=11;break}return e.next=8,this._holders[r][i].Value;case 8:i--,e.next=5;break;case 11:r++,e.next=3;break;case 14:case"end":return e.stop()}}),e,this)})),i.GetHorizontalTB=t().mark((function e(){var r,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized){e.next=2;break}return e.abrupt("return",null);case 2:r=0;case 3:if(!(r<this.colSize)){e.next=14;break}i=0;case 5:if(!(i<this.rowSize)){e.next=11;break}return e.next=8,this._holders[i][r].Value;case 8:i++,e.next=5;break;case 11:r++,e.next=3;break;case 14:case"end":return e.stop()}}),e,this)})),i.GetHorizontalBT=t().mark((function e(){var r,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized){e.next=2;break}return e.abrupt("return",null);case 2:r=0;case 3:if(!(r<this.colSize)){e.next=14;break}i=this.rowSize-1;case 5:if(!(i>=0)){e.next=11;break}return e.next=8,this._holders[i][r].Value;case 8:i--,e.next=5;break;case 11:r++,e.next=3;break;case 14:case"end":return e.stop()}}),e,this)})),i.GetSingleRowLR=t().mark((function e(r,i){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized){e.next=2;break}return e.abrupt("return",null);case 2:n=i;case 3:if(!(n<this.colSize)){e.next=9;break}return e.next=6,this._holders[r][n].Value;case 6:n++,e.next=3;break;case 9:case"end":return e.stop()}}),e,this)})),i.GetSingleRowRL=t().mark((function e(r,i){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized){e.next=2;break}return e.abrupt("return",null);case 2:n=i;case 3:if(!(n>=0)){e.next=9;break}return e.next=6,this._holders[r][n].Value;case 6:n--,e.next=3;break;case 9:case"end":return e.stop()}}),e,this)})),i.GetSingleColumnTB=t().mark((function e(r,i){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized){e.next=2;break}return e.abrupt("return",null);case 2:n=i;case 3:if(!(n<this.rowSize)){e.next=9;break}return e.next=6,this._holders[n][r].Value;case 6:n++,e.next=3;break;case 9:case"end":return e.stop()}}),e,this)})),i.GetSingleColumnBT=t().mark((function e(r,i){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized){e.next=2;break}return e.abrupt("return",null);case 2:n=i;case 3:if(!(n>=0)){e.next=9;break}return e.next=6,this._holders[n][r].Value;case 6:n--,e.next=3;break;case 9:case"end":return e.stop()}}),e,this)})),i.GetSquareDiagonalLineTLBR=t().mark((function e(r){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized){e.next=2;break}return e.abrupt("return",null);case 2:if(this.rowSize==this.colSize&&this.rowSize%2!=0){e.next=4;break}return e.abrupt("return",null);case 4:i=r;case 5:if(!(i<this.rowSize)){e.next=11;break}return e.next=8,this._holders[i][i];case 8:i++,e.next=5;break;case 11:case"end":return e.stop()}}),e,this)})),i.GetSquareDiagonalLineTRBL=t().mark((function e(r){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized){e.next=2;break}return e.abrupt("return",null);case 2:if(this.rowSize==this.colSize&&this.rowSize%2!=0){e.next=4;break}return e.abrupt("return",null);case 4:i=r;case 5:if(!(i<this.rowSize)){e.next=11;break}return e.next=8,this._holders[i][this.rowSize-1-i];case 8:i++,e.next=5;break;case 11:case"end":return e.stop()}}),e,this)})),i.GetBorder=t().mark((function e(){var r,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized){e.next=2;break}return e.abrupt("return",null);case 2:r=0;case 3:if(!(r<this.colSize)){e.next=11;break}return e.next=6,this._holders[0][r];case 6:return e.next=8,this._holders[this.rowSize-1][r];case 8:r++,e.next=3;break;case 11:i=1;case 12:if(!(i<this.rowSize-1)){e.next=20;break}return e.next=15,this._holders[i][0];case 15:return e.next=17,this._holders[i][this.colSize-1];case 17:i++,e.next=12;break;case 20:case"end":return e.stop()}}),e,this)})),i.GetNotBorder=t().mark((function e(){var r,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized){e.next=2;break}return e.abrupt("return",null);case 2:r=1;case 3:if(!(r<this.rowSize-1)){e.next=14;break}i=1;case 5:if(!(i<this.colSize-1)){e.next=11;break}return e.next=8,this._holders[r][i];case 8:i++,e.next=5;break;case 11:r++,e.next=3;break;case 14:case"end":return e.stop()}}),e,this)})),i.GetNotNullOnly=t().mark((function e(){var r,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized){e.next=2;break}return e.abrupt("return",null);case 2:r=0;case 3:if(!(r<this.rowSize)){e.next=15;break}i=0;case 5:if(!(i<this.colSize)){e.next=12;break}if(null==this._holders[r][i]){e.next=9;break}return e.next=9,this._holders[r][i].Value;case 9:i++,e.next=5;break;case 12:r++,e.next=3;break;case 15:case"end":return e.stop()}}),e,this)})),i.GetNullOnly=t().mark((function e(){var r,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isInitialized){e.next=2;break}return e.abrupt("return",null);case 2:r=0;case 3:if(!(r<this.rowSize)){e.next=15;break}i=0;case 5:if(!(i<this.colSize)){e.next=12;break}if(null!=this._holders[r][i]){e.next=9;break}return e.next=9,this._holders[r][i].Value;case 9:i++,e.next=5;break;case 12:r++,e.next=3;break;case 15:case"end":return e.stop()}}),e,this)})),i.CopyData=function(e){this.InitEmpty(e.size);for(var t=this.GetVerticalLR(),r=t.next();!r.done;)r.value=e.GetItemByMPosition(r.value.mPosition),r=t.next()},r(e,[{key:"holders",get:function(){return this._holders}},{key:"size",get:function(){return this._size}},{key:"rowSize",get:function(){return this._size.row}},{key:"colSize",get:function(){return this._size.col}},{key:"count",get:function(){return this._count}},{key:"isInitialized",get:function(){return null!=this._data}}]),e}())||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/bundle-manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./constants.ts"],(function(n){var r,e,t,u,a,o;return{setters:[function(n){r=n.asyncToGenerator,e=n.regeneratorRuntime},function(n){t=n.cclegacy,u=n.assetManager},null,function(n){a=n.L10N_BUNDLE,o=n.PACKAGE_NAME}],execute:function(){t._RF.push({},"94e6abajrtN0aYqgFoM43+q","bundle-manager",void 0);n("L10NBundleManager",function(){function n(){}var t=n.prototype;return t.load=function(){var n=r(e().mark((function n(){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.next=4;break;case 4:return n.abrupt("return",this.runtimeLoad(a.BUNDLE_PATH));case 8:return n.abrupt("return",this.previewLoad(a.BUNDLE_PATH));case 9:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),t.runtimeLoad=function(){var n=r(e().mark((function n(r){var t,u;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loadBundleAsync(a.NAME);case 2:return t=n.sent,n.next=5,this.loadBundleFileAsync(t,r);case 5:if(u=n.sent){n.next=8;break}throw new Error("Can't load "+r+" in runtime");case 8:return n.abrupt("return",u.json);case 9:case"end":return n.stop()}}),n,this)})));return function(r){return n.apply(this,arguments)}}(),t.previewLoad=function(){var n=r(e().mark((function n(r){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(o+"/"+r);case 3:return n.abrupt("return",n.sent.json());case 6:throw n.prev=6,n.t0=n.catch(0),new Error("Can't load bundle in preview");case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(r){return n.apply(this,arguments)}}(),t.loadBundleAsync=function(){var n=r(e().mark((function n(r){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){u.loadBundle(r,(function(e,t){if(e)throw new Error("Can't load "+r+" from AssetManager");n(t)}))})));case 1:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),t.loadBundleFileAsync=function(){var n=r(e().mark((function n(r,t){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){r.load(t,(function(r,e){n(r?void 0:e)}))})));case 1:case"end":return n.stop()}}),n)})));return function(r,e){return n.apply(this,arguments)}}(),n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/CollectionScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemManager.ts","./GameData.ts","./Item.ts","./CongratulationEffectController.ts","./AnimalDataManager.ts","./OnetMatrix.ts","./ysdk.ts"],(function(t){var e,i,n,o,l,a,r,s,c,u,m,p,f,h,v,b,S,y,I,w,g,C,d,x,N;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){l=t.cclegacy,a=t._decorator,r=t.Node,s=t.Button,c=t.Sprite,u=t.Label,m=t.UIOpacity,p=t.ScrollView,f=t.tween,h=t.Vec3,v=t.UITransform,b=t.instantiate,S=t.Component},function(t){y=t.default},function(t){I=t.default},function(t){w=t.Item,g=t.ItemStatus},function(t){C=t.CongratulationEffectController},function(t){d=t.AnimalDataManager},function(t){x=t.default},function(t){N=t.l10n}],execute:function(){var L,M,z,B,G,O,P,V,A,k,D,E,R,T,F,U,W,q,X,_,H,J,j,K,Q,Y,Z,$,tt,et,it,nt,ot,lt,at,rt,st,ct,ut,mt,pt,ft,ht,vt,bt,St,yt,It,wt,gt,Ct,dt,xt,Nt,Lt,Mt,zt,Bt,Gt,Ot,Pt,Vt;l._RF.push({},"1ae58c3jFRJBqXRTSr8yXAW","CollectionScreen",void 0);var At=a.ccclass,kt=a.property;t("CollectionScreen",(L=At("CollectionScreen"),M=kt({type:r,visible:!0}),z=kt({type:r,visible:!0}),B=kt({type:r,visible:!0}),G=kt({type:s,visible:!0}),O=kt({type:r,visible:!0}),P=kt({type:c,visible:!0}),V=kt({type:C,visible:!0}),A=kt({type:r,visible:!0}),k=kt({type:r,visible:!0}),D=kt({type:r,visible:!0}),E=kt({type:c,visible:!0}),R=kt({type:c,visible:!0}),T=kt({type:s,visible:!0}),F=kt({type:u,visible:!0}),U=kt({type:u,visible:!0}),W=kt({type:u,visible:!0}),q=kt({type:u,visible:!0}),X=kt({type:r,visible:!0}),_=kt({type:r,visible:!0}),H=kt({type:r,visible:!0}),J=kt({type:r,visible:!0}),j=kt({type:r,visible:!0}),K=kt({type:s,visible:!0}),Q=kt({type:u,visible:!0}),Y=kt({type:m,visible:!0}),Z=kt({type:s,visible:!0}),$=kt({type:s,visible:!0}),tt=kt({type:s,visible:!0}),et=kt({type:p,visible:!0}),L(((Vt=function(t){function e(){for(var e,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return e=t.call.apply(t,[this].concat(l))||this,n(e,"commonContainer",ot,o(e)),n(e,"waitingNewItemNode",lt,o(e)),n(e,"waitingNewItemContainer",at,o(e)),n(e,"closeWaitingButton",rt,o(e)),n(e,"congratulationVFX",st,o(e)),n(e,"newAnimalSprite",ct,o(e)),n(e,"congratulationEffectController",ut,o(e)),n(e,"animalStory",mt,o(e)),n(e,"animalStoryContainer",pt,o(e)),n(e,"lockAnimalStory",ft,o(e)),n(e,"animalStorySprite",ht,o(e)),n(e,"lockedAnimalStorySprite",vt,o(e)),n(e,"closeStoryButton",bt,o(e)),n(e,"animalNameLabel",St,o(e)),n(e,"huntCountLabel",yt,o(e)),n(e,"animalStoryLabel",It,o(e)),n(e,"levelRequiredLabel",wt,o(e)),n(e,"itemCollectionMap",gt,o(e)),n(e,"tutorial",Ct,o(e)),n(e,"tutorialPointer",dt,o(e)),n(e,"animalTutorialHolder",xt,o(e)),n(e,"handTutorial",Nt,o(e)),n(e,"closeItemMapButton",Lt,o(e)),n(e,"currentLevelLabel",Mt,o(e)),n(e,"backgroundUIOpacity",zt,o(e)),n(e,"moveLeftButton",Bt,o(e)),n(e,"moveRightButton",Gt,o(e)),n(e,"nextLevelButton",Ot,o(e)),n(e,"mapScrollView",Pt,o(e)),e.minOffsetScroll=0,e.maxOffsetScroll=0,e.moveDistance=0,e.enableMoveButtons=!0,e.items=[],e.itemPositions=[],e.unlockedItemsCurrent=void 0,e}i(e,t);var l=e.prototype;return l.onLoad=function(){this.RegisterEventButton(),this.SetUpForScrollView(),this.LoadItemsInMap(),this.GetItemPositions(),this.StartWobbleEffect(),this.congratulationEffectController=this.node.getComponentInChildren(C),e.instance?this.destroy():e.instance=this},l.LoadItemsInMap=function(){this.items=this.mapScrollView.content.children.map((function(t){return t.getComponent(w)})).filter((function(t){return null!==t}))},l.RegisterEventButton=function(){var t=this;this.nextLevelButton.node.on("click",(function(){return t.OnNextLevel()}),this),this.closeWaitingButton.node.on("click",(function(){return t.CloseWaitingNewItem()}),this),this.closeStoryButton.node.on("click",(function(){return t.CloseAnimalStory()}),this),this.closeItemMapButton.node.on("click",(function(){return t.CloseItemCollectionMap()}),this)},l.GetItemPositions=function(){var t=this;this.mapScrollView.content.children.forEach((function(e,i){null!=e.getComponent(w)&&t.itemPositions.push(e.getPosition())}))},l.SetCurrentLevel=function(){var t=I.instance.saveableLevelData.levelIndex+1;this.currentLevelLabel.string="Level "+t.toString()},l.SetCloseItemMapStatus=function(t){this.closeItemMapButton.node.active=t},l.SetCloseWaitingItemStatus=function(t){this.closeWaitingButton.node.active=t},l.SetNextlevelActive=function(t){this.nextLevelButton.node.active=t},l.OnNextLevel=function(){console.log("[VictoryScreen] | OnNextLevel | SUCCESS"),this.CloseItemCollectionMap(),x.instance.OnNextLevel()},l.Open=function(){this.commonContainer.active=!0,f(this.backgroundUIOpacity).to(.2,{opacity:204}).start()},l.Close=function(){var t=this;f(this.backgroundUIOpacity).to(.2,{opacity:0}).call((function(){t.commonContainer.active=!1})).start()},l.OpenItemCollectionMap=function(t){this.itemCollectionMap.active=!0,this.itemCollectionMap.setScale(new h(0,0,0)),f(this.itemCollectionMap).to(.2,{scale:new h(1,1,1)}).start(),this.DisplayItemsCollectionMap(t),this.SetNextlevelActive(!1)},l.CloseItemCollectionMap=function(){var t=this;f(this.itemCollectionMap).to(.2,{scale:new h(0,0,0)}).call((function(){t.itemCollectionMap.active=!1})).start(),this.Close()},l.OpenCongratulationVFX=function(t){this.congratulationVFX.active=!0;var e=y.instance.GetIconSpriteFollowLevelNumber(t);this.newAnimalSprite.spriteFrame=e,this.congratulationEffectController.PlayOpenEffect()},l.CloseCongratulationVFX=function(){this.congratulationEffectController.PlayCloseEffect()},l.OpenWaitingNewItem=function(){this.waitingNewItemNode.active=!0,this.waitingNewItemContainer.setScale(new h(0,0,0)),f(this.waitingNewItemContainer).to(.2,{scale:new h(1,1,1)}).start()},l.CloseWaitingNewItem=function(){var t=this;f(this.waitingNewItemContainer).to(.2,{scale:new h(0,0,0)}).call((function(){t.waitingNewItemNode.active=!1})).start()},l.OpenAnimalStory=function(t){void 0===t&&(t=0),this.SetupAnimalStory(t),this.animalStory.active=!0,this.animalStoryContainer.setScale(new h(0,0,0)),f(this.animalStoryContainer).to(.2,{scale:new h(1,1,1)}).start()},l.SetupAnimalStory=function(t){void 0===t&&(t=0);var e,i=y.instance.GetIcon(t),n=d.instance.GetAnimalData(t),o=I.instance.GetHuntCount(t).toString(),l=t<=this.GetNewlyItemComponent().GetID(),a=N.t("level")+" "+this.CalculateRequiredLevel(t);this.animalStorySprite.spriteFrame=i,this.animalNameLabel.string=l?N.t(n.AnimalName.toLowerCase()+"_name"):(e=N.t(n.AnimalName.toLowerCase()+"_name")).charAt(0)+"*".repeat(e.length-1),this.animalStoryLabel.string=N.t(n.AnimalName.toLowerCase()+"_story"),this.levelRequiredLabel.string=a,this.huntCountLabel.string=o,this.huntCountLabel.node.parent.active=l,this.animalStorySprite.node.active=l,this.lockedAnimalStorySprite.node.active=!l,this.lockAnimalStory.active=!l,this.animalStoryLabel.node.active=l,l||(this.lockedAnimalStorySprite.spriteFrame=i)},l.CloseAnimalStory=function(){var t=this;f(this.animalStoryContainer).to(.2,{scale:new h(0,0,0)}).call((function(){t.animalStory.active=!1})).start()},l.StartWobbleEffect=function(){this.animalStorySprite&&f(this.animalStorySprite.node).repeatForever(f().to(.4,{angle:5}).to(.4,{angle:-5}).union()).start(),this.lockedAnimalStorySprite&&f(this.lockedAnimalStorySprite.node).repeatForever(f().to(.4,{angle:5}).to(.4,{angle:-5}).union()).start()},l.SetUpForScrollView=function(){var t=this.mapScrollView.content.getComponent(v),e=(t.width-this.mapScrollView.node.getComponent(v).width)/2;this.minOffsetScroll=-e,this.maxOffsetScroll=e,this.moveDistance=1*t.width/5},l.update=function(t){if(!this.enableMoveButtons)return this.moveRightButton.node.active=!1,void(this.moveLeftButton.node.active=!1);var e=this.mapScrollView.content.getPosition().x;e<=this.minOffsetScroll+1?this.moveRightButton.node.active=!1:this.moveRightButton.node.active=!0,e>=this.maxOffsetScroll-1?this.moveLeftButton.node.active=!1:this.moveLeftButton.node.active=!0},l.MoveRightMap=function(){var t=this.mapScrollView.content.getPosition(),e=Math.min(this.moveDistance,Math.abs(this.minOffsetScroll-t.x));console.log("CollectionScreen: currentOffset: "+t+" maxOffset: "+this.minOffsetScroll),t.x-e>=this.minOffsetScroll&&(t.x-=e,this.mapScrollView.content.setPosition(t))},l.MoveLeftMap=function(){var t=this.mapScrollView.content.getPosition(),e=Math.min(this.moveDistance,Math.abs(this.maxOffsetScroll-t.x));console.log("CollectionScreen: currentOffset: "+t+" minOffset: "+this.maxOffsetScroll),t.x+e<=this.maxOffsetScroll&&(t.x+=e,this.mapScrollView.content.setPosition(t))},l.MoveToItem=function(t){if(t<0||t>=this.itemPositions.length)console.warn("Invalid item index");else{var e=-this.itemPositions[t].x,i=this.mapScrollView.content.getPosition();e=Math.max(this.minOffsetScroll,Math.min(this.maxOffsetScroll,e)),i.x=e,this.mapScrollView.content.setPosition(i)}},l.SetEnableMoveButtons=function(t){this.enableMoveButtons=t},l.SetMapScrollViewInteract=function(t){this.mapScrollView.enabled=t},l.GetCurrentNewlyItemIndex=function(){var t=I.instance.saveableLevelData.levelIndex+1;return y.instance.GetAvailableItemByLevel(t)},l.GetNextItemIndex=function(){var t=I.instance.saveableLevelData.levelIndex+1;return y.instance.GetAvailableItemByLevel(t+1)},l.GetNewlyItemComponent=function(){var t=this.GetCurrentNewlyItemIndex();return this.items[t]},l.GetNextItemComponent=function(){var t=this.GetNextItemIndex();return this.items[t]},l.GetNextItemPosition=function(){var t=this.mapScrollView.content.getPosition(),e=this.itemPositions[this.GetNextItemIndex()];return new h(t.x+e.x,e.y,e.z)},l.GetNewlyItemPosition=function(){var t=this.mapScrollView.content.getPosition(),e=this.itemPositions[this.GetCurrentNewlyItemIndex()];return new h(t.x+e.x,e.y,e.z)},l.GetNextItemUITransform=function(){return this.items[this.GetNextItemIndex()].UnlockedItemUITransform},l.IncreaseNextItemContentSize=function(){this.items[this.GetNextItemIndex()].IncreaseContentSize(1.3)},l.SetJustUnlockNextItem=function(){this.items[this.GetNextItemIndex()].SetJustUnlock(!0)},l.EnableNextItem=function(t){this.GetNextItemComponent().SetItemStatus(t)},l.EnableShakeNextItem=function(){this.GetNextItemComponent().ShakeItem()},l.DisableTutorial=function(){this.tutorial.active&&0==I.instance.tutorialCompleted&&(console.log("CollectionScreen: DisableTutorial"),I.instance.tutorialCompleted=1,this.tutorial.active=!1,this.GetNewlyItemComponent().node.active=!0,this.SetMapScrollViewInteract(!0),this.SetEnableMoveButtons(!0))},l.ShowTutorial=function(t){t&&(I.instance.tutorialCompleted||(this.SetupTutorialEnvironment(),this.CreateAndPositionNewlyItemClone(),console.log("CollectionScreen: ShowTutorial"),f(this.handTutorial).repeatForever(f().to(.3,{angle:-220},{easing:"sineInOut"}).to(.3,{angle:-250},{easing:"sineInOut"})).start()))},l.CreateAndPositionNewlyItemClone=function(){var t=this.GetNewlyItemPosition().add(new h(-75,75,0)),e=this.GetNewlyItemComponent().node,i=b(e);this.tutorialPointer.setPosition(t),i.setParent(this.animalTutorialHolder),i.setPosition(this.GetNewlyItemPosition()),i.getComponent(w).SetID(this.GetNewlyItemComponent().GetID()),e.active=!1},l.SetupTutorialEnvironment=function(){this.tutorial.active=!0,this.SetMapScrollViewInteract(!1),this.SetEnableMoveButtons(!1)},l.DisplayItemsCollectionMap=function(t){var e=this.GetCurrentNewlyItemIndex(),i=y.instance.GetIconSprites();console.log("DisplayItemsCollectionMap: NewlyItemIndex: "+e),this.InitializeCollectionItems(i,e,t),this.SetupInitialViewState(e,t)},l.SetupInitialViewState=function(t,e){var i=this;this.SetMapScrollViewInteract(!1),this.SetEnableMoveButtons(e),this.scheduleOnce((function(){i.MoveToItem(t),i.ShowTutorial(e)}),.01),this.SetCloseItemMapStatus(!1),this.SetCloseWaitingItemStatus(!1)},l.InitializeCollectionItems=function(t,e,i){var n=this;this.unlockedItemsCurrent=[].concat(I.instance.unlockedItems),console.log("[CollectionScreen] InitializeCollectionItems: unlockedItemsCurrent",this.unlockedItemsCurrent),t.forEach((function(t,o){var l=n.items[o].getComponent(w),a=n.CalculateRequiredLevel(o);n.InitItem(l,o,a,t,i),o<y.instance.GetInitialLevel&&l.DisableHead(),l.SetItemStatus(o<=e?g.Collected:g.Locked)}))},l.InitItem=function(t,e,i,n,o){t.SetID(e),t.SetIconSprite(n),t.ResetContentSize(),t.SetJustUnlock(!1),t.SetViewStoryInteract(o)},l.CalculateRequiredLevel=function(t){return t<y.instance.GetInitialLevel?1:(t-y.instance.GetInitialLevel+1)*y.instance.GetLevelPerReward},e}(S)).instance=null,ot=e((nt=Vt).prototype,"commonContainer",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),lt=e(nt.prototype,"waitingNewItemNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=e(nt.prototype,"waitingNewItemContainer",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=e(nt.prototype,"closeWaitingButton",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),st=e(nt.prototype,"congratulationVFX",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ct=e(nt.prototype,"newAnimalSprite",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ut=e(nt.prototype,"congratulationEffectController",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mt=e(nt.prototype,"animalStory",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pt=e(nt.prototype,"animalStoryContainer",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ft=e(nt.prototype,"lockAnimalStory",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=e(nt.prototype,"animalStorySprite",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=e(nt.prototype,"lockedAnimalStorySprite",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bt=e(nt.prototype,"closeStoryButton",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e(nt.prototype,"animalNameLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(nt.prototype,"huntCountLabel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=e(nt.prototype,"animalStoryLabel",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wt=e(nt.prototype,"levelRequiredLabel",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gt=e(nt.prototype,"itemCollectionMap",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=e(nt.prototype,"tutorial",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=e(nt.prototype,"tutorialPointer",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=e(nt.prototype,"animalTutorialHolder",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=e(nt.prototype,"handTutorial",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lt=e(nt.prototype,"closeItemMapButton",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mt=e(nt.prototype,"currentLevelLabel",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zt=e(nt.prototype,"backgroundUIOpacity",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bt=e(nt.prototype,"moveLeftButton",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Gt=e(nt.prototype,"moveRightButton",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ot=e(nt.prototype,"nextLevelButton",[tt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pt=e(nt.prototype,"mapScrollView",[et],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=nt))||it));l._RF.pop()}}}));

System.register("chunks:///_virtual/CongratulationEffectController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CollectionScreen.ts","./Item.ts","./AudioManager.ts"],(function(t){var e,i,n,o,a,r,l,s,c,f,u,m,d,p,N,h,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,l=t.Node,s=t.ParticleSystem2D,c=t.Vec3,f=t.UITransform,u=t.UIOpacity,m=t.tween,d=t.Sprite,p=t.Component},function(t){N=t.CollectionScreen},function(t){h=t.ItemStatus},function(t){w=t.default}],execute:function(){var g,y,b,A,S,C,P,v,x,E,I,O,z,_,R,k,U,M,Z;a._RF.push({},"f02d5YqgL5EHqK3gk6QMoeQ","CongratulationEffectController",void 0);var B=r.ccclass,D=r.property;t("CongratulationEffectController",(g=B("CongratulationEffectController"),y=D({type:l,visible:!0}),b=D({type:l,visible:!0}),A=D({type:l,visible:!0}),S=D({type:l,visible:!0}),C=D({type:l,visible:!0}),P=D({type:l,visible:!0}),v=D({type:s,visible:!0}),x=D({type:s,visible:!0}),g((O=e((I=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"newAnimalNode",O,o(e)),n(e,"textCongratulationNode",z,o(e)),n(e,"textNewAnimalNode",_,o(e)),n(e,"effectBackNode",R,o(e)),n(e,"effectNode",k,o(e)),n(e,"frame",U,o(e)),n(e,"confettiParticleSystem",M,o(e)),n(e,"starParticleSystem",Z,o(e)),e.textCongratulationNode_StartPosition=c.ZERO,e.textNewAnimalNode_StartPosition=c.ZERO,e.newAnimalNode_StartPosition=c.ZERO,e.newAnimalContentSize_StartSize=void 0,e.newAnimalNodeUI=void 0,e.newAnimalOpacity=void 0,e.frameOpacity=void 0,e}i(e,t);var a=e.prototype;return a.onLoad=function(){this.newAnimalNodeUI=this.newAnimalNode.getComponent(f),this.newAnimalOpacity=this.newAnimalNode.getComponent(u),this.frameOpacity=this.frame.getComponent(u),this.GetStartPosition(),m(this.effectBackNode).by(5,{eulerAngles:new c(0,0,360)}).repeatForever().start()},a.GetStartPosition=function(){this.textCongratulationNode_StartPosition=this.textCongratulationNode.getPosition(),this.textNewAnimalNode_StartPosition=this.textNewAnimalNode.getPosition(),this.newAnimalNode_StartPosition=this.newAnimalNode.getPosition()},a.PlayOpenEffect=function(){var t=this;return new Promise((function(e){t.ResetNewItemComponents(),t.confettiParticleSystem.resetSystem(),t.starParticleSystem.enabled=!0,m(t.textCongratulationNode).to(.25,{scale:new c(1.1,1.1,1.1)},{easing:"linear"}).then(m(t.textCongratulationNode).to(.25,{scale:c.ONE},{easing:"linear"})).call(e).start(),m(t.textNewAnimalNode).to(.25,{scale:c.ONE},{easing:"linear"}).start(),m(t.newAnimalNode).to(.25,{scale:new c(1.3,1.3,1.3)},{easing:"linear"}).start()}))},a.PlayCloseEffect=function(){var t=this;return new Promise((function(e){t.effectNode.active=!1,t.effectBackNode.active=!1,t.starParticleSystem.enabled=!1,m(t.frameOpacity).to(.2,{opacity:0},{easing:"linear"}).start(),m(t.frame).to(.2,{scale:c.ZERO},{easing:"linear"}).start(),m(t.textCongratulationNode).to(.2,{position:new c(0,500,0)},{easing:"linear"}).call(e).start(),m(t.textNewAnimalNode).to(.15,{position:new c(0,-500,0)},{easing:"linear"}).start();var i=N.instance.GetNextItemPosition(),n=t.newAnimalNode.getPosition(),o=i.subtract(n).normalize().multiplyScalar(-50),a=n.add(o);m(t.newAnimalNode).to(.15,{position:a,scale:new c(1.1,1.1,1.1)},{easing:"linear"}).to(.3,{position:i,scale:c.ONE},{easing:"linear"}).call((function(){t.scheduleOnce((function(){w.PlayEffect(w.instance.hitFX,!1)}),.3),t.ItemPositionEffect(),t.ItemContentSizeEffect(),e()})).start()}))},a.ItemPositionEffect=function(){var t=N.instance.GetNextItemPosition();m(this.newAnimalNode).to(.25,{position:t,scale:c.ONE},{easing:"linear"}).start()},a.ItemContentSizeEffect=function(){var t=this,e=N.instance.GetNextItemUITransform().contentSize,i=this.newAnimalNodeUI.contentSize,n={width:i.width,height:i.height};m(n).to(.25,{width:e.width,height:e.height},{onUpdate:function(e){t.newAnimalNodeUI.setContentSize(e.width,e.height)},onComplete:function(){m(t.newAnimalOpacity).to(.5,{opacity:0},{easing:"linear"}).start(),N.instance.EnableNextItem(h.Collected),N.instance.EnableShakeNextItem()}}).start()},a.ResetNewItemComponents=function(){this.textCongratulationNode.scale=c.ZERO,this.textNewAnimalNode.scale=c.ZERO,this.newAnimalNode.scale=c.ZERO,this.frame.scale=new c(2,2,2),this.effectBackNode.active=!0,this.effectNode.active=!0,this.textCongratulationNode.position=this.textCongratulationNode_StartPosition,this.textNewAnimalNode.position=this.textNewAnimalNode_StartPosition,this.newAnimalNode.position=this.newAnimalNode_StartPosition,this.newAnimalOpacity.opacity=255,this.frameOpacity.opacity=255,this.newAnimalNode.getComponent(d).sizeMode=d.SizeMode.TRIMMED},e}(p)).prototype,"newAnimalNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(I.prototype,"textCongratulationNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(I.prototype,"textNewAnimalNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(I.prototype,"effectBackNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(I.prototype,"effectNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(I.prototype,"frame",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(I.prototype,"confettiParticleSystem",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(I.prototype,"starParticleSystem",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=I))||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/constants.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"870071T0JlKEKWNB1jiXE4A","constants",void 0);n("PACKAGE_NAME","yandex-games-sdk"),n("L10N_BUNDLE",{NAME:"ysdk-i18n-bundle",BUNDLE_PATH:"translations"});t._RF.pop()}}}));

System.register("chunks:///_virtual/ConsumableItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,r,o,u,s,l,c,a,m,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){u=e.cclegacy,s=e._decorator,l=e.Button,c=e.Sprite,a=e.Label,m=e.SpriteFrame,b=e.Component}],execute:function(){var p,_,f,h,y,g,v,T,d,F,S,L,C;u._RF.push({},"016958v2nhDb6AsOSkbJ/JO","ConsumableItem",void 0);var z=s.ccclass,w=s.property;e("default",(p=z("ConsumableItem"),_=w({type:l,visible:!0}),f=w({type:c,visible:!0}),h=w({type:a,visible:!0}),y=w({type:m,visible:!0}),g=w({type:m,visible:!0}),p((d=t((T=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return t=e.call.apply(e,[this].concat(o))||this,i(t,"_btnConsume",d,r(t)),i(t,"_consumeBG",F,r(t)),i(t,"_consumeTimeLabel",S,r(t)),i(t,"_consumeSFNormal",L,r(t)),i(t,"_consumeSFAds",C,r(t)),t._curTime=-1,t}return n(t,e),o(t,[{key:"btnConsume",get:function(){return this._btnConsume}},{key:"consumeTimeLabel",get:function(){return this._consumeTimeLabel}},{key:"curTime",get:function(){return this._curTime},set:function(e){this._curTime=e,this._consumeTimeLabel.string=e.toString(),this._curTime>0?(this._consumeBG.spriteFrame=this._consumeSFNormal,this._consumeTimeLabel.node.active=!0):(this._consumeBG.spriteFrame=this._consumeSFAds,this._consumeTimeLabel.node.active=!1)}}]),t}(b)).prototype,"_btnConsume",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(T.prototype,"_consumeBG",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(T.prototype,"_consumeTimeLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(T.prototype,"_consumeSFNormal",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(T.prototype,"_consumeSFAds",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=T))||v));u._RF.pop()}}}));

System.register("chunks:///_virtual/CountDownTimer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e,s,n,u,o,r,h,l;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,s=i.initializerDefineProperty,n=i.assertThisInitialized,u=i.createClass},function(i){o=i.cclegacy,r=i._decorator,h=i.Sprite,l=i.Component}],execute:function(){var c,m,T,_,a;o._RF.push({},"cdca7jPKntN97sAbzrzBMC7","CountDownTimer",void 0);var d=r.ccclass,C=r.property;i("default",(c=d("CountDownTimer"),m=C({type:h,visible:!0}),c((a=t((_=function(i){function t(){for(var t,e=arguments.length,u=new Array(e),o=0;o<e;o++)u[o]=arguments[o];return(t=i.call.apply(i,[this].concat(u))||this).isDebug=!1,s(t,"_timeBar",a,n(t)),t._startTime=0,t._curTime=0,t._isInitilized=!1,t._isScheduled=!1,t.OnTimeOut=null,t.speedMultiplier=1,t}e(t,i);var o=t.prototype;return o.log=function(i){this.isDebug&&console.log(i)},o.Init=function(i,t){this.log("[TimeCounter] | Init | startTime: "+i),this._startTime=i,this.OnTimeOut=t,this._curTime=i,this._isInitilized=!0},o.SetCurTime=function(i){this.log("[TimeCounter] | SetCurTime | curTime: "+i),this._isInitilized?(this._curTime=i,this._curTime<0&&(this._curTime=0),this._curTime>this._startTime&&(this._curTime=this._startTime),this._timeBar.fillRange=this._curTime/this._startTime,this.log("[TimeCounter] | SetCurTime | this._curTime: "+this._curTime)):this.log("[TimeCounter] | SetCurTime | Initilized: "+this._isInitilized)},o.PauseCountDown=function(){this.log("[TimeCounter] | PauseCountDown"),this._isInitilized?this.isTimeOut?this.log("[TimeCounter] | PauseCountDown | ERROR | isTimeOut: "+this.isTimeOut):this.UnSchedule():this.log("[TimeCounter] | PauseCountDown | ERROR | _isInitilized: "+this._isInitilized)},o.ResumeCountDown=function(){this.log("[TimeCounter] | ResumeCountDown"),this._isInitilized?this.isTimeOut?this.log("[TimeCounter] | ResumeCountDown | ERROR | isTimeOut: "+this.isTimeOut):this.Schedule():this.log("[TimeCounter] | ResumeCountDown | ERROR | _isInitilized: "+this._isInitilized)},o.Reset=function(){this.log("[TimeCounter] | Reset"),this.UnSchedule(),this._startTime=0,this._curTime=0,this._isScheduled=!1,this._timeBar.fillRange=1},o.Schedule=function(){this.log("[TimeCounter] | Schedule"),this._isScheduled||(this.schedule(this.CountDown,1/60),this._isScheduled=!0,this.log("[TimeCounter] | Schedule | DONE"))},o.UnSchedule=function(){this.log("[TimeCounter] | UnSchedule"),this._isScheduled&&(this.unschedule(this.CountDown),this._isScheduled=!1,this.log("[TimeCounter] | UnSchedule | DONE"))},o.CountDown=function(i){this.log("CountDown: "+i),this._curTime-=i*this.speedMultiplier,this._timeBar.fillRange=this._curTime/this._startTime,this._curTime<=0&&(this._curTime=0,this.unschedule(this.CountDown),this._isScheduled=!1,null!=this.OnTimeOut&&this.OnTimeOut(),this.log("CountDown | Finished"))},u(t,[{key:"startTime",get:function(){return this._startTime}},{key:"curTime",get:function(){return this._curTime}},{key:"isTimeOut",get:function(){return this._curTime<=0}},{key:"isInitilized",get:function(){return this._isInitilized}}]),t}(l)).prototype,"_timeBar",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=_))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DevTools.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./OnetMatrix.ts","./CountDownTimer.ts"],(function(t){var e,i,n,o,s,l,r,a,c,u,p,h,_,g,b,v,d,k,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){l=t.cclegacy,r=t._decorator,a=t.Node,c=t.Button,u=t.EditBox,p=t.Toggle,h=t.Component,_=t.log,g=t.SpriteFrame,b=t.assetManager,v=t.sys},function(t){d=t.default},function(t){k=t.default},function(t){f=t.default}],execute:function(){var y,m,w,A,C,D,S,T,P,O,E,x,z,Q,R,N,L,B,q,I,M,F,H,J,U,j,G,K,Z,V,W,X,Y,$;l._RF.push({},"5a5f6afnO9KLoiRhQP0DkSZ","DevTools",void 0);var tt=r.ccclass,et=r.property;t("default",(y=tt("DevTools"),m=et({type:a,visible:!0}),w=et({type:c,visible:!0}),A=et({type:a,visible:!0}),C=et({type:c,visible:!0}),D=et({type:a,visible:!0}),S=et({type:a,visible:!0}),T=et({type:c,visible:!0}),P=et({type:c,visible:!0}),O=et({type:u,visible:!0}),E=et({type:p,visible:!0}),x=et({type:p,visible:!0}),z=et({type:c,visible:!0}),Q=et({type:c,visible:!0}),R=et({type:p,visible:!0}),N=et({type:f,visible:!0}),y((($=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),l=0;l<i;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,n(e,"_components",q,o(e)),n(e,"_btnClose",I,o(e)),n(e,"_passwordComponent",M,o(e)),n(e,"_btnPasswordEnter",F,o(e)),n(e,"_devComponent",H,o(e)),n(e,"_quickComponents",J,o(e)),n(e,"_btnQuick",U,o(e)),n(e,"_btnQuit",j,o(e)),n(e,"_passwordBox",G,o(e)),n(e,"_toggleAutoPlay",K,o(e)),n(e,"_toggleSkipAds",Z,o(e)),n(e,"_btnNextLevel",V,o(e)),n(e,"_btnResetAllData",W,o(e)),n(e,"_toggleDownTime",X,o(e)),n(e,"_countDownTimer",Y,o(e)),e._clickRequire=5,e._clickCount=0,e._isUnlocked=!1,e._isSkipSave=!1,e._isQuick=!1,e}i(e,t);var l=e.prototype;return l.onLoad=function(){null==e.instance?e.instance=this:this.destroy()},l.start=function(){this._toggleAutoPlay.isChecked=this.isAutoPlay,this._toggleSkipAds.isChecked=this.isSkipAds,this._toggleDownTime.isChecked=!1,this._toggleAutoPlay.checkEvents=[];var t=new h.EventHandler;t.target=this.node,t.component="DevTools",t.handler="OnToggleAutoPlay",t.customEventData="",this._toggleAutoPlay.checkEvents.push(t),this._toggleSkipAds.checkEvents=[];var e=new h.EventHandler;e.target=this.node,e.component="DevTools",e.handler="OnToggleSkipAds",e.customEventData="",this._toggleSkipAds.checkEvents.push(e),this._btnPasswordEnter.clickEvents=[],this._btnPasswordEnter.node.on("click",this.OnPasswordEnter,this),this._btnResetAllData.clickEvents=[],this._btnResetAllData.node.on("click",this.OnResetAllData,this),this._btnNextLevel.clickEvents=[],this._btnNextLevel.node.on("click",this.OnNextLevel,this),this._btnClose.clickEvents=[],this._btnClose.node.on("click",this.Close,this),this._btnQuick.clickEvents=[],this._btnQuick.node.on("click",this.Open,this),this._btnQuit.clickEvents=[],this._btnQuit.node.on("click",this.Quit,this),this._toggleDownTime.clickEvents=[],this._toggleDownTime.node.on("toggle",this.OnChangeDownTime,this)},l.OnChangeDownTime=function(t){t.isChecked?this._countDownTimer.speedMultiplier=50:this._countDownTimer.speedMultiplier=1},l.Open=function(){this._devComponent.active=this._isUnlocked,this._passwordComponent.active=!this._isUnlocked,this._components.active=!0,this._quickComponents.active=!1,this._isQuick=!0},l.Close=function(){this._passwordBox.string="",this._passwordComponent.active=!1,this._devComponent.active=!1,this._components.active=!1,1==this._isQuick?this._quickComponents.active=!0:this._quickComponents.active=!1},l.Quit=function(){this._passwordBox.string="",this._passwordComponent.active=!1,this._devComponent.active=!1,this._components.active=!1,this._quickComponents.active=!1,this._isQuick=!1},l.OnDevToolsClicked=function(){this._clickCount+=1,this._clickCount==this._clickRequire&&(this._clickCount=0,this.Open())},l.OnPasswordEnter=function(){"MinhHi"==this._passwordBox.string&&(this._passwordBox.string="",this._passwordComponent.active=!1,this._devComponent.active=!0,this._isUnlocked=!0)},l.OnToggleAutoPlay=function(){_("[DevTools] | OnToggleAutoPlay"),this.isAutoPlay=this._toggleAutoPlay.isChecked,this._toggleAutoPlay.isChecked?k.instance.EnableAutoPlay():k.instance.DisableAutoPlay()},l.OnToggleSkipAds=function(){_("[DevTools] | OnToggleSkipAds"),this.isSkipAds=this._toggleSkipAds.isChecked},l.OnNextLevel=function(){_("[DevTools] | OnNextLevel"),k.instance.OnNextLevel()},l.GetAvatar=function(t){var e=new g;return b.loadRemote(t,{ext:".jpg"},(function(t,i){if(t)return console.error("Error loading avatar:",t),null;e.texture=i})),e},l.OnResetAllData=function(){_("[DevTools] | OnResetAllData"),this.isAutoPlay=!1,this._toggleAutoPlay.isChecked=this.isAutoPlay,this._isSkipSave=!0,d.instance.ResetAllData(),FBInstant.quit()},s(e,[{key:"isAutoPlay",get:function(){var t=v.localStorage.getItem("isAutoPlay");return null!=t&&""!=t&&"undefined"!=t&&JSON.parse(t)},set:function(t){v.localStorage.setItem("isAutoPlay",JSON.stringify(t))}},{key:"isSkipAds",get:function(){var t=v.localStorage.getItem("isSkipAds");return null!=t&&""!=t&&"undefined"!=t&&JSON.parse(t)},set:function(t){v.localStorage.setItem("isSkipAds",JSON.stringify(t))}},{key:"isSkipSave",get:function(){return this._isSkipSave}}]),e}(h)).instance=null,q=e((B=$).prototype,"_components",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(B.prototype,"_btnClose",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(B.prototype,"_passwordComponent",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(B.prototype,"_btnPasswordEnter",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(B.prototype,"_devComponent",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(B.prototype,"_quickComponents",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(B.prototype,"_btnQuick",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(B.prototype,"_btnQuit",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(B.prototype,"_passwordBox",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(B.prototype,"_toggleAutoPlay",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=e(B.prototype,"_toggleSkipAds",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(B.prototype,"_btnNextLevel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(B.prototype,"_btnResetAllData",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(B.prototype,"_toggleDownTime",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(B.prototype,"_countDownTimer",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=B))||L));l._RF.pop()}}}));

System.register("chunks:///_virtual/DevToolsPlayLevel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelManager.ts","./OnetMatrix.ts"],(function(e){var t,n,l,i,r,a,o,s,c,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,l=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,o=e.EditBox,s=e.Button,c=e.Component},function(e){u=e.default},function(e){p=e.default}],execute:function(){var v,y,f,b,h,d,P;r._RF.push({},"11b60ZIsJJEvajyyUmGLu7E","DevToolsPlayLevel",void 0);var L=a.ccclass,_=a.property;e("default",(v=L("DevToolsPlayLevel"),y=_({type:o,visible:!0}),f=_({type:s,visible:!0}),v((d=t((h=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,l(t,"_levelInputBox",d,i(t)),l(t,"_btnPlay",P,i(t)),t}n(t,e);var r=t.prototype;return r.start=function(){this._btnPlay.clickEvents=[],this._btnPlay.node.on("click",this.OnPlayLevelClicked,this)},r.OnPlayLevelClicked=function(){var e=parseInt(this._levelInputBox.string)-1;(e>=0||e<u.instance.levelDatasLength)&&p.instance.PlayLevel(e)},t}(c)).prototype,"_levelInputBox",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(h.prototype,"_btnPlay",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=h))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/DialogScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts"],(function(t){var e,n,i,o,r,a,c,l,s,u,p,b,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Node,l=t.UIOpacity,s=t.Button,u=t.Vec3,p=t.tween,b=t.Component},function(t){f=t.default}],execute:function(){var y,d,h,_,g,v,C,m,k,w,O,D;r._RF.push({},"1a17cHf0GNK4pFFiuF3l6Kk","DialogScreen",void 0);var z=a.ccclass,F=a.property;t("DialogScreen",(y=z("DialogScreen"),d=F({type:c,visible:!0}),h=F({type:c,visible:!0}),_=F({type:l,visible:!0}),g=F({type:s,visible:!0}),y(((D=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"_components",m,o(e)),i(e,"_board",k,o(e)),i(e,"_backgroundUIOpacity",w,o(e)),i(e,"_btnClose",O,o(e)),e.OnClose=null,e}n(e,t);var r=e.prototype;return r.onLoad=function(){null==e.instance?e.instance=this:this.destroy()},r.start=function(){var t=this;this._btnClose.node.on("click",(function(){t.OnCloseClicked()}),this)},r.Open=function(){this._components.active=!0,this._board.setScale(new u(0,0,0)),p(this._board).to(.2,{scale:new u(1,1,1)}).start(),p(this._backgroundUIOpacity).to(.2,{opacity:204}).start()},r.Close=function(){var t=this;p(this._backgroundUIOpacity).to(.2,{opacity:0}).start(),p(this._board).to(.2,{scale:new u(0,0,0)}).call((function(){t._components.active=!1})).start()},r.OnCloseClicked=function(){f.PlayEffect(f.instance.buttonFX,!1),this.Close()},e}(b)).instance=null,m=e((C=D).prototype,"_components",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(C.prototype,"_board",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(C.prototype,"_backgroundUIOpacity",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(C.prototype,"_btnClose",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=C))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/EffectsManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,i,r,a,o,l,c,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Prefab,c=e.instantiate,u=e.Component}],execute:function(){var s,f,p,b,P,y,v,d,g,h;a._RF.push({},"40053cvDI9Dg4fakHGPPlP3","EffectsManager",void 0);var _=o.ccclass,D=o.property;e("default",(s=_("EffectsManager"),f=D({type:l,visible:!0}),p=D({type:l,visible:!0}),b=D({type:l,visible:!0}),s(((h=function(e){function n(){for(var n,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,i(n,"_clickedPrefab",v,r(n)),i(n,"_linePrefab",d,r(n)),i(n,"_explosionPrefab",g,r(n)),n}t(n,e);var a=n.prototype;return a.onLoad=function(){null==n.instance?n.instance=this:this.destroy()},a.GetLine=function(e,n){var t=c(this._linePrefab);return t.setParent(this.node),t.setPosition(e),t.setRotation(n),t},a.HorizontalDraw=function(e,n){},a.VerticalDraw=function(e,n){},a.ObjectiveDraw=function(e,n){},a.SetPointer=function(e,n){},a.OnClickedCallback=function(e){},n}(u)).instance=null,v=n((y=h).prototype,"_clickedPrefab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=n(y.prototype,"_linePrefab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=n(y.prototype,"_explosionPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=y))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/facebook-instant-games-tests.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"cb690LomfxESptZuhw2uOG7","facebook-instant-games-tests",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/FBContextService.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,r,i,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.resources,i=t.TextAsset,c=t.Component}],execute:function(){var s,a;n._RF.push({},"3d517GuQyRIFpQS+E6UUzsU","FBContextService",void 0);var l=o.ccclass;o.property,t("FBContextService",l("FBContextService")(((a=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this).currentContext=null,e._imgText=null,e}e(n,t);var o=n.prototype;return o.onLoad=function(){null==n.instance?n.instance=this:this.destroy()},o.start=function(){this.EnsureContext(),this.LoadInviteImageText()},o.EnsureContext=function(){var t=FBInstant.context.getID();t?(console.log("[FBContextService] Already have Context ID when entering game."),this.currentContext=t,this.GetListPlayersContext()):console.log("[FBContextService] No Context ID when entering game. ")},o.LoadInviteImageText=function(){var t=this;r.load("Images/ImageInvite",i,(function(e,n){e?console.error("Error loading text file:",e):(t._imgText=n.toString(),console.log("ImageInvite: "+t._imgText))}))},o.InviteFriendsContext=function(){"undefined"!=typeof FBInstant?FBInstant.inviteAsync({image:this._imgText,text:{default:"Play game with me!",localizations:{en_US:"Play game with me!",es_VN:"Chơi game cùng mình nhé!"}},data:{myReplayData:"..."}}).then((function(){})).catch((function(t){console.error("Error when Invite Friends: "+t)})):console.log("[FBContextService] | FBInstant undefined")},o.GetContextId=function(){return this.currentContext},o.GetListPlayersContext=function(){FBInstant.context.getPlayersAsync().then((function(t){t.length>0?(console.log("List players in current context"),t.forEach((function(t){console.log("ID: ",t.getID()),console.log("Name:",t.getName()),console.log("Avatar URL:",t.getPhoto())}))):console.log("No players in current context")})).catch((function(t){console.error("Error when get list players: "+t)}))},n}(c)).instance=null,s=a))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/FBFriendAccess.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r,s,c,o;return{setters:[function(e){n=e.inheritsLoose,t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,o=e.Component}],execute:function(){var i,a;s._RF.push({},"c6f771fsnhAQ6M+aFTL5EN7","FBFriendAccess",void 0);var u=c.ccclass,p=(c.property,e("FBFriendAccess",u("FBFriendAccess")(((a=function(e){function s(){return e.apply(this,arguments)||this}n(s,e);var c=s.prototype;return c.onLoad=function(){null==s.instance?s.instance=this:this.destroy()},c.GetFriendAccesses=function(){var e=t(r().mark((function e(){var n,t=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!=typeof FBInstant){e.next=3;break}return console.log("FBFriendAccess: FBInstant is undefined |FAIL|"),e.abrupt("return",[]);case 3:return n=[],e.prev=4,e.next=7,FBInstant.player.getConnectedPlayersAsync();case 7:e.sent.forEach((function(e){n.push(t.GetFriendInformation(e))})),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(4),console.error("Error fetching connected players:",e.t0),e.abrupt("return",[]);case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),c.GetFriendInformation=function(e){return new p(e.getID(),e.getName(),e.getPhoto())},s}(o)).instance=null,i=a))||i),e("Friend",(function(e,n,t){this.id=void 0,this.name=void 0,this.photo=void 0,this.id=e,this.name=n,this.photo=t})));s._RF.pop()}}}));

System.register("chunks:///_virtual/FBRankingService.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,o,a,s;return{setters:[function(e){t=e.inheritsLoose,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){o=e.cclegacy,a=e._decorator,s=e.Component}],execute:function(){var c,i;o._RF.push({},"ee88aPurTBOqbM+yUd//FSi","FBRankingService",void 0);var u=a.ccclass;a.property,e("FBRankingService",u("FBRankingService")(((i=function(e){function o(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).LEADERBOARD_RANKING="game_ranking",t}t(o,e);var a=o.prototype;return a.Onload=function(){null==o.instance?o.instance=this:this.destroy()},a.start=function(){},a.showRanking=function(){var e=this;FBInstant.context.getID()?(console.error("Context ID is available"),this.testLeaderboard()):FBInstant.context.chooseAsync().then((function(){console.log("[FBRankingservice] Context group created with ID:",FBInstant.context.getID()),e.testLeaderboard()})).catch((function(e){console.error("[FBRankingservice] Error while creating context:",e)}))},a.testLeaderboard=function(){if("undefined"!=typeof FBInstant)try{var e=FBInstant.context.getID();if(console.log("Context ID: "+e),!e)return void console.error("Context ID is not available!");var t=this.LEADERBOARD_RANKING+"."+e;this.submitScores(100,t),this.getLeaderboardEntries(5,t)}catch(e){console.error("[FBRankingservice] Error testing leaderboard: "+e)}else console.log("FBInstant is not available")},a.submitScores=function(e,t){FBInstant.getLeaderboardAsync(t).then((function(t){return console.log(t.getName()),t.setScoreAsync(e,'{name: "Thinh", level: 3}')})).then((function(){return console.log("[FBRankingservice] Successfully submitted test score")})).catch((function(e){return console.error("[FBRankingservice] "+JSON.stringify(e))}))},a.getLeaderboardEntries=function(e,t){FBInstant.getLeaderboardAsync(t).then((function(t){return t.getEntriesAsync(e,0)})).then((function(e){console.log("Successfully retrieved leaderboard entries:"),console.log(e.length);for(var t=0;t<e.length;t++)console.log(e[t].getScore()),console.log(e[t].getExtraData())})).catch((function(e){return console.error("[FBRankingservice] "+JSON.stringify(e))}))},a.SubmitScore=function(){var e=n(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,FBInstant.getLeaderboardAsync(this.LEADERBOARD_RANKING);case 3:return n=e.sent,e.next=6,n.setScoreAsync(t);case 6:console.log("Score submitted successfully"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error submitting score: ",e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),a.GetTopRankings=function(){var e=n(r().mark((function e(t){var n,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=30),e.prev=1,e.next=4,FBInstant.getLeaderboardAsync(this.LEADERBOARD_RANKING);case 4:return n=e.sent,e.next=7,n.getEntriesAsync(t,0);case 7:return o=e.sent,e.abrupt("return",o.map((function(e){return{rank:e.getRank(),playerName:e.getPlayer().getName(),playerPhoto:e.getPlayer().getPhoto(),score:e.getScore()}})));case 11:return e.prev=11,e.t0=e.catch(1),console.error("Error getting rankings: ",e.t0),e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),a.GetPlayerRank=function(){var e=n(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,FBInstant.getLeaderboardAsync(this.LEADERBOARD_RANKING);case 3:return t=e.sent,e.next=6,t.getPlayerEntryAsync();case 6:return n=e.sent,e.abrupt("return",n.getRank());case 10:return e.prev=10,e.t0=e.catch(0),console.error("Error getting player rank: ",e.t0),e.abrupt("return",0);case 14:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),o}(s)).instance=null,c=i))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/FiveEnhancedScrollViewY.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,s,n,o,h,m,r,l,p,a,c,_,g,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){h=t.cclegacy,m=t._decorator,r=t.ScrollView,l=t.Node,p=t.Prefab,a=t.instantiate,c=t.UITransform,_=t.Size,g=t.v2,u=t.Component}],execute:function(){var I,d,f,v,y,w,b,P,S,C,L,Y,z;h._RF.push({},"68d5aPQXA1JDpaK4kLcIlqL","FiveEnhancedScrollViewY",void 0);var x=m.ccclass,D=m.property;t("default",(I=x("FiveEnhancedScrollViewY"),d=D({type:r,visible:!0}),f=D({type:l,visible:!0}),v=D({type:l,visible:!0}),y=D({type:p,visible:!0}),w=D({visible:!0}),I((S=e((P=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),h=0;h<i;h++)o[h]=arguments[h];return e=t.call.apply(t,[this].concat(o))||this,s(e,"_scrollView",S,n(e)),s(e,"_view",C,n(e)),s(e,"_contents",L,n(e)),s(e,"_itemPrefab",Y,n(e)),s(e,"spacingY",z,n(e)),e._type=void 0,e._rowItemCounts=void 0,e._items=[],e._itemsLength=0,e._topMax=void 0,e._bottomMax=void 0,e._lastListY=void 0,e._itemHeight=void 0,e._maxItems=void 0,e.OnUpdateItem=null,e.tempItem=null,e.tempItemPos=null,e.tempNewId=0,e}i(e,t);var h=e.prototype;return h.Init=function(t,e){this._type=t,this._maxItems=e;var i=a(this._itemPrefab).getComponent(this._type);this._itemHeight=i.node.getComponent(c).contentSize.height,this._rowItemCounts=Math.ceil(this._view.getComponent(c).contentSize.height/(this._itemHeight+this.spacingY));for(var s=0;s<this._rowItemCounts+10;++s)null!=this.OnUpdateItem&&this.OnUpdateItem(i,s),i.itemScrollID=s,this._items.push(i),this._contents.addChild(i.node),i.node.getPosition().y=-(this._itemHeight/2+s*(this._itemHeight+this.spacingY)),s<this._rowItemCounts+9&&(i=a(this._itemPrefab).getComponent(this._type));this._itemsLength=this._items.length,this._contents.getComponent(c).setContentSize(new _(this._contents.getComponent(c).contentSize.width,20+this._maxItems*this._itemHeight+this._maxItems*this.spacingY)),this._topMax=5*this._itemHeight+4*this.spacingY,this._bottomMax=-(this._view.getComponent(c).contentSize.height+this._topMax),this._lastListY=this._contents.getPosition().y},h.OnScroll=function(){for(var t=0;t<this._itemsLength;t++)if(this.tempItem=this._items[t],this.tempItemPos=this._contents.getComponent(c).convertToWorldSpaceAR(this.tempItem.node.position),this.tempItemPos.y-=this._view.getComponent(c).contentSize.height/2,this.tempItemPos=this._view.getComponent(c).convertToNodeSpaceAR(this.tempItemPos),this._contents.getPosition().y>this._lastListY){if(this.tempItemPos.y>this._topMax){if(this.tempNewId=this.tempItem.itemScrollID+this._itemsLength,this.tempNewId>=this._maxItems)return;this.tempItem.itemScrollID=this.tempNewId,this.tempItem.node.getPosition().y=this.tempItem.node.getPosition().y-this._itemsLength*this._itemHeight-this._itemsLength*this.spacingY,null!=this.OnUpdateItem&&this.OnUpdateItem(this.tempItem,this.tempItem.itemScrollID)}}else if(this.tempItemPos.y<this._bottomMax){if(this.tempNewId=this.tempItem.itemScrollID-this._itemsLength,this.tempNewId<0)return;this.tempItem.itemScrollID=this.tempNewId,this.tempItem.node.getPosition().y=this.tempItem.node.getPosition().y+this._itemsLength*this._itemHeight+this._itemsLength*this.spacingY,null!=this.OnUpdateItem&&this.OnUpdateItem(this.tempItem,this.tempItem.itemScrollID)}this._lastListY=this._contents.getPosition().y},h.ScrollTo=function(t,e){this._scrollView.scrollTo(g(0,t),e)},o(e,[{key:"items",get:function(){return this._items}}]),e}(u)).prototype,"_scrollView",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(P.prototype,"_view",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(P.prototype,"_contents",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(P.prototype,"_itemPrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(P.prototype,"spacingY",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),b=P))||b));h._RF.pop()}}}));

System.register("chunks:///_virtual/FiveNodePool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,s;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,o=t.Vec3,s=t.instantiate}],execute:function(){i._RF.push({},"0b98aXDuF5MzrNelYO/EQSP","FiveNodePool",void 0);t("default",function(){function t(t,e,i,o,s){this._poolName=void 0,this._type=void 0,this._prefab=void 0,this._container=void 0,this._poolCount=void 0,this._isInitialized=!1,this._itemsPool=[],this._itemsUsed=[],this._type=t,this._poolName=e,this._prefab=i,this._container=o,this._poolCount=s}var i=t.prototype;return i.Initialize=function(){if(!this._isInitialized){this._isInitialized=!0;for(var t=0;t<this._poolCount;t++)this._itemsPool.push(this.CreateNewItem(this._container,!1))}},i.Provide=function(t,e,i){void 0===t&&(t=null),void 0===e&&(e=!1),void 0===i&&(i=!1);var s=null,n=null!=t?t:this._container;return this._itemsPool.length>0?(s=this._itemsPool.pop()).node.setParent(n):s=this.CreateNewItem(n,i),s.node.active=i,this._itemsUsed.push(s),e&&(s.node.setRotationFromEuler(0,0,0),s.node.setPosition(o.ZERO),s.node.setScale(new o(1,1,1))),s},i.CreateNewItem=function(t,e){var i=s(this._prefab).getComponent(this._type);return i.node.setParent(t),i.node.active=e,i},i.Collect=function(t){if(null!=t&&null!=t){if(-1!==this._itemsUsed.indexOf(t)){t.node.active=!1,t.node.setParent(this._container);var e=this._itemsUsed.indexOf(t);this._itemsUsed.splice(e,1),this._itemsPool.push(t)}}else console.error(this._poolName+" | Collect | Something went wrong")},i.CollectAll=function(){console.log(this._poolName+" | CollectAll | this._itemsUsed: "+this._itemsUsed.length);try{for(var t=0;t<this._itemsUsed.length;t++)this._itemsUsed[t].node.active=!1,this._itemsUsed[t].node.setParent(this._container),this._itemsPool.push(this._itemsUsed[t]);this._itemsUsed=[]}catch(t){console.error(this._poolName+" | CollectAll | ERROR: "+t)}},e(t,[{key:"poolName",get:function(){return this._poolName}},{key:"isInitialized",get:function(){return this._isInitialized}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/FriendInformation.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,r,a,o,l,s,c,u,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.SpriteFrame,s=e.Label,c=e.tween,u=e.Vec3,p=e.Component}],execute:function(){var f,b,d,g,m,v,y,h,L;a._RF.push({},"4bfaa+1GKhO0pKgerIp7StQ","FriendInformation",void 0);var I=o.ccclass,S=o.property;e("FriendInformation",(f=I("FriendInformation"),b=S({type:l,visible:!0}),d=S({type:s,visible:!0}),g=S({type:s,visible:!0}),f((y=t((v=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"avatarSprite",y,r(t)),i(t,"idLabel",h,r(t)),i(t,"nameLabel",L,r(t)),t}n(t,e);var a=t.prototype;return a.SetInformation=function(e,t,n){this.avatarSprite=e,this.idLabel.string=n,this.nameLabel.string=t},a.onLoad=function(){this.startScaling()},a.startScaling=function(){c(this.node).repeatForever(c().to(1.25,{scale:new u(1.1,1.1,1.1)},{easing:"sineInOut"}).to(1.25,{scale:new u(1,1,1)},{easing:"sineInOut"})).start()},t}(p)).prototype,"avatarSprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=t(v.prototype,"idLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(v.prototype,"nameLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=v))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ysdk.ts","./localization.ts"],(function(t){var e,a,s,n,i,l,o,r,u,m;return{setters:[function(t){e=t.inheritsLoose,a=t.createClass,s=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){i=t.cclegacy,l=t._decorator,o=t.sys,r=t.Component},function(t){u=t.ysdk},function(t){m=t.LanguageCode}],execute:function(){var h,c;i._RF.push({},"982366mb15Kh4DfdVXv5HqS","GameData",void 0);var g=l.ccclass,T=(l.property,t("GameDataKeys",{SAVEABLE_LEVEL_DATA:"saveableLevelData",FIND_TIMES:"findTimes",SHUFFLING_TIMES:"shufflingTimes",CHANGE_THEME_TIME:"changeThemeTime",HUNT_COUNTS:"huntCounts",TUTORIAL_COMPLETED:"tutorialCompleted",UNLOCKED_ITEMS:"unlockedItems",LAST_SAVE_TIMESTAMP:"lastSaveTimestamp",LANGUAGE:"language"}));t("default",g("GameData")(((c=function(t){function i(){for(var e,a=arguments.length,s=new Array(a),n=0;n<a;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))||this).isDebug=!0,e.playerPresent=void 0,e._saveableLevelData=null,e._findTimes=5,e._shufflingTimes=5,e._changeThemeTime=5,e._unlockedItems=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],e._tutorialCompleted=0,e._huntCounts={},e._lastSaveTimestamp=0,e._language=m.EN,e}e(i,t);var l=i.prototype;return l.log=function(t){this.isDebug&&console.log(t)},l.onLoad=function(){null==i.instance?i.instance=this:this.destroy()},l.IncrementHuntCount=function(t){this._huntCounts[t]||(this._huntCounts[t]=0),this._huntCounts[t]+=1,this.huntCounts=this._huntCounts,this.log("[GameData] | incrementHuntCount | item_id: "+t+" | count: "+this._huntCounts[t])},l.GetHuntCount=function(t){return this._huntCounts[t]||0},l.SaveLocalAllData=function(){var t=Date.now();o.localStorage.setItem(T.SAVEABLE_LEVEL_DATA,JSON.stringify(this._saveableLevelData)),o.localStorage.setItem(T.FIND_TIMES,JSON.stringify(this.findTimes)),o.localStorage.setItem(T.SHUFFLING_TIMES,JSON.stringify(this.shufflingTimes)),o.localStorage.setItem(T.CHANGE_THEME_TIME,JSON.stringify(this._changeThemeTime)),o.localStorage.setItem(T.UNLOCKED_ITEMS,JSON.stringify(this._unlockedItems)),o.localStorage.setItem(T.TUTORIAL_COMPLETED,JSON.stringify(this._tutorialCompleted)),o.localStorage.setItem(T.HUNT_COUNTS,JSON.stringify(this._huntCounts)),o.localStorage.setItem(T.LANGUAGE,JSON.stringify(this._language)),o.localStorage.setItem(T.LAST_SAVE_TIMESTAMP,JSON.stringify(t))},l.GetLocalData=function(){try{return{saveableLevelData:JSON.parse(o.localStorage.getItem(T.SAVEABLE_LEVEL_DATA)||"{}"),findTimes:JSON.parse(o.localStorage.getItem(T.FIND_TIMES)||"0"),shufflingTimes:JSON.parse(o.localStorage.getItem(T.SHUFFLING_TIMES)||"0"),changeThemeTime:JSON.parse(o.localStorage.getItem(T.CHANGE_THEME_TIME)||"0"),huntCounts:JSON.parse(o.localStorage.getItem(T.HUNT_COUNTS)||"{}"),tutorialCompleted:JSON.parse(o.localStorage.getItem(T.TUTORIAL_COMPLETED)||"false"),unlockedItems:JSON.parse(o.localStorage.getItem(T.UNLOCKED_ITEMS)||"[]"),language:JSON.parse(o.localStorage.getItem(T.LANGUAGE))||m.EN,lastSaveTimestamp:JSON.parse(o.localStorage.getItem(T.LAST_SAVE_TIMESTAMP)||"0")}}catch(t){return this.log("[GameData] | GetLocalData | Local data error: "+t),{}}},l.SaveRemoteAllDataAsync=function(){var t=s(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.TrackYandexAndPlayerValid("SaveAllDataAsync")){t.next=2;break}return t.abrupt("return");case 2:return e={saveableLevelData:this._saveableLevelData,findTimes:this._findTimes,shufflingTimes:this._shufflingTimes,changeThemeTime:this._changeThemeTime,huntCounts:this._huntCounts,tutorialCompleted:this._tutorialCompleted,unlockedItems:this._unlockedItems,language:this._language,lastSaveTimestamp:Date.now()},t.prev=3,t.next=6,this.playerPresent.setData(e,!0);case 6:this.log("[GameData] | SaveAllDataAsync | SUCCEED"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),this.log("[GameData] | SaveAllDataAsync | ERROR: "+t.t0);case 12:case"end":return t.stop()}}),t,this,[[3,9]])})));return function(){return t.apply(this,arguments)}}(),l.GetAllDataAsync=function(){var t=s(n().mark((function t(){var e,a,s,i,l,o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.log("[GameData] | GetAllDataAsync"),"undefined"!=typeof YaGames){t.next=4;break}return this.log("[GameData] | GetAllDataAsync | Yandex SDK is undefined"),t.abrupt("return",Promise.resolve());case 4:return s={},i=this.GetLocalData(),t.prev=6,t.next=9,u.getPlayer();case 9:return this.playerPresent=t.sent,t.next=12,this.playerPresent.getData([T.SAVEABLE_LEVEL_DATA,T.FIND_TIMES,T.SHUFFLING_TIMES,T.CHANGE_THEME_TIME,T.HUNT_COUNTS,T.TUTORIAL_COMPLETED,T.UNLOCKED_ITEMS,T.LANGUAGE,T.LAST_SAVE_TIMESTAMP]);case 12:s=t.sent,t.next=18;break;case 15:t.prev=15,t.t0=t.catch(6),this.log("[GameData] | GetAllDataAsync | ERROR: "+t.t0);case 18:if(l=null!=(e=s.lastSaveTimestamp)?e:0,o=null!=(a=i.lastSaveTimestamp)?a:0,0!=l||0!=o){t.next=22;break}return t.abrupt("return",Promise.resolve());case 22:l>=o?(this.log("[GameData] | Remote data is newer. Using remote data."),this.ApplyGameData(s)):(this.log("[GameData] | Local data is newer or equal. Using local data."),this.ApplyGameData(i));case 23:case"end":return t.stop()}}),t,this,[[6,15]])})));return function(){return t.apply(this,arguments)}}(),l.TrackYandexAndPlayerValid=function(t){return console.log("[GameData] "+t+" called"),"undefined"!=typeof YaGames&&null!=this.playerPresent||(console.log("[GameData] | "+t+" | Yandex SDK not available or PlayerPresent is null"),!1)},l.ApplyGameData=function(t){var e,a,s,n,i,l,o,r,u;this._saveableLevelData=null!=(e=t.saveableLevelData)?e:this._saveableLevelData,this.log("[GameData] | ApplyGameData | saveableLevelData | SUCCEED | data: "+this._saveableLevelData),this._findTimes=null!=(a=t.findTimes)?a:this._findTimes,this.log("[GameData] | ApplyGameData | findTimes | SUCCEED | data: "+this._findTimes),this._shufflingTimes=null!=(s=t.shufflingTimes)?s:this._shufflingTimes,this.log("[GameData] | ApplyGameData | shufflingTimes | SUCCEED | data: "+this._shufflingTimes),this._changeThemeTime=null!=(n=t.changeThemeTime)?n:this._changeThemeTime,this.log("[GameData] | ApplyGameData | changeThemeTime | SUCCEED | data: "+this._changeThemeTime),this._huntCounts=null!=(i=t.huntCounts)?i:this._huntCounts,this.log("[GameData] | ApplyGameData | huntCounts | SUCCEED | data: "+JSON.stringify(this._huntCounts)),this._tutorialCompleted=null!=(l=t.tutorialCompleted)?l:this._tutorialCompleted,this.log("[GameData] | ApplyGameData | tutorialCompleted | SUCCEED | data: "+this._tutorialCompleted),this._unlockedItems=null!=(o=t.unlockedItems)?o:this._unlockedItems,this.log("[GameData] | ApplyGameData | unlockedItems | SUCCEED | data: "+JSON.stringify(this._unlockedItems)),this._language=null!=(r=t.language)?r:this._language,this.log("[GameData] | ApplyGameData | language | SUCCEED | data: "+JSON.stringify(this._language)),this._lastSaveTimestamp=null!=(u=t.lastSaveTimestamp)?u:this._lastSaveTimestamp,this.log("[GameData] | ApplyGameData | lastSaveTimestamp | SUCCEED | data: "+JSON.stringify(this._lastSaveTimestamp)),this.log("[GameData] | Applied data: "+JSON.stringify(t))},l.ResetAllData=function(){this.log("[GameData] | ResetAllData"),this.saveableLevelData=void 0,this.findTimes=5,this.shufflingTimes=5,this.changeThemeTime=5,this.unlockedItems=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],this.huntCounts={},this.tutorialCompleted=0,this.language=m.EN,this.lastSaveTimestamp=0},a(i,[{key:"saveableLevelData",get:function(){return this._saveableLevelData},set:function(t){this._saveableLevelData=t,o.localStorage.setItem(T.SAVEABLE_LEVEL_DATA,JSON.stringify(t)),this.lastSaveTimestamp=Date.now()}},{key:"findTimes",get:function(){return this._findTimes},set:function(t){this._findTimes=t,o.localStorage.setItem(T.FIND_TIMES,JSON.stringify(t)),this.lastSaveTimestamp=Date.now()}},{key:"shufflingTimes",get:function(){return this._shufflingTimes},set:function(t){this._shufflingTimes=t,o.localStorage.setItem(T.SHUFFLING_TIMES,JSON.stringify(t)),this.lastSaveTimestamp=Date.now()}},{key:"changeThemeTime",get:function(){return this._changeThemeTime},set:function(t){this._changeThemeTime=t,o.localStorage.setItem(T.CHANGE_THEME_TIME,JSON.stringify(t)),this.lastSaveTimestamp=Date.now()}},{key:"unlockedItems",get:function(){return this._unlockedItems},set:function(t){this._unlockedItems=t,o.localStorage.setItem(T.UNLOCKED_ITEMS,JSON.stringify(t)),this.lastSaveTimestamp=Date.now()}},{key:"tutorialCompleted",get:function(){return this._tutorialCompleted},set:function(t){this._tutorialCompleted=t,o.localStorage.setItem(T.TUTORIAL_COMPLETED,JSON.stringify(t)),this.lastSaveTimestamp=Date.now()}},{key:"huntCounts",get:function(){return this._huntCounts},set:function(t){this._huntCounts=t,o.localStorage.setItem(T.HUNT_COUNTS,JSON.stringify(t)),this.lastSaveTimestamp=Date.now()}},{key:"lastSaveTimestamp",get:function(){return this._lastSaveTimestamp},set:function(t){this._lastSaveTimestamp=t,o.localStorage.setItem(T.LAST_SAVE_TIMESTAMP,JSON.stringify(t))}},{key:"language",get:function(){return this._language},set:function(t){this._language=t,o.localStorage.setItem(T.LANGUAGE,JSON.stringify(t)),this.lastSaveTimestamp=Date.now()}},{key:"isAudio",get:function(){var t=o.localStorage.getItem("Onet.isAudio");return null==t||""==t||"undefined"==t||JSON.parse(t)},set:function(t){o.localStorage.setItem("Onet.isAudio",JSON.stringify(t))}}]),i}(r)).instance=null,h=c))||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/GameoverScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts"],(function(t){var e,n,i,r,o,a,c,l,u,s,p,b,y,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,c=t._decorator,l=t.Node,u=t.UIOpacity,s=t.Button,p=t.Vec3,b=t.tween,y=t.Component},function(t){f=t.default}],execute:function(){var d,_,v,h,g,m,w,C,k,z,R,S,A,I;a._RF.push({},"d05b5BQCURLra0p+xSqFSVr","GameoverScreen",void 0);var O=c.ccclass,U=c.property;t("default",(d=O("GameoverScreen"),_=U({type:l,visible:!0}),v=U({type:l,visible:!0}),h=U({type:u,visible:!0}),g=U({type:s,visible:!0}),m=U({type:s,visible:!0}),d(((I=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"_components",k,r(e)),i(e,"_board",z,r(e)),i(e,"_backgroundUIOpacity",R,r(e)),i(e,"_btnRetry",S,r(e)),i(e,"_btnContinueAds",A,r(e)),e}n(e,t);var a=e.prototype;return a.onLoad=function(){null==e.instance?e.instance=this:this.destroy()},a.Open=function(){this._components.active=!0,this._board.setScale(new p(0,0,0)),b(this._board).to(.2,{scale:new p(1,1,1)}).start(),b(this._backgroundUIOpacity).to(.2,{opacity:204}).start(),f.PlayEffect(f.instance.gameoverFX,!1)},a.Close=function(){var t=this;b(this._backgroundUIOpacity).to(.2,{opacity:0}).start(),b(this._board).to(.2,{scale:new p(0,0,0)}).call((function(){t._components.active=!1})).start()},o(e,[{key:"btnRetry",get:function(){return this._btnRetry}},{key:"btnContinueAds",get:function(){return this._btnContinueAds}}]),e}(y)).instance=null,k=e((C=I).prototype,"_components",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(C.prototype,"_board",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(C.prototype,"_backgroundUIOpacity",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(C.prototype,"_btnRetry",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(C.prototype,"_btnContinueAds",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=C))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/GMToolOpen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DevTools.ts"],(function(n){var t,e,o,i,r,s,c,l,u;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){r=n.cclegacy,s=n._decorator,c=n.Button,l=n.Component},function(n){u=n.default}],execute:function(){var a,p,b,f,h,O;r._RF.push({},"782c0Q9ys1CsrdWoBoD9Me3","GMToolOpen",void 0);var d=s.ccclass,m=s.property;n("GMToolOpen",(a=d("GMToolOpen"),p=m({type:[c],visible:!0}),a(((O=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return t=n.call.apply(n,[this].concat(r))||this,o(t,"buttonsList",h,i(t)),t.numbersClickOn="",t}e(t,n);var r=t.prototype;return r.onEnable=function(){this.numbersClickOn=""},r.start=function(){for(var n=0;n<this.buttonsList.length;n++)this.buttonsList[n].node.on("click",this.CreateNumberClickHandler(n+1),this)},r.CreateNumberClickHandler=function(n){var e=this;return function(){console.log("GMToolButtons: You clicked on number "+n),e.numbersClickOn+=n.toString(),console.log("GMToolButtons: pass: "+e.numbersClickOn),e.numbersClickOn===t.PASSWORD&&u.instance&&u.instance.Open()}},r.ResetPassword=function(){this.numbersClickOn=""},t}(l)).PASSWORD="111111",h=t((f=O).prototype,"buttonsList",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b=f))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/GravityType.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"254f31wx1hLfriJ2AezaBJ+","GravityType",void 0);t("GravityType",function(t){return t[t.None=0]="None",t[t.Up=1]="Up",t[t.Down=2]="Down",t[t.Left=3]="Left",t[t.Right=4]="Right",t[t.HorizontalPull=5]="HorizontalPull",t[t.HorizontalPush=6]="HorizontalPush",t[t.VerticalPull=7]="VerticalPull",t[t.VerticalPush=8]="VerticalPush",t[t.HorizontalClockwise=9]="HorizontalClockwise",t[t.HorizontalCounterClockwise=10]="HorizontalCounterClockwise",t[t.VerticalClockwise=11]="VerticalClockwise",t[t.VerticalCounterClockwise=12]="VerticalCounterClockwise",t}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/HelpScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts"],(function(t){var e,n,i,r,o,l,u,c,s,a,p,b,d,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.createClass},function(t){l=t.cclegacy,u=t._decorator,c=t.Node,s=t.UIOpacity,a=t.Button,p=t.Vec3,b=t.tween,d=t.Component},function(t){f=t.default}],execute:function(){var _,h,y,v,T,g,C,x,I,k,m,w,O,N,P,z,H,F;l._RF.push({},"125f1ZgNwlACrbaY03P3ZHl","HelpScreen",void 0);var S=u.ccclass,U=u.property;t("default",(_=S("HelpScreen"),h=U({type:c,visible:!0}),y=U({type:c,visible:!0}),v=U({type:s,visible:!0}),T=U({type:a,visible:!0}),g=U({type:a,visible:!0}),C=U({type:a,visible:!0}),x=U({type:[c],visible:!0}),_(((F=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,i(e,"_components",m,r(e)),i(e,"_board",w,r(e)),i(e,"_backgroundUIOpacity",O,r(e)),i(e,"_btnPrev",N,r(e)),i(e,"_btnNext",P,r(e)),i(e,"_btnClose",z,r(e)),i(e,"_listTutorials",H,r(e)),e._curTutNode=null,e._curTutIndex=0,e.OnClose=null,e}n(e,t);var l=e.prototype;return l.onLoad=function(){null==e.instance?e.instance=this:this.destroy()},l.start=function(){var t=this;this._btnClose.node.on("click",(function(){t.OnCloseClicked()}),this),this._btnPrev.node.on("click",(function(){t.OnPrevHelpClicked()}),this),this._btnNext.node.on("click",(function(){t.OnNextHelpClicked()}),this),this.curTutIndex=0},l.Open=function(){this._components.active=!0,this._board.setScale(new p(0,0,0)),b(this._board).to(.2,{scale:new p(1,1,1)}).start(),b(this._backgroundUIOpacity).to(.2,{opacity:204}).start()},l.Close=function(){var t=this;b(this._backgroundUIOpacity).to(.2,{opacity:0}).start(),b(this._board).to(.2,{scale:new p(0,0,0)}).call((function(){t._components.active=!1})).start()},l.OnCloseClicked=function(){f.PlayEffect(f.instance.buttonFX,!1),this.Close()},l.OnPrevHelpClicked=function(){f.PlayEffect(f.instance.buttonFX,!1),this.curTutIndex--},l.OnNextHelpClicked=function(){f.PlayEffect(f.instance.buttonFX,!1),this.curTutIndex++},o(e,[{key:"btnClose",get:function(){return this._btnClose}},{key:"curTutIndex",get:function(){return this._curTutIndex},set:function(t){this._curTutIndex=t,this._curTutIndex<0&&(this._curTutIndex=this._listTutorials.length-1),this._curTutIndex>=this._listTutorials.length&&(this._curTutIndex=0),null!=this._curTutNode&&(this._curTutNode.active=!1),this._curTutNode=this._listTutorials[this._curTutIndex],this._curTutNode.active=!0}}]),e}(d)).instance=null,m=e((k=F).prototype,"_components",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(k.prototype,"_board",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(k.prototype,"_backgroundUIOpacity",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(k.prototype,"_btnPrev",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(k.prototype,"_btnNext",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(k.prototype,"_btnClose",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(k.prototype,"_listTutorials",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=k))||I));l._RF.pop()}}}));

System.register("chunks:///_virtual/IconData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,n,a,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.createClass,i=e.initializerDefineProperty},function(e){n=e.cclegacy,a=e._decorator,c=e.SpriteFrame}],execute:function(){var o,u,s,l,p;n._RF.push({},"6478bOOfwBNUKK4u5UJaAah","IconData",void 0);var f=a.ccclass,y=a.property;e("default",(o=f("IconData"),u=y({type:c,visible:!0}),o((p=t((l=function(){function e(){i(this,"_sprite",p,this)}return r(e,[{key:"sprite",get:function(){return this._sprite}}]),e}()).prototype,"_sprite",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=l))||s));n._RF.pop()}}}));

System.register("chunks:///_virtual/IFiveEnhancedScrollViewY.ts",["cc"],(function(){var c,e;return{setters:[function(t){c=t.cclegacy,e=t._decorator}],execute:function(){c._RF.push({},"c9288vLCY9IbaLGe0vJtiqy","IFiveEnhancedScrollViewY",void 0);e.ccclass,e.property;c._RF.pop()}}}));

System.register("chunks:///_virtual/IMPositionable.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"bda08POr3RAwZ2faYja1RtP","IMPositionable",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc","./assets.ts"],(function(t){var e;return{setters:[function(t){e=t.cclegacy},function(e){t("loadPhotoAsTexture",e.loadPhotoAsTexture)}],execute:function(){e._RF.push({},"1d662zDgxVCQbqzCkXxd6YC","index",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/index2.ts",["cc","./constants.ts","./l10n.ts","./localization.ts","./log.ts","./schema.ts","./server.ts","./text.ts","./ipc.ts"],(function(e){var a;return{setters:[function(e){a=e.cclegacy},function(a){var t={};t.L10N_BUNDLE=a.L10N_BUNDLE,t.PACKAGE_NAME=a.PACKAGE_NAME,e(t)},null,function(a){var t={};t.LanguageCode=a.LanguageCode,t.domainToLanguageCode=a.domainToLanguageCode,t.getLanguageName=a.getLanguageName,t.getLanguageNativeName=a.getLanguageNativeName,t.isLanguageCode=a.isLanguageCode,e(t)},function(a){var t={};t.error=a.error,t.log=a.log,t.warn=a.warn,e(t)},function(a){e("generateSchema",a.generateSchema)},function(a){e("editorServerFetch",a.editorServerFetch)},function(a){var t={};t.capitalizeEachWord=a.capitalizeEachWord,t.capitalizeFirstLetter=a.capitalizeFirstLetter,e(t)},function(a){e("ipc",a.ipc)}],execute:function(){a._RF.push({},"bc0b6NxYGdJxZck6fcTp7Uv","index",void 0),a._RF.pop()}}}));

System.register("chunks:///_virtual/index3.ts",["cc","./bundle-manager.ts"],(function(e){var n;return{setters:[function(e){n=e.cclegacy},function(n){e("L10NBundleManager",n.L10NBundleManager)}],execute:function(){n._RF.push({},"e1466lxRnFCtLipaA8K/N1Q","index",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/ipc.ts",["cc","./constants.ts"],(function(e){var t,s;return{setters:[function(e){t=e.cclegacy},function(e){s=e.PACKAGE_NAME}],execute:function(){t._RF.push({},"33cdfu2iRRITJu5YK/KTssE","ipc",void 0);e("ipc",{main:{request:function(e){return Editor.Message.request(s,e)},on:function(e,t){Editor.Message.addBroadcastListener(e,t)},off:function(e,t){Editor.Message.removeBroadcastListener(e,t)},broadcast:function(e){for(var t,s=arguments.length,n=new Array(s>1?s-1:0),r=1;r<s;r++)n[r-1]=arguments[r];(t=Editor.Message).broadcast.apply(t,[e].concat(n))}},scene:{request:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Editor.Message.request("scene","execute-scene-script",{name:s,method:e,args:n})},softReload:function(){Editor.Message.send("scene","soft-reload")}}});t._RF.pop()}}}));

System.register("chunks:///_virtual/Item.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CollectionScreen.ts","./AudioManager.ts"],(function(e){var t,i,n,o,r,s,l,a,c,u,d,m,h,p,I,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,l=e.Node,a=e.Button,c=e.Sprite,u=e.UITransform,d=e.Size,m=e.tween,h=e.Vec3,p=e.Component},function(e){I=e.CollectionScreen},function(e){f=e.default}],execute:function(){var S,k,v,y,w,b,g,U,z,T,C,N,A,D,M,B,L;r._RF.push({},"c4325UoM0dAK5Fkicv4Pa2a","Item",void 0);var F=s.ccclass,H=s.property,R=e("ItemStatus",function(e){return e[e.Collected=0]="Collected",e[e.Locked=1]="Locked",e}({}));e("Item",(S=F("Item"),k=H({type:l,visible:!0}),v=H({type:l,visible:!0}),y=H({type:l,visible:!0}),w=H({type:l,visible:!0}),b=H({type:l,visible:!0}),g=H({type:a,visible:!0}),U=H({type:a,visible:!0}),S((C=t((T=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(t,"container",C,o(t)),n(t,"unlockedItemNode",N,o(t)),n(t,"lockedItemNode",A,o(t)),n(t,"justUnlockedHead",D,o(t)),n(t,"shadowAnimal",M,o(t)),n(t,"viewStoryButton1",B,o(t)),n(t,"viewStoryButton2",L,o(t)),t.id=0,t.unlockedItemSprite=null,t.lockedItemSprite=null,t.UnlockedItemUITransform=null,t.LockedItemUITransform=null,t.itemStatus=R.Locked,t.shakeTween=void 0,t}i(t,e);var r=t.prototype;return r.start=function(){this.startScaling()},r.onLoad=function(){this.unlockedItemSprite=this.unlockedItemNode.getComponent(c),this.lockedItemSprite=this.lockedItemNode.getComponent(c),this.UnlockedItemUITransform=this.unlockedItemNode.getComponent(u),this.LockedItemUITransform=this.lockedItemNode.getComponent(u),this.viewStoryButton1.node.on("click",this.ViewStory,this),this.viewStoryButton2.node.on("click",this.ViewStory,this)},r.GetID=function(){return this.id},r.SetID=function(e){this.id=e,this.shakeTween&&(this.shakeTween.stop(),this.container.angle=0)},r.ViewStory=function(){f.PlayEffect(f.instance.buttonFX,!1),I.instance.OpenAnimalStory(this.id),I.instance.DisableTutorial()},r.SetIconSprite=function(e){this.unlockedItemSprite.spriteFrame=e,this.lockedItemSprite.spriteFrame=e,this.ResetContentSize()},r.ResetContentSize=function(){this.unlockedItemSprite.sizeMode=c.SizeMode.TRIMMED,this.lockedItemSprite.sizeMode=c.SizeMode.TRIMMED},r.SetViewStoryInteract=function(e){this.viewStoryButton1.interactable=e,this.viewStoryButton2.interactable=e},r.SetItemStatus=function(e){this.DisActiveAllItemStatus(),this.itemStatus=e,this.itemStatus===R.Collected&&(this.unlockedItemNode.active=!0),this.itemStatus===R.Locked&&(this.lockedItemNode.active=!0)},r.DisActiveAllItemStatus=function(){this.unlockedItemNode.active=!1,this.lockedItemNode.active=!1},r.DisableHead=function(){this.justUnlockedHead.active=!1},r.SetJustUnlock=function(e){this.justUnlockedHead.active=e},r.IncreaseContentSize=function(e){var t=new d(this.UnlockedItemUITransform.width*e,this.UnlockedItemUITransform.height*e);this.UnlockedItemUITransform.setContentSize(t),this.LockedItemUITransform.setContentSize(t)},r.startScaling=function(){m(this.container).repeatForever(m().to(1.25,{position:new h(0,8,0)},{easing:"sineInOut"}).to(1.25,{position:new h(0,0,0)},{easing:"sineInOut"})).start(),m(this.shadowAnimal).repeatForever(m().to(1.25,{scale:new h(.8,.6,.6)},{easing:"sineInOut"}).to(1.25,{scale:new h(.6,.6,.6)},{easing:"sineInOut"})).start()},r.ShakeItem=function(){this.shakeTween=m(this.container).to(.1,{angle:10}).to(.1,{angle:-10}).to(.1,{angle:5}).to(.1,{angle:-5}).to(.1,{angle:0}).union().repeatForever(),this.shakeTween.start()},t}(p)).prototype,"container",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(T.prototype,"unlockedItemNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(T.prototype,"lockedItemNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(T.prototype,"justUnlockedHead",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(T.prototype,"shadowAnimal",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(T.prototype,"viewStoryButton1",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(T.prototype,"viewStoryButton2",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=T))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemData.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,o,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.createClass,r=e.initializerDefineProperty},function(e){n=e.cclegacy,o=e._decorator,a=e.SpriteFrame}],execute:function(){var c,u,l,p,s,f,y;n._RF.push({},"7e176I3W+5A8L6AtAvaq8Km","ItemData",void 0);var _=o.ccclass,b=o.property;e("default",(c=_("ItemData"),u=b({type:a,visible:!0}),l=b({type:a,visible:!0}),c((f=t((s=function(){function e(){r(this,"_sprite",f,this),r(this,"_iconSprite",y,this)}return i(e,[{key:"sprite",get:function(){return this._sprite}},{key:"IconSprite",get:function(){return this._iconSprite}}]),e}()).prototype,"_sprite",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(s.prototype,"_iconSprite",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=s))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/ItemManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemData.ts","./GameData.ts"],(function(e){var t,n,i,a,r,s,l,o,c,u,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){s=e.cclegacy,l=e._decorator,o=e.log,c=e.Component},function(e){u=e.default},function(e){h=e.default}],execute:function(){var m,d,v,I,f,p;s._RF.push({},"4218dHUtOpM97ZF5tacI/Pl","ItemManager",void 0);var g=l.ccclass,D=l.property;e("default",(m=g("ItemManager"),d=D({type:[u],visible:!0}),m(((p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).initialLevelCount=15,t.levelsPerReward=3,t.GetInitialLevel=t.initialLevelCount,t.GetLevelPerReward=t.levelsPerReward,i(t,"_itemDatas",f,a(t)),t}n(t,e);var s=t.prototype;return s.onLoad=function(){null==t.instance?t.instance=this:this.destroy()},s.GetItem=function(e){return e>=this._itemDatas.length||e<0?(o("[ItemManager] GetItem | index >= this._itemDatasLength | index: "+e+" | itemDatasLength: "+this._itemDatas.length),null):this._itemDatas[e].sprite},s.GetIcon=function(e){return e>=this._itemDatas.length||e<0?(o("[ItemManager] GetIcon | index >= this._itemDatasLength | index: "+e+" | itemDatasLength: "+this._itemDatas.length),null):this._itemDatas[e].IconSprite},s.AddSelectedItem=function(e){var t=h.instance.unlockedItems;t.push(e),h.instance.unlockedItems=t},s.RemoveSelectedItem=function(e){var t=h.instance.unlockedItems;t=t.filter((function(t){return t!==e})),h.instance.unlockedItems=t},s.SetSelectedItems=function(e){h.instance.unlockedItems=e},s.GetSelectedItems=function(){return h.instance.unlockedItems},s.GetIconSpriteFollowLevelNumber=function(e){if(e%this.levelsPerReward!=0)return console.log("ItemManager: "+e+" % "+this.levelsPerReward+" != 0 |FAIL|"),null;var t=this.GetAvailableItemByLevel(e+1);return this.GetIcon(t)},s.GetItemIndexByLevel=function(e){var t=Math.floor(e/this.levelsPerReward),n=this.initialLevelCount+t-1;return e/this.levelsPerReward==t&&(n-=1),n},s.GetAvailableItemByLevel=function(e){var t=Math.floor(e/this.levelsPerReward),n=this.initialLevelCount+t-1;return e/this.levelsPerReward==t&&(n-=1),n=Math.min(n,this._itemDatas.length-1)},s.GetIconSprites=function(){for(var e=[],t=0;t<this._itemDatas.length;t++)e.push(this.GetIcon(t));return e},r(t,[{key:"itemNumbers",get:function(){return this._itemDatas.length}}]),t}(c)).instance=void 0,f=t((I=p).prototype,"_itemDatas",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=I))||v));s._RF.pop()}}}));

System.register("chunks:///_virtual/l10n-component.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ysdk.ts"],(function(e){var t,s,r,o,n,c,i,p,a,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.createClass},function(e){c=e.cclegacy,i=e._decorator,p=e.Enum,a=e.Component},function(e){E=e.l10n}],execute:function(){var l,u,P,A;c._RF.push({},"d95e47vDGRGCaVe/kRPhiG+","l10n-component",void 0);i.ccclass;var _=i.property,C=function(e){return e[e.NONE=0]="NONE",e[e.CAPITALIZE_FIRST_LETTER=1]="CAPITALIZE_FIRST_LETTER",e[e.CAPITALIZE_EACH_WORD=2]="CAPITALIZE_EACH_WORD",e[e.UPPERCASE=3]="UPPERCASE",e[e.LOWERCASE=4]="LOWERCASE",e}(C||{});e("L10nComponent",(l=_({visible:!1}),u=_({visible:!0,type:p(C)}),A=t((P=function(e){function t(){for(var t,s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return t=e.call.apply(e,[this].concat(n))||this,r(t,"_postProcess",A,o(t)),t}return s(t,e),t.prototype.translateKey=function(e){var t={};switch(this._postProcess){case C.CAPITALIZE_EACH_WORD:t.postProcess="capitalize";break;case C.CAPITALIZE_FIRST_LETTER:t.postProcess="capitalize_first";break;case C.UPPERCASE:t.postProcess="uppercase";break;case C.LOWERCASE:t.postProcess="lowercase"}return E.t(e,t)},n(t,[{key:"postProcess",get:function(){return this._postProcess},set:function(e){this._postProcess=e,this.render()}}]),t}(a)).prototype,"_postProcess",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.CAPITALIZE_EACH_WORD}}),t(P.prototype,"postProcess",[u],Object.getOwnPropertyDescriptor(P.prototype,"postProcess"),P.prototype),P));c._RF.pop()}}}));

System.register("chunks:///_virtual/l10n-label.ts",["./rollupPluginModLoBabelHelpers.js","cc","./l10n-component.ts"],(function(e){var t,n,i,r,o,l,a,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){l=e.cclegacy,a=e._decorator,s=e.Label},function(e){c=e.L10nComponent}],execute:function(){var p,u,h,b,y,d,f,v,g;l._RF.push({},"afb67eQMKVCZYlTST8Ivjev","l10n-label",void 0);var _=a.ccclass,k=a.property,L=a.executeInEditMode,m=a.requireComponent,D=a.menu;e("default",(p=_("L10nLabel"),u=L(!0),h=m(s),b=D("YandexGamesSDK/L10nLabel"),y=k({visible:!1}),d=k({visible:!0}),p(f=u(f=h(f=b((g=t((v=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))||this).label=void 0,i(t,"_key",g,r(t)),t}n(t,e);var l=t.prototype;return l.start=function(){this.render()},l.onLoad=function(){this.label=this.node.getComponent(s)},l.preview=function(e){if(this.label){var t=this.label.string;this.label._string=e,this.label.updateRenderData(!0),cce.Engine.repaintInEditMode(),this.label._string=t}},l.render=function(){var e=this.translateKey(this._key);void 0!==this.label&&void 0!==e&&(this.label.string=e)},o(t,[{key:"key",get:function(){return this._key},set:function(e){this._key=e,this.label&&(this.label.string=this._key),this.render()}}]),t}(c)).prototype,"_key",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),t(v.prototype,"key",[d],Object.getOwnPropertyDescriptor(v.prototype,"key"),v.prototype),f=v))||f)||f)||f)||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/l10n-richtext.ts",["./rollupPluginModLoBabelHelpers.js","cc","./l10n-component.ts"],(function(t){var e,i,r,n,o,c,s,h,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){c=t.cclegacy,s=t._decorator,h=t.RichText},function(t){a=t.L10nComponent}],execute:function(){var u,p,l,y,d,x,f,T,v;c._RF.push({},"d889170h91DMqHUZuQZMCmm","l10n-richtext",void 0);var g=s.ccclass,_=s.property,k=s.executeInEditMode,m=s.requireComponent,b=s.menu;t("default",(u=g("L10nRichText"),p=k(!0),l=m(h),y=b("YandexGamesSDK/L10nRichText"),d=_({visible:!1}),x=_({visible:!0}),u(f=p(f=l(f=y((v=e((T=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))||this).richText=void 0,r(e,"_key",v,n(e)),e}i(e,t);var c=e.prototype;return c.start=function(){this.render()},c.onLoad=function(){this.richText=this.node.getComponent(h)},c.preview=function(t){if(this.richText){var e=this.richText.string;this.richText._string=t,this.richText._updateRichText(),cce.Engine.repaintInEditMode(),this.richText._string=e}},c.render=function(){var t=this.translateKey(this._key);void 0!==this.richText&&void 0!==t&&(this.richText.string=t)},o(e,[{key:"key",get:function(){return this._key},set:function(t){this._key=t,this.richText&&(this.richText.string=this._key),this.render()}}]),e}(a)).prototype,"_key",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),e(T.prototype,"key",[x],Object.getOwnPropertyDescriptor(T.prototype,"key"),T.prototype),f=T))||f)||f)||f)||f));c._RF.pop()}}}));

System.register("chunks:///_virtual/l10n.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"3d4e04rSOhJ+p7GWgiTZuZ6","l10n",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/l10n2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./bundle-manager.ts","./i18next.js","./text.ts"],(function(n){var t,e,r,a,i,u,s;return{setters:[function(n){t=n.asyncToGenerator,e=n.regeneratorRuntime},function(n){r=n.cclegacy},null,function(n){a=n.L10NBundleManager},function(n){i=n.createInstance},function(n){u=n.capitalizeEachWord,s=n.capitalizeFirstLetter}],execute:function(){var c;r._RF.push({},"e02c8/sI8JH6JuHzvjBbDSH","l10n",void 0);var l="translations",o=n("L10NManager",function(){function n(){this._i18next=void 0,this.l10nBundle=void 0,this.currentLanguage=void 0}var r=n.prototype;return r.init=function(){var n=t(e().mark((function n(){var t,r;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(new a).load();case 2:return this.l10nBundle=n.sent,this.currentLanguage=this.l10nBundle.defaultLanguage,t=this.l10nBundle.translations,Object.entries(t).forEach((function(n){var e=n[0],r=n[1],a=new Object;a.translations=r,t[e]=a})),this._i18next=i(),r={lng:this.currentLanguage,resources:t,defaultNS:l,fallbackLng:this.l10nBundle.defaultLanguage},n.next=10,this._i18next.init(r);case 10:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),r.reload=function(){var n=t(e().mark((function n(){var t,r,a;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.next=11;break;case 3:return this.l10nBundle=n.sent,t=i(),r=this.l10nBundle.translations,Object.entries(r).forEach((function(n){var t=n[0],e=n[1],a=new Object;a.translations=e,r[t]=a})),a={lng:this.currentLanguage,resources:this.l10nBundle.translations,defaultNS:l,fallbackLng:this.l10nBundle.defaultLanguage},n.next=10,t.init(a);case 10:this._i18next=t;case 11:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),r.changeLanguage=function(){var n=t(e().mark((function n(t){var r;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.currentLanguage=t,null==(r=this._i18next)||r.changeLanguage(t);case 2:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),r.getLanguage=function(){var n;return null==(n=this._i18next)?void 0:n.language},r.isInitialized=function(){var n,t;return null!=(n=null==(t=this._i18next)?void 0:t.isInitialized)&&n},r.t=function(n,t){if(!this._i18next)return n;var e=this._i18next.t(n);if(!t)return e;switch(t.postProcess){case"capitalize_first":return s(e);case"capitalize":return u(e);case"uppercase":return e.toUpperCase();case"lowercase":return e.toLowerCase();default:return e}},n}());c=o,o.instance=new c,r._RF.pop()}}}));

System.register("chunks:///_virtual/LabelContentTranslate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageManager.ts","./ysdk.ts"],(function(t){var e,n,a,r,i,o,s,l,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,o=t._decorator,s=t.Label,l=t.Component},function(t){u=t.LanguageManager},function(t){c=t.l10n}],execute:function(){var p,g,h,f,y,C;i._RF.push({},"68b96DJOmxFCaIWDtBEQMif","LabelContentTranslate",void 0);var b=o.ccclass,L=o.property,d=o.requireComponent;t("LabelContentTranslate",(p=b("LabelContentTranslate"),g=d(s),h=L({type:String,visible:!0}),p(f=g((C=e((y=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,a(e,"_keyTranslate",C,r(e)),e}n(e,t);var i=e.prototype;return i.onEnable=function(){u.registerLanguageChange(this.UpdateContent,this),this.UpdateContent()},i.onDestroy=function(){u.unregisterLanguageChange(this.UpdateContent,this)},i.UpdateContent=function(){this.getComponent(s).string=c.t(this._keyTranslate.toString())},e}(l)).prototype,"_keyTranslate",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y))||f)||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ysdk.ts","./GameData.ts","./localization.ts"],(function(e){var a,n,t,g,r,u,i,c,s,o,l,L;return{setters:[function(e){a=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,g=e.assertThisInitialized},function(e){r=e.cclegacy,u=e._decorator,i=e.EventTarget,c=e.sys,s=e.Component},function(e){o=e.l10n},function(e){l=e.default},function(e){L=e.LanguageCode}],execute:function(){var h,f,d,p,v,C;r._RF.push({},"4aec8nCtX1BEbfZWXtAGEic","LanguageManager",void 0);var y=u.ccclass,b=u.property;e("LanguageManager",(h=y("LanguageManager"),f=b({visible:!0}),h(((C=function(e){function a(){for(var a,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return a=e.call.apply(e,[this].concat(r))||this,t(a,"currentLanguage",v,g(a)),a}n(a,e);var r=a.prototype;return r.onLoad=function(){null==a.instance?a.instance=this:this.destroy()},r.autoDetectLanguage=function(){var e=c.language;switch(console.log("[LanguageManager] Auto-detected language: "+e),e){case"en":this.setLanguageCurrent(L.EN);break;case"ru":this.setLanguageCurrent(L.RU);break;case"tr":this.setLanguageCurrent(L.TR);break;case"zh":this.setLanguageCurrent(L.ZH);break;case"hi":this.setLanguageCurrent(L.HI);break;case"ko":this.setLanguageCurrent(L.KO);break;default:this.setLanguageCurrent(L.EN)}},r.loadLanguageFromGameData=function(){var e,a=(null==(e=l.instance)?void 0:e.language)||L.EN;a?this.setLanguageCurrent(a):this.autoDetectLanguage()},r.getLanguageCurrent=function(){return this.currentLanguage},r.setLanguageCurrent=function(e){o.changeLanguage(e),this.currentLanguage=e,console.log("[LanguageManager] Set language current: "+e),a.eventTarget.emit("language-changed",e),l.instance.language=e,l.instance.SaveLocalAllData(),l.instance.SaveRemoteAllDataAsync()},r.onUpdateLanguage=function(){a.eventTarget.emit("language-changed",this.currentLanguage)},a.registerLanguageChange=function(e,n){a.eventTarget.on("language-changed",e,n)},a.unregisterLanguageChange=function(e,n){a.eventTarget.off("language-changed",e,n)},a}(s)).instance=null,C.eventTarget=new i,v=a((p=C).prototype,"currentLanguage",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.EN}}),d=p))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/LeaderboardManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ysdk.ts"],(function(e){var r,a,t,n,o,s,d,i;return{setters:[function(e){r=e.inheritsLoose,a=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){n=e.cclegacy,o=e._decorator,s=e.Component,d=e.sys},function(e){i=e.ysdk}],execute:function(){var c,u;n._RF.push({},"e937bGV9VhIIqWg8xMBwVAL","LeaderboardManager",void 0);var l=o.ccclass;o.property,e("LeaderboardManager",l("LeaderboardManager")(((u=function(e){function n(){for(var r,a=arguments.length,t=new Array(a),n=0;n<a;n++)t[n]=arguments[n];return(r=e.call.apply(e,[this].concat(t))||this).LEADERBOARD_RANKING="GlobalLeaderboard",r.leaderboardPresent=void 0,r}r(n,e);var o=n.prototype;return o.onLoad=function(){null==n.instance?n.instance=this:this.destroy()},o.SetDataScoreLeaderboard=function(){var e=a(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.TrackYandexAndPlayerValid("SetDataPlayerToLeaderboard")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,i.isAvailableMethod("leaderboards.setLeaderboardScore");case 5:if(e.sent){e.next=9;break}return console.error("[LeaderboardManager] setLeaderboardScore | Method not available to users."),e.abrupt("return");case 9:return e.next=11,i.getLeaderboards();case 11:return this.leaderboardPresent=e.sent,e.next=14,this.leaderboardPresent.setLeaderboardScore(this.LEADERBOARD_RANKING,r);case 14:console.log("[LeaderboardManager] | SetDataScoreLeaderboard | SUCCEEDED"),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),console.error("[LeaderboardManager] | SetDataScoreLeaderboard | ERROR: "+e.t0);case 20:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(r){return e.apply(this,arguments)}}(),o.GetListEntriesLeaderboard=function(){var e=a(t().mark((function e(){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.TrackYandexAndPlayerValid("GetListEntriesLeaderboard")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,i.isAvailableMethod("leaderboards.getLeaderboardEntries");case 5:if(e.sent){e.next=9;break}return console.error("[LeaderboardManager] getLeaderboardEntries | Method not available to users."),e.abrupt("return");case 9:return e.next=11,i.getLeaderboards();case 11:return this.leaderboardPresent=e.sent,e.next=14,this.leaderboardPresent.getLeaderboardEntries(this.LEADERBOARD_RANKING,{quantityTop:30});case 14:return r=e.sent,console.log("[LeaderboardManager] | GetListEntriesLeaderboard | SUCCEEDED"),console.log("List Ranking: ",r),a=r.entries.map((function(e){return{rank:e.rank,score:e.score,avatar:e.player.getAvatarSrc("small"),publicName:e.player.publicName,uniqueId:e.player.uniqueID||"unknown"}})),e.abrupt("return",a);case 21:return e.prev=21,e.t0=e.catch(2),console.error("[LeaderboardManager] | GetListEntriesLeaderboard | ERROR: "+e.t0),e.abrupt("return",[]);case 25:case"end":return e.stop()}}),e,this,[[2,21]])})));return function(){return e.apply(this,arguments)}}(),o.GetPlayerEntryLeaderboard=function(){var e=a(t().mark((function e(){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.TrackYandexAndPlayerValid("GetPlayerEntryLeaderboard")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,i.getLeaderboards();case 5:return this.leaderboardPresent=e.sent,e.next=8,this.leaderboardPresent.getLeaderboardPlayerEntry(this.LEADERBOARD_RANKING);case 8:r=e.sent,d.localStorage.setItem("playerRank",r.rank.toString()),d.localStorage.setItem("uniqueID",r.player.uniqueID),console.log("[LeaderboardManager] Player: Rank: "+r.rank.toString()+" | ",r.player.uniqueID),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error("[LeaderboardManager] Error while retrieving rating information",e.t0);case 17:case"end":return e.stop()}}),e,this,[[2,14]])})));return function(){return e.apply(this,arguments)}}(),o.TrackYandexAndPlayerValid=function(e){return console.log("[LeaderboardManager] "+e+" called"),"undefined"!=typeof YaGames||(console.log("[LeaderboardManager] | "+e+" | Yandex SDK not available"),!1)},n}(s)).instance=null,c=u))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/LeaderboardModel.ts",["cc"],(function(){var e;return{setters:[function(c){e=c.cclegacy}],execute:function(){e._RF.push({},"2a2ccpOhehDdZGZpt/Vgszk","LeaderboardModel",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/LevelContentTranslate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageManager.ts","./ysdk.ts","./GameData.ts"],(function(e){var n,t,a,o,r,s,i,l;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,a=e._decorator,o=e.Label,r=e.Component},function(e){s=e.LanguageManager},function(e){i=e.l10n},function(e){l=e.default}],execute:function(){var u;t._RF.push({},"5bf49bnN9JHv70CqEmYE6g8","LevelContentTranslate",void 0);var c=a.ccclass,g=(a.property,a.requireComponent);e("LevelContentTranslate",c("LevelContentTranslate")(u=g(o)(u=function(e){function t(){return e.apply(this,arguments)||this}n(t,e);var a=t.prototype;return a.onEnable=function(){s.registerLanguageChange(this.UpdateContent,this),this.UpdateContent()},a.onDestroy=function(){s.unregisterLanguageChange(this.UpdateContent,this)},a.UpdateContent=function(){var e;this.getComponent(o).string=i.t("level")+" "+((null==(e=l.instance.saveableLevelData)?void 0:e.levelIndex)+1)},t}(r))||u)||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/LevelData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GravityType.ts"],(function(t){var e,i,r,n,o,a,u,l,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.createClass,r=t.initializerDefineProperty},function(t){n=t.cclegacy,o=t._decorator,a=t.Enum,u=t.CCInteger,l=t.v2},function(t){s=t.GravityType}],execute:function(){var c,y,p,m,v,_,f,g,h,b,z;n._RF.push({},"84aebplOIxD+I2pPK/PQzsX","LevelData",void 0);var S=o.ccclass,C=o.property;t("default",(c=S("LevelData"),y=C({visible:!0,readonly:!0}),p=C({type:a(s),visible:!0}),m=C({visible:!0}),v=C({type:u,visible:!0}),c((g=e((f=function(){function t(){r(this,"_matrixSize",g,this),r(this,"_gravityType",h,this),r(this,"_itemCount",b,this),r(this,"_time",z,this)}var e=t.prototype;return e.toString=function(){var t,e;return"[LevelData][Size|"+(null==(t=this._matrixSize)?void 0:t.toString())+"][ItemCount|"+(null==(e=this._itemCount)?void 0:e.toString())+"][gravityType|"+this._gravityType+"][time|"+this._time+"]"},e.SetFromJson=function(t,e,i,r){this._matrixSize=l(r,7),this._itemCount=t,this._gravityType=e,this._time=i},i(t,[{key:"matrixSize",get:function(){return this._matrixSize}},{key:"gravityType",get:function(){return this._gravityType}},{key:"itemCount",get:function(){return this._itemCount}},{key:"time",get:function(){return this._time}}]),t}()).prototype,"_matrixSize",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l(16,7)}}),h=e(f.prototype,"_gravityType",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return s.None}}),b=e(f.prototype,"_itemCount",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 15}}),z=e(f.prototype,"_time",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 600}}),_=f))||_));n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelDataJson.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,r;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,r=e.Component}],execute:function(){var a;n._RF.push({},"bafc4Tgc4tEMpZXhad6B4jy","LevelDataJson",void 0);var c=o.ccclass;o.property,e("default",c("LevelDataJson")(a=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(t=e.call.apply(e,[this].concat(o))||this).Level=0,t.Gravity="",t.ItemCount=0,t.TimeInSecond=0,t.HorizontalMatrizItem=0,t}return t(n,e),n}(r))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GravityType.ts","./LevelData.ts"],(function(e){var t,r,a,n,l,i,o,s,u,c,v,g,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized,l=e.createClass,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,c=e.Component,v=e.resources},function(e){g=e.GravityType},function(e){p=e.default}],execute:function(){var h,f,L,d,y,D;s._RF.push({},"bd55aaIFW5MZL5TW8HjqZJB","LevelManager",void 0);var m=u.ccclass,M=u.property;e("default",(h=m("LevelManager"),f=M({type:[p],visible:!0}),h(((D=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),i=0;i<r;i++)l[i]=arguments[i];return(t=e.call.apply(e,[this].concat(l))||this).isDebug=!1,a(t,"_levelDatas",y,n(t)),t}r(t,e);var s=t.prototype;return s.log=function(e){this.isDebug&&console.log(e)},s.onLoad=function(){null==t.instance?t.instance=this:this.destroy()},s.Prepare=function(){var e=i(o().mark((function e(){var t,r,a,n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Promise((function(e,r){t=e})),this.log("[LevelManager] | Prepare"),"Levels/GameLevels",a=[],this.log("[LevelManager] | Prepare | resources"),v.load("Levels/GameLevels",(function(e,r){if(null!=e)return n.log("[LevelManager] | Prepare | resource load failed "+e.message),t(null);n._levelDatas=[],a=JSON.parse(r.toString());for(var l=0;l<a.length;l++){var i=new p;i.SetFromJson(a[l].ItemCount,g[a[l].Gravity],a[l].TimeInSecond,a[l].HorizontalMatrizItem),n._levelDatas.push(i)}return n.log("[LevelManager] | Prepare | Completed"),t(null)})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.GetLevelData=function(e){if(this.log("[LevelManager] | GetLevelData | index: "+e),e>=this.levelDatasLength){var t=Math.round(this.getRandom(0,this.levelDatasLength-1));return this.log("[LevelManager] | GetLevelData | randomLevel: "+t),this._levelDatas[t]}return this._levelDatas[e]},s.getRandom=function(e,t){return Math.random()*(t-e)+e},l(t,[{key:"levelDatasLength",get:function(){return this._levelDatas.length}}]),t}(c)).instance=void 0,y=t((d=D).prototype,"_levelDatas",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=d))||L));s._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingBar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){var e,n,o,t,a,i,c,s,l,p;return{setters:[function(r){e=r.applyDecoratedDescriptor,n=r.inheritsLoose,o=r.initializerDefineProperty,t=r.assertThisInitialized},function(r){a=r.cclegacy,i=r._decorator,c=r.ProgressBar,s=r.director,l=r.tween,p=r.Component}],execute:function(){var u,g,d,f,B;a._RF.push({},"031e5jw4j1K+pKdTr1qyzvr","LoadingBar",void 0);var h=i.ccclass,y=i.property;r("LoadingBar",(u=h("LoadingBar"),g=y(c),u((B=e((f=function(r){function e(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=r.call.apply(r,[this].concat(a))||this,o(e,"loadingBar",B,t(e)),e}return n(e,r),e.prototype.start=function(){var r=this;this.loadingBar.progress=0,s.preloadScene("Game",(function(e,n){r.loadingBar.progress=e/n}),(function(){l(r.loadingBar).to(.5,{progress:1}).call((function(){console.log("Loading complete, switching scene now."),s.loadScene("Game")})).start()}))},e}(p)).prototype,"loadingBar",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o,i,a,r,c,s,l,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,c=e.Node,s=e.UIOpacity,l=e.tween,p=e.Vec3,u=e.Component}],execute:function(){var h,_,d,f,y,w,g,v;a._RF.push({},"b12f26JY1ZOe7f2lS4wvnUK","LoadingScreen",void 0);var m=r.ccclass,b=r.property;e("default",(h=m("LoadingScreen"),_=b({type:c}),d=b({type:c}),h(((v=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,o(t,"_components",w,i(t)),o(t,"_loadingIcon",g,i(t)),t._tweenRotate=null,t._tweenFade=null,t}n(t,e);var a=t.prototype;return a.onLoad=function(){null==t.instance?(t.instance=this,this.Open()):this.destroy()},a.Open=function(){this._components.getComponent(s).opacity=255,this._components.active=!0,this._tweenRotate=l(this._loadingIcon).by(4,{eulerAngles:new p(0,0,360)}).repeatForever(),this._tweenRotate.start()},a.Close=function(){var e=this;null!=this._tweenRotate&&this._tweenRotate.stop(),null!=this._tweenFade&&this._tweenFade.stop();var t=this._components.getComponent(s);this._tweenFade=l(t).to(.5,{opacity:0}).call((function(){e._components.active=!1})),this._tweenFade.start()},t}(u)).instance=null,w=t((y=v).prototype,"_components",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(y.prototype,"_loadingIcon",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y))||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/localization.ts",["cc"],(function(a){var e;return{setters:[function(a){e=a.cclegacy}],execute:function(){e._RF.push({},"a09acqb7B1KJ73GfuOzq7EA","localization",void 0);a("LanguageCode",{AF:"af",AM:"am",AR:"ar",AZ:"az",BE:"be",BG:"bg",BN:"bn",CA:"ca",CS:"cs",DA:"da",DE:"de",EL:"el",EN:"en",ES:"es",ET:"et",EU:"eu",FA:"fa",FI:"fi",FR:"fr",GL:"gl",HE:"he",HI:"hi",HR:"hr",HU:"hu",HY:"hy",ID:"id",IS:"is",IT:"it",JA:"ja",KA:"ka",KK:"kk",KM:"km",KN:"kn",KO:"ko",KY:"ky",LO:"lo",LT:"lt",LV:"lv",MK:"mk",ML:"ml",MN:"mn",MR:"mr",MS:"ms",MY:"my",NE:"ne",NL:"nl",NO:"no",PL:"pl",PT:"pt",RO:"ro",RU:"ru",SI:"si",SK:"sk",SL:"sl",SR:"sr",SV:"sv",SW:"sw",TA:"ta",TE:"te",TG:"tg",TH:"th",TK:"tk",TL:"tl",TR:"tr",UK:"uk",UR:"ur",UZ:"uz",VI:"vi",ZH:"zh",ZU:"zu"});var n={af:{name:"afrikaans",nativeName:"afrikaans"},am:{name:"amharic",nativeName:"አማርኛ"},ar:{name:"arabic",nativeName:"اَلْعَرَبِيَّةُ"},az:{name:"azerbaijani",nativeName:"azərbaycan dili"},be:{name:"belarusian",nativeName:"беларуская мова"},bg:{name:"bulgarian",nativeName:"български език"},bn:{name:"bengali",nativeName:"বাংলা"},ca:{name:"catalan",nativeName:"català"},cs:{name:"czech",nativeName:"čeština"},da:{name:"danish",nativeName:"dansk"},de:{name:"german",nativeName:"deutsch"},el:{name:"greek",nativeName:"ελληνικά"},en:{name:"english",nativeName:"english"},es:{name:"spanish",nativeName:"español"},et:{name:"estonian",nativeName:"eesti"},eu:{name:"basque",nativeName:"euskara"},fa:{name:"persian",nativeName:"فارسی"},fi:{name:"finnish",nativeName:"suomi"},fr:{name:"french",nativeName:"français"},gl:{name:"galician",nativeName:"galego"},he:{name:"hebrew",nativeName:"עברית"},hi:{name:"hindi",nativeName:"हिन्दी"},hr:{name:"croatian",nativeName:"hrvatski"},hu:{name:"hungarian",nativeName:"magyar"},hy:{name:"armenian",nativeName:"հայերեն"},id:{name:"indonesian",nativeName:"bahasa indonesia"},is:{name:"icelandic",nativeName:"íslenska"},it:{name:"italian",nativeName:"italiano"},ja:{name:"japanese",nativeName:"日本語"},ka:{name:"georgian",nativeName:"ქართული"},kk:{name:"kazakh",nativeName:"қазақ тілі"},km:{name:"khmer",nativeName:"ខេមរភាសា"},kn:{name:"kannada",nativeName:"ಕನ್ನಡ"},ko:{name:"korean",nativeName:"한국어"},ky:{name:"kyrgyz",nativeName:"кыргызча"},lo:{name:"lao",nativeName:"ພາສາລາວ"},lt:{name:"lithuanian",nativeName:"lietuvių kalba"},lv:{name:"latvian",nativeName:"latviešu valoda"},mk:{name:"macedonian",nativeName:"македонски јазик"},ml:{name:"malayalam",nativeName:"മലയാളം"},mn:{name:"mongolian",nativeName:"монгол хэл"},mr:{name:"marathi",nativeName:"मराठी"},ms:{name:"malay",nativeName:"bahasa melayu"},my:{name:"burmese",nativeName:"ဗမာစာ"},ne:{name:"nepali",nativeName:"नेपाली"},nl:{name:"dutch",nativeName:"nederlands"},no:{name:"norwegian",nativeName:"norsk"},pl:{name:"polish",nativeName:"polski"},pt:{name:"portuguese",nativeName:"português"},ro:{name:"romanian",nativeName:"română"},ru:{name:"russian",nativeName:"русский"},si:{name:"sinhala",nativeName:"සිංහල"},sk:{name:"slovak",nativeName:"slovenčina"},sl:{name:"slovenian",nativeName:"slovenščina"},sr:{name:"serbian",nativeName:"српски језик"},sv:{name:"swedish",nativeName:"svenska"},sw:{name:"swahili",nativeName:"kiswahili"},ta:{name:"tamil",nativeName:"தமிழ்"},te:{name:"telugu",nativeName:"తెలుగు"},tg:{name:"tajik",nativeName:"тоҷикӣ"},th:{name:"thai",nativeName:"ไทย"},tk:{name:"turkmen",nativeName:"türkmençe"},tl:{name:"tagalog",nativeName:"wikang tagalog"},tr:{name:"turkish",nativeName:"türkçe"},uk:{name:"ukrainian",nativeName:"українська"},ur:{name:"urdu",nativeName:"اردو"},uz:{name:"uzbek",nativeName:"ўзбек"},vi:{name:"vietnamese",nativeName:"tiếng việt"},zh:{name:"chinese",nativeName:"中文"},zu:{name:"zulu",nativeName:"isizulu"}},m=(a("getLanguageName",(function(a){return n[a].name})),a("getLanguageNativeName",(function(a){return n[a].nativeName})),Object.keys(n)),i=(a("isLanguageCode",(function(a){return 2==a.length&&m.includes(a.toLowerCase())})),{az:"az",by:"be","co.il":"he",com:"en","com.am":"hy","com.ge":"ka","com.tr":"tr",ee:"et",fr:"fr",kz:"kk",kg:"ky",lt:"lt",lv:"lv",md:"ro",ru:"ru",tj:"tg",tm:"tk",ua:"uk",uz:"uz"});a("domainToLanguageCode",(function(a){return i[a]}));e._RF.pop()}}}));

System.register("chunks:///_virtual/log.ts",["cc","./constants.ts"],(function(n){var o,r;return{setters:[function(n){o=n.cclegacy},function(n){r=n.PACKAGE_NAME}],execute:function(){o._RF.push({},"8913fM5KKRHVYjfC9ACSxD7","log",void 0);n("log",(function(){for(var n,o=arguments.length,c=new Array(o),t=0;t<o;t++)c[t]=arguments[t];(n=console).log.apply(n,["["+r+"]"].concat(c))})),n("warn",(function(){for(var n,o=arguments.length,c=new Array(o),t=0;t<o;t++)c[t]=arguments[t];(n=console).warn.apply(n,["["+r+"]"].concat(c))})),n("error",(function(){for(var n,o=arguments.length,c=new Array(o),t=0;t<o;t++)c[t]=arguments[t];(n=console).error.apply(n,["["+r+"]"].concat(c))}));o._RF.pop()}}}));

System.register("chunks:///_virtual/LoginRequest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ysdk.ts"],(function(e){var r,n,t,a,o,i,s;return{setters:[function(e){r=e.inheritsLoose,n=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){a=e.cclegacy,o=e._decorator,i=e.Component},function(e){s=e.ysdk}],execute:function(){var c,u;a._RF.push({},"57b04V/m2BAZ4qJ4ifhifHY","LoginRequest",void 0);var l=o.ccclass;o.property,e("LoginRequest",l("LoginRequest")(((u=function(e){function a(){for(var r,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];return(r=e.call.apply(e,[this].concat(t))||this).player=void 0,r}r(a,e);var o=a.prototype;return o.onLoad=function(){null==a.instance?a.instance=this:this.destroy()},o.initPlayer=function(){var e=n(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r&&(r=!1),this.TrackYandexAndPlayerValid("initPlayer")){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,s.getPlayer({signed:r,scopes:!0});case 6:return this.player=e.sent,e.abrupt("return",this.player);case 10:throw e.prev=10,e.t0=e.catch(3),console.error("[LoginRequest] Error initializing the Player object:",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(r){return e.apply(this,arguments)}}(),o.CheckPlayerLogin=function(){var e=n(t().mark((function e(){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.TrackYandexAndPlayerValid("checkPlayerLogin")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.initPlayer();case 5:if("lite"!==(r=e.sent).getMode()){e.next=10;break}return e.abrupt("return",!1);case 10:return console.log("[LoginRequest] Player is logged in:",r.getName(),r.getAvatar()),e.abrupt("return",!0);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(2),console.error("[LoginRequest] Error checking player login:",e.t0),e.abrupt("return",!1);case 18:case"end":return e.stop()}}),e,this,[[2,14]])})));return function(){return e.apply(this,arguments)}}(),o.HandleLoginDialog=function(){var e=n(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.TrackYandexAndPlayerValid("handleLoginDialog")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,s.auth.openAuthDialog();case 5:return console.log("[LoginRequest] Player logged in successfully"),e.next=8,this.initPlayer(!0);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log("[LoginRequest] Player closed the login dialog or failed to log in.");case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),o.TrackYandexAndPlayerValid=function(e){return console.log("[LoginRequest] "+e+" called"),"undefined"!=typeof YaGames||(console.log("[LoginRequest] | "+e+" | Yandex SDK not available"),!1)},a}(i)).instance=null,c=u))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./AnimalData.ts","./AnimalDataJson.ts","./AnimalDataManager.ts","./AudioManager.ts","./CongratulationEffectController.ts","./ConsumableItem.ts","./CountDownTimer.ts","./DevTools.ts","./DevToolsPlayLevel.ts","./EffectsManager.ts","./facebook-instant-games-tests.ts","./FBContextService.ts","./FBFriendAccess.ts","./FBRankingService.ts","./FriendInformation.ts","./PhotoLoader.ts","./YandexAvatar.ts","./GMToolOpen.ts","./GameData.ts","./GravityType.ts","./MatrixGravity.ts","./Item.ts","./ItemData.ts","./ItemManager.ts","./IconData.ts","./LeaderboardModel.ts","./PlayerItem.ts","./PlayerList.ts","./LevelData.ts","./LevelDataJson.ts","./LevelManager.ts","./MNode.ts","./MNodeEffect.ts","./MNodeItem.ts","./MNodePath.ts","./OnetMatrix.ts","./OnetMatrixSize.ts","./OnetSearch.ts","./OnetTopZone.ts","./SaveableLevelData.ts","./CollectionScreen.ts","./DialogScreen.ts","./GameoverScreen.ts","./HelpScreen.ts","./LoadingBar.ts","./LoadingScreen.ts","./NoAdsAvailableScreen.ts","./PauseScreen.ts","./ProfileScreen.ts","./RankingScreen.ts","./RemindScreen.ts","./RequestLoginScreen.ts","./VictoryScreen.ts","./SpriteFadeEffect.ts","./LabelContentTranslate.ts","./LanguageManager.ts","./LeaderboardManager.ts","./LevelContentTranslate.ts","./LoginRequest.ts","./YandexAdsManager.ts","./BetterMatrix.ts","./IMPositionable.ts","./MDataHolder.ts","./MPosition.ts","./FiveEnhancedScrollViewY.ts","./IFiveEnhancedScrollViewY.ts","./FiveNodePool.ts","./constants.ts","./index2.ts","./ipc.ts","./l10n.ts","./localization.ts","./log.ts","./schema.ts","./server.ts","./text.ts","./l10n-component.ts","./l10n-label.ts","./l10n-richtext.ts","./bundle-manager.ts","./index3.ts","./l10n2.ts","./assets.ts","./index.ts","./ysdk.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MatrixGravity.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GravityType.ts"],(function(i){var t,r,o,e,s;return{setters:[function(i){t=i.createClass},function(i){r=i.cclegacy,o=i._decorator,e=i.log},function(i){s=i.GravityType}],execute:function(){var n;r._RF.push({},"e86e8wxCAhEmIYvyAJu/O9C","MatrixGravity",void 0);var a=o.ccclass;o.property,i("default",a("MatrixGravity")(n=function(){var i=r.prototype;function r(i){this._matrix=null,this._curGravityType=s.None,this._tweenDuration=.25,this._centerX=void 0,this._centerY=void 0,this._isDebug=!1,this.log("[MatrixGravity] constructor"),this._matrix=i,this._centerX=(this._matrix.colSize-1)/2,this._centerY=(this._matrix.rowSize-1)/2,this.log("[MatrixGravity] constructor | _centerX: "+this._centerX+" | round: "+Math.round(this._centerX)+" | floor: "+Math.floor(this._centerX)),this.log("[MatrixGravity] constructor | _centerY: "+this._centerY+" | round: "+Math.round(this._centerY)+" | floor: "+Math.floor(this._centerY))}return i.log=function(i){this._isDebug&&e(i)},i.SetGravityType=function(i,t){this.log("[MatrixGravity] SetGravityType | gravityType: "+i),this._curGravityType=i,this._tweenDuration=t},i.DoGravity=function(i,t){switch(this.log("[MatrixGravity] DoGravity | startNode: "+i.mPosition.XYToString+" | endNode: "+t.mPosition.XYToString+" | _curGravityType: "+this._curGravityType),this._curGravityType){case s.Up:var r=Array.from(this._matrix.GetSingleColumnTB(i.mPosition.col,0));if(this.DoGravityArray(r),t.mPosition.col!=i.mPosition.col){var o=Array.from(this._matrix.GetSingleColumnTB(t.mPosition.col,0));this.DoGravityArray(o)}break;case s.Down:var e=Array.from(this._matrix.GetSingleColumnBT(i.mPosition.col,this._matrix.size.row-1));if(this.DoGravityArray(e),t.mPosition.col!=i.mPosition.col){var n=Array.from(this._matrix.GetSingleColumnBT(t.mPosition.col,this._matrix.size.row-1));this.DoGravityArray(n)}break;case s.Left:var a=Array.from(this._matrix.GetSingleRowLR(i.mPosition.row,0));if(this.DoGravityArray(a),t.mPosition.row!=i.mPosition.row){var m=Array.from(this._matrix.GetSingleRowLR(t.mPosition.row,0));this.DoGravityArray(m)}break;case s.Right:var h=Array.from(this._matrix.GetSingleRowRL(i.mPosition.row,this._matrix.size.col-1));if(this.DoGravityArray(h),t.mPosition.row!=i.mPosition.row){var y=Array.from(this._matrix.GetSingleRowRL(t.mPosition.row,this._matrix.size.col-1));this.DoGravityArray(y)}break;case s.HorizontalPull:var _=[];i.mPosition.y<this._centerY?_=Array.from(this._matrix.GetSingleColumnBT(i.mPosition.x,Math.floor(this._centerY))):i.mPosition.y>this._centerY?_=Array.from(this._matrix.GetSingleColumnTB(i.mPosition.x,Math.round(this._centerY))):i.mPosition.x!=t.mPosition.x&&(_=Array.from(this._matrix.GetSingleColumnBT(i.mPosition.x,Math.floor(this._centerY)))),this.DoGravityArray(_);var l=[];t.mPosition.y<this._centerY?l=Array.from(this._matrix.GetSingleColumnBT(t.mPosition.x,Math.floor(this._centerY))):(t.mPosition.y>this._centerY||t.mPosition.x!=i.mPosition.x)&&(l=Array.from(this._matrix.GetSingleColumnTB(t.mPosition.x,Math.round(this._centerY)))),this.DoGravityArray(l);break;case s.HorizontalPush:var x=[];i.mPosition.y<this._centerY?x=Array.from(this._matrix.GetSingleColumnBT(i.mPosition.x,Math.floor(this._centerY))).reverse():i.mPosition.y>this._centerY?x=Array.from(this._matrix.GetSingleColumnTB(i.mPosition.x,Math.round(this._centerY))).reverse():i.mPosition.x!=t.mPosition.x&&(x=Array.from(this._matrix.GetSingleColumnBT(i.mPosition.x,Math.floor(this._centerY))).reverse()),this.DoGravityArray(x);var c=[];t.mPosition.y<this._centerY?c=Array.from(this._matrix.GetSingleColumnBT(t.mPosition.x,Math.floor(this._centerY))).reverse():(t.mPosition.y>this._centerY||t.mPosition.x!=i.mPosition.x)&&(c=Array.from(this._matrix.GetSingleColumnTB(t.mPosition.x,Math.round(this._centerY))).reverse()),this.DoGravityArray(c);break;case s.VerticalPull:var P=[];i.mPosition.x<this._centerX?P=Array.from(this._matrix.GetSingleRowRL(i.mPosition.y,Math.floor(this._centerX))):i.mPosition.x>this._centerX?P=Array.from(this._matrix.GetSingleRowLR(i.mPosition.y,Math.round(this._centerX))):i.mPosition.y!=t.mPosition.y&&(P=Array.from(this._matrix.GetSingleRowRL(i.mPosition.y,Math.floor(this._centerX)))),this.DoGravityArray(P);var G=[];t.mPosition.x<this._centerX?G=Array.from(this._matrix.GetSingleRowRL(t.mPosition.y,Math.floor(this._centerX))):(t.mPosition.x>this._centerX||t.mPosition.y!=i.mPosition.y)&&(G=Array.from(this._matrix.GetSingleRowLR(t.mPosition.y,Math.round(this._centerX)))),this.DoGravityArray(G);break;case s.VerticalPush:var v=[];i.mPosition.x<this._centerX?v=Array.from(this._matrix.GetSingleRowRL(i.mPosition.y,Math.floor(this._centerX))).reverse():i.mPosition.x>this._centerX?v=Array.from(this._matrix.GetSingleRowLR(i.mPosition.y,Math.round(this._centerX))).reverse():i.mPosition.y!=t.mPosition.y&&(v=Array.from(this._matrix.GetSingleRowRL(i.mPosition.y,Math.floor(this._centerX))).reverse()),this.DoGravityArray(v);var f=[];t.mPosition.x<this._centerX?f=Array.from(this._matrix.GetSingleRowRL(t.mPosition.y,Math.floor(this._centerX))).reverse():(t.mPosition.x>this._centerX||t.mPosition.y!=i.mPosition.y)&&(f=Array.from(this._matrix.GetSingleRowLR(t.mPosition.y,Math.round(this._centerX))).reverse()),this.DoGravityArray(f);break;case s.HorizontalClockwise:var A=[];i.mPosition.y<this._centerY?A=Array.from(this._matrix.GetSingleRowRL(i.mPosition.y,this._matrix.colSize-1)):i.mPosition.y>this._centerY?A=Array.from(this._matrix.GetSingleRowLR(i.mPosition.y,0)):i.mPosition.y!=t.mPosition.y&&(t.mPosition.y<this._centerY?A=Array.from(this._matrix.GetSingleRowRL(i.mPosition.y,this._matrix.colSize-1)):t.mPosition.y>this._centerY&&(A=Array.from(this._matrix.GetSingleRowLR(i.mPosition.y,0)))),this.DoGravityArray(A);var u=[];t.mPosition.y<this._centerY?u=Array.from(this._matrix.GetSingleRowRL(t.mPosition.y,this._matrix.colSize-1)):t.mPosition.y>this._centerY?u=Array.from(this._matrix.GetSingleRowLR(t.mPosition.y,0)):t.mPosition.y!=i.mPosition.y&&(i.mPosition.y<this._centerY?u=Array.from(this._matrix.GetSingleRowRL(t.mPosition.y,this._matrix.colSize-1)):i.mPosition.y>this._centerY&&(u=Array.from(this._matrix.GetSingleRowLR(t.mPosition.y,0)))),this.DoGravityArray(u);break;case s.HorizontalCounterClockwise:var g=[];i.mPosition.y<this._centerY?g=Array.from(this._matrix.GetSingleRowLR(i.mPosition.y,0)):i.mPosition.y>this._centerY?g=Array.from(this._matrix.GetSingleRowRL(i.mPosition.y,this._matrix.colSize-1)):i.mPosition.y!=t.mPosition.y&&(t.mPosition.y<this._centerY?g=Array.from(this._matrix.GetSingleRowLR(i.mPosition.y,0)):t.mPosition.y>this._centerY&&(g=Array.from(this._matrix.GetSingleRowRL(i.mPosition.y,this._matrix.colSize-1)))),this.DoGravityArray(g);var S=[];t.mPosition.y<this._centerY?S=Array.from(this._matrix.GetSingleRowLR(t.mPosition.y,0)):t.mPosition.y>this._centerY?S=Array.from(this._matrix.GetSingleRowRL(t.mPosition.y,this._matrix.colSize-1)):t.mPosition.y!=i.mPosition.y&&(i.mPosition.y<this._centerY?S=Array.from(this._matrix.GetSingleRowLR(t.mPosition.y,0)):i.mPosition.y>this._centerY&&(S=Array.from(this._matrix.GetSingleRowRL(t.mPosition.y,this._matrix.colSize-1)))),this.DoGravityArray(S);break;case s.VerticalClockwise:var R=[];i.mPosition.x<this._centerX?R=Array.from(this._matrix.GetSingleColumnTB(i.mPosition.x,0)):i.mPosition.x>this._centerX?R=Array.from(this._matrix.GetSingleColumnBT(i.mPosition.x,this._matrix.rowSize-1)):i.mPosition.x!=t.mPosition.x&&(t.mPosition.x<this._centerX?R=Array.from(this._matrix.GetSingleColumnTB(i.mPosition.x,0)):t.mPosition.x>this._centerX&&(R=Array.from(this._matrix.GetSingleColumnBT(i.mPosition.x,this._matrix.rowSize-1)))),this.DoGravityArray(R);var w=[];t.mPosition.x<this._centerX?w=Array.from(this._matrix.GetSingleColumnTB(t.mPosition.x,0)):t.mPosition.x>this._centerX?w=Array.from(this._matrix.GetSingleColumnBT(t.mPosition.x,this._matrix.rowSize-1)):t.mPosition.x!=i.mPosition.x&&(i.mPosition.x<this._centerX?w=Array.from(this._matrix.GetSingleColumnTB(t.mPosition.x,0)):i.mPosition.x>this._centerX&&(w=Array.from(this._matrix.GetSingleColumnBT(t.mPosition.x,this._matrix.rowSize-1)))),this.DoGravityArray(w);break;case s.VerticalCounterClockwise:var T=[];i.mPosition.x<this._centerX?T=Array.from(this._matrix.GetSingleColumnBT(i.mPosition.x,this._matrix.rowSize-1)):i.mPosition.x>this._centerX?T=Array.from(this._matrix.GetSingleColumnTB(i.mPosition.x,0)):i.mPosition.x!=t.mPosition.x&&(t.mPosition.x<this._centerX?T=Array.from(this._matrix.GetSingleColumnBT(i.mPosition.x,this._matrix.rowSize-1)):t.mPosition.x>this._centerX&&(T=Array.from(this._matrix.GetSingleColumnTB(i.mPosition.x,0)))),this.DoGravityArray(T);var Y=[];t.mPosition.x<this._centerX?Y=Array.from(this._matrix.GetSingleColumnBT(t.mPosition.x,this._matrix.rowSize-1)):t.mPosition.x>this._centerX?Y=Array.from(this._matrix.GetSingleColumnTB(t.mPosition.x,0)):t.mPosition.x!=i.mPosition.x&&(i.mPosition.x<this._centerX?Y=Array.from(this._matrix.GetSingleColumnBT(t.mPosition.x,this._matrix.rowSize-1)):i.mPosition.x>this._centerX&&(Y=Array.from(this._matrix.GetSingleColumnTB(t.mPosition.x,0)))),this.DoGravityArray(Y)}},i.DoGravityArray=function(i){for(var t=0;t<i.length;t++)this.log("[MatrixGravity] DoGravityArray | BEFORE | gravityGroupS[i].name"+i[t].name+" | isInteractable: "+i[t].isInteractable);var r=-1;for(t=0;t<i.length;t++)this.log("[MatrixGravity] DoGravityArray | gravityGroupS[i].name"+i[t].name+" | isInteractable: "+i[t].isInteractable),this._matrix.holders[i[t].mPosition.row][i[t].mPosition.col].isBorder||(i[t].isInteractable?-1!=r&&(this.log("[MatrixGravity] DoGravityArray | MoveNodeItem: "+i[t].name+" | To: "+i[r].name),i[t].mNodeItem.MoveAndLinkTo(i[r],this._tweenDuration),r++):(-1==r&&(r=t),this.log("[MatrixGravity] DoGravityArray | startPoint: "+r)));for(t=0;t<i.length;t++)this.log("[MatrixGravity] DoGravityArray | AFTER | gravityGroupS[i].name"+i[t].name+" | isInteractable: "+i[t].isInteractable)},t(r,[{key:"tweenDuration",get:function(){return this._tweenDuration}}]),r}())||n);r._RF.pop()}}}));

System.register("chunks:///_virtual/MDataHolder.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,o;return{setters:[function(i){t=i.createClass},function(i){o=i.cclegacy}],execute:function(){o._RF.push({},"27d5bGB9gZM+4Nf2k9+ov1G","MDataHolder",void 0);i("default",function(){function i(i,t){this._manager=void 0,this._mPosition=void 0,this._manager=i,this._mPosition=t}return t(i,[{key:"mPosition",get:function(){return this._mPosition}},{key:"Value",get:function(){return this._manager.GetItemByMPosition(this._mPosition)},set:function(i){this._manager.SetItem(this._mPosition,i)}},{key:"isBorder",get:function(){return 0==this._mPosition.row||this._mPosition.row==this._manager.rowSize-1||0==this._mPosition.col||this._mPosition.col==this._manager.colSize-1}},{key:"isBorderTL",get:function(){return 0==this._mPosition.x&&0==this._mPosition.y}},{key:"isBorderTR",get:function(){return this._mPosition.x==this._manager.colSize-1&&0==this._mPosition.y}},{key:"isBorderBL",get:function(){return 0==this._mPosition.x&&this._mPosition.y==this._manager.rowSize-1}},{key:"isBorderBR",get:function(){return this._mPosition.x==this._manager.colSize-1&&this._mPosition.y==this._manager.rowSize-1}},{key:"isBorderT",get:function(){return 0==this._mPosition.y&&!this.isBorderTL&&!this.isBorderTR}},{key:"isBorderL",get:function(){return 0==this._mPosition.x&&!this.isBorderTL&&!this.isBorderBL}},{key:"isBorderR",get:function(){return this._mPosition.x==this._manager.colSize-1&&!this.isBorderTR&&!this.isBorderBR}},{key:"isBorderB",get:function(){return this._mPosition.y==this._manager.rowSize-1&&!this.isBorderBL&&!this.isBorderBR}}]),i}());o._RF.pop()}}}));

System.register("chunks:///_virtual/MNode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MNodeEffect.ts","./MNodeItem.ts","./MNodePath.ts"],(function(e){var t,n,i,o,r,l,d,u,s,c,a,m,f,h,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){l=e.cclegacy,d=e._decorator,u=e.Sprite,s=e.Node,c=e.v3,a=e.log,m=e.Component},function(e){f=e.default},function(e){h=e.default},function(e){p=e.default}],execute:function(){var _,y,b,N,I,S,g,v,P,k,H,z,w,M,x,B;l._RF.push({},"5f35fgoCOFK/rXmyXHfRfq7","MNode",void 0);var E=d.ccclass,L=d.property;e("default",(_=L({type:u,visible:!0}),y=L({type:s,visible:!0}),b=L({type:s,visible:!0}),N=L({type:p,visible:!0}),I=L({type:s,visible:!0}),S=L({type:h,visible:!0}),g=L({type:f,visible:!0}),E((k=t((P=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"_nodeBaseSprite",k,o(t)),i(t,"_nodeSelected",H,o(t)),i(t,"_nodeHelp",z,o(t)),i(t,"_mNodePath",w,o(t)),i(t,"_nodeItemHolder",M,o(t)),i(t,"_mNodeItem",x,o(t)),i(t,"_mNodeEffect",B,o(t)),t._mPosition=null,t._isSelected=!1,t.onSelected=null,t}n(t,e);var l=t.prototype;return l.InitItem=function(e){this._mNodeItem=e,e.LinkMNode(this),e.node.setParent(this._nodeItemHolder),e.node.setPosition(c(0,0,0)),e.node.active=!0,e.name="Item"+this.mPosition.XYToString+" | index: "+e.itemIndex},l.LinkItem=function(e){this._mNodeItem=e,e.name="Item"+this.mPosition.XYToString+" | index: "+e.itemIndex},l.UnLinkItem=function(){null!=this._mNodeItem&&(this._mNodeItem=null)},l.Reset=function(){this.onSelected=null,this.isSelected=!1,this._mNodeItem=null,this._nodeBaseSprite.node.active=!1,this._nodeSelected.active=!1,this._nodeHelp.active=!1,this._mNodePath.nodePathLabel.node.active=!1,this._mNodeEffect.node.active=!1},l.OnSelected=function(){a(this.name+" | OnSelected"),null!=this.onSelected&&this.onSelected(this)},r(t,[{key:"nodeBaseSprite",get:function(){return this._nodeBaseSprite}},{key:"nodeSelected",get:function(){return this._nodeSelected}},{key:"mNodePath",get:function(){return this._mNodePath}},{key:"nodeItemHolder",get:function(){return this._nodeItemHolder}},{key:"mNodeItem",get:function(){return this._mNodeItem}},{key:"mNodeEffect",get:function(){return this._mNodeEffect}},{key:"mPosition",get:function(){return this._mPosition},set:function(e){this._mPosition=e,this._mNodePath.mPosition=e}},{key:"isSelected",get:function(){return this._isSelected},set:function(e){this._isSelected=e,this._nodeSelected.active=e}},{key:"isInteractable",get:function(){return null!=this._mNodeItem&&this._mNodeItem.itemIndex>=0}}]),t}(m)).prototype,"_nodeBaseSprite",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(P.prototype,"_nodeSelected",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(P.prototype,"_nodeHelp",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(P.prototype,"_mNodePath",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(P.prototype,"_nodeItemHolder",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(P.prototype,"_mNodeItem",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(P.prototype,"_mNodeEffect",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=P))||v));l._RF.pop()}}}));

System.register("chunks:///_virtual/MNodeEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,o,r,a,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Animation,l=t.Component}],execute:function(){var s,f,u,p,d;r._RF.push({},"c8891+8BjlG0qG/bRslr/IH","MNodeEffect",void 0);var y=a.ccclass,h=a.property;t("default",(s=y("MNodeEffect"),f=h({type:c,visible:!0}),s((d=e((p=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,n(e,"_animation",d,o(e)),e}i(e,t);var r=e.prototype;return r.PlayEffect=function(){this._animation.stop();var t=this._animation.getState("Effect-Link");t&&(t.speed=4,t.play()),this.node.active=!0},r.OnAnimDone=function(){this.node.active=!1},e}(l)).prototype,"_animation",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=p))||u));r._RF.pop()}}}));

System.register("chunks:///_virtual/MNodeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,o,r,s,l,p,a,c,d,h,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){s=e.cclegacy,l=e._decorator,p=e.Sprite,a=e.UITransform,c=e.tween,d=e.v3,h=e.UIOpacity,u=e.Component}],execute:function(){var m,_,f,k,H;s._RF.push({},"0c5fcsg8H1Pe79ks+aQBlYQ","MNodeItem",void 0);var v=l.ccclass,w=l.property;e("default",(m=v("MNodeItem"),_=w({type:p,visible:!0}),m((H=t((k=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"_itemSprite",H,o(t)),t._mNodeLinked=null,t._itemIndex=0,t._tweenHelp=null,t._tweenLink=null,t}n(t,e);var s=t.prototype;return s.Init=function(e,t){this._itemIndex=e,this._itemSprite.spriteFrame=t},s.LinkMNode=function(e){this._mNodeLinked=e},s.ChangeTheme=function(e){this._itemSprite.spriteFrame=e},s.MoveAndLinkTo=function(e,t){var n=this;null!=this._mNodeLinked&&this._mNodeLinked.UnLinkItem(),null!=this._tweenLink&&this._tweenLink.stop();var i=this.node.parent.getComponent(a).convertToWorldSpaceAR(this.node.position),o=e.nodeItemHolder.getComponent(a).convertToNodeSpaceAR(i);this.node.setParent(e.nodeItemHolder),this.node.setPosition(o),this._mNodeLinked=e,this._tweenLink=c(this.node).to(t,{position:d(0,0,0)}).call((function(){e.LinkItem(n)})),this._tweenLink.start()},s.HelpShow=function(){this.HelpStop();var e=this.node.getComponent(h)||this.node.addComponent(h);this._tweenHelp=c(e).sequence(c().to(.5,{opacity:0}),c().to(.5,{opacity:255})).repeatForever(),this._tweenHelp.start()},s.HelpHide=function(){this.HelpStop()},s.HelpStop=function(){var e=this;if(null!=this._tweenHelp){this._tweenHelp.stop();var t=this.node.getComponent(h)||this.node.addComponent(h);this._tweenHelp=c(t).to(.5,{opacity:255}).call((function(){e._tweenHelp=null})),this._tweenHelp.start(),this._tweenHelp=null}},r(t,[{key:"mNodeLinked",get:function(){return this._mNodeLinked}},{key:"itemIndex",get:function(){return this._itemIndex}}]),t}(u)).prototype,"_itemSprite",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=k))||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/MNodePath.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,o,n,e,s,r,l,a,h,f,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,e=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,l=t._decorator,a=t.Label,h=t.Node,f=t.tween,c=t.Component}],execute:function(){var u,P,m,_,g,d,S,b,p,v,y,w,L,O,T,N,C;r._RF.push({},"b5d7aKHjUJPIrMpzg/+Nxew","MNodePath",void 0);var R=l.ccclass,B=l.property;t("default",(u=R("MNodePath"),P=B({type:a,visible:!0}),m=B({type:h,visible:!0}),_=B({type:h,visible:!0}),g=B({type:h,visible:!0}),d=B({type:h,visible:!0}),S=B({type:h,visible:!0}),b=B({type:h,visible:!0}),u((y=i((v=function(t){function i(){for(var i,o=arguments.length,s=new Array(o),r=0;r<o;r++)s[r]=arguments[r];return(i=t.call.apply(t,[this].concat(s))||this)._isDebug=!1,n(i,"_nodePathLabel",y,e(i)),n(i,"_centerL",w,e(i)),n(i,"_centerI",L,e(i)),n(i,"_top",O,e(i)),n(i,"_bot",T,e(i)),n(i,"_left",N,e(i)),n(i,"_right",C,e(i)),i._mPosition=null,i}o(i,t);var r=i.prototype;return r.log=function(t){this._isDebug&&console.log(t)},r.ShowPath=function(t,i,o,n,e){var s=this;if(void 0===t&&(t=null),void 0===i&&(i=null),n)return null!=t&&this.ShowSinglePath(t,o),void(null!=i&&this.ShowSinglePath(i,o));var r=this._isDebug?300:o;this.log("[ShowPath] | index: "+this.nodePathLabel.string),null!=t&&null!=i&&(this.ShowSinglePath(t,r),this.ShowSinglePath(i,r),t.mPosition.y==i.mPosition.y?(this.log("[ShowCenter] | R-L | L-R | fromNode: "+t.mPosition.XYToString+" | toNode: "+i.mPosition.XYToString),this.ShowCenter(this._centerI,0,r)):t.mPosition.x==i.mPosition.x?(this.log("[ShowCenter] | T-B | B-T | fromNode: "+t.mPosition.XYToString+" | toNode: "+i.mPosition.XYToString),this.ShowCenter(this._centerI,90,r)):t.mPosition.isLeftOf(this._mPosition)&&i.mPosition.isTopOf(this._mPosition)||i.mPosition.isLeftOf(this._mPosition)&&t.mPosition.isTopOf(this._mPosition)?(this.log("[ShowCenter] | L-T | T-L | fromNode: "+t.mPosition.XYToString+" | toNode: "+i.mPosition.XYToString),this.ShowCenter(this._centerL,180,r)):t.mPosition.isRightOf(this._mPosition)&&i.mPosition.isTopOf(this._mPosition)||i.mPosition.isRightOf(this._mPosition)&&t.mPosition.isTopOf(this._mPosition)?(this.log("[ShowCenter] | R-T | T-R | fromNode: "+t.mPosition.XYToString+" | toNode: "+i.mPosition.XYToString),this.ShowCenter(this._centerL,90,r)):t.mPosition.isRightOf(this._mPosition)&&i.mPosition.isBotOf(this._mPosition)||i.mPosition.isRightOf(this._mPosition)&&t.mPosition.isBotOf(this._mPosition)?(this.log("[ShowCenter] | R-B | B-R | fromNode: "+t.mPosition.XYToString+" | toNode: "+i.mPosition.XYToString),this.ShowCenter(this._centerL,0,r)):(t.mPosition.isLeftOf(this._mPosition)&&i.mPosition.isBotOf(this._mPosition)||i.mPosition.isLeftOf(this._mPosition)&&t.mPosition.isBotOf(this._mPosition))&&(this.log("[ShowCenter] | L-B | B-L | fromNode: "+t.mPosition.XYToString+" | toNode: "+i.mPosition.XYToString),this.ShowCenter(this._centerL,270,r))),this._isDebug&&(this._nodePathLabel.string=e.toString(),f(this.node).call((function(){s._nodePathLabel.node.active=!0})).delay(r).call((function(){s._nodePathLabel.node.active=!1})).start())},r.ShowCenter=function(t,i,o){this.log("[ShowCenter] | center: "+t.name+" | angle: "+i),t.angle=i,f(this.node).call((function(){t.active=!0})).delay(o).call((function(){t.active=!1})).start()},r.ShowSinglePath=function(t,i){var o=this;t.mPosition.isTopOf(this._mPosition)?f(this.node).call((function(){o._top.active=!0})).delay(i).call((function(){o._top.active=!1})).start():t.mPosition.isBotOf(this._mPosition)?f(this.node).call((function(){o._bot.active=!0})).delay(i).call((function(){o._bot.active=!1})).start():t.mPosition.isLeftOf(this._mPosition)?f(this.node).call((function(){o._left.active=!0})).delay(i).call((function(){o._left.active=!1})).start():t.mPosition.isRightOf(this._mPosition)&&f(this.node).call((function(){o._right.active=!0})).delay(i).call((function(){o._right.active=!1})).start()},r.SetOffsetTL=function(){},r.SetOffsetTR=function(){},r.SetOffsetBL=function(){},r.SetOffsetBR=function(){},r.SetOffsetT=function(){},r.SetOffsetB=function(){},r.SetOffsetL=function(){},r.SetOffsetR=function(){},s(i,[{key:"nodePathLabel",get:function(){return this._nodePathLabel}},{key:"mPosition",get:function(){return this._mPosition},set:function(t){this._mPosition=t}}]),i}(c)).prototype,"_nodePathLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(v.prototype,"_centerL",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(v.prototype,"_centerI",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=i(v.prototype,"_top",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=i(v.prototype,"_bot",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(v.prototype,"_left",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(v.prototype,"_right",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=v))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/MPosition.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,n;return{setters:[function(t){i=t.createClass},function(t){n=t.cclegacy}],execute:function(){var o;n._RF.push({},"65525krI5RNOokpO6Tqu8LK","MPosition",void 0);var e=t("default",function(){function t(t,i){this._row=void 0,this._col=void 0,this._row=t,this._col=i}var n=t.prototype;return n.isLeftOf=function(t){return this.x==t.x-1&&this.y==t.y},n.isRightOf=function(t){return this.x==t.x+1&&this.y==t.y},n.isTopOf=function(t){return this.x==t.x&&this.y==t.y-1},n.isBotOf=function(t){return this.x==t.x&&this.y==t.y+1},n.CheckNeighbor=function(t){return t.x==this.x&&(t.y==this.y+1||t.y==this.y-1)||t.y==this.y&&(t.x==this.x+1||t.x==this.x-1)},n.Equals=function(i){return null!==i&&(i===t&&this===i)},i(t,[{key:"row",get:function(){return this._row}},{key:"col",get:function(){return this._col}},{key:"x",get:function(){return this.col}},{key:"y",get:function(){return this.row}},{key:"Left",get:function(){return new t(this.row,this.col-1)}},{key:"Right",get:function(){return new t(this.row,this.col+1)}},{key:"Above",get:function(){return new t(this.row-1,this.col)}},{key:"Below",get:function(){return new t(this.row+1,this.col)}},{key:"ToString",get:function(){return this.RowColToString+" | "+this.XYToString}},{key:"RowColToString",get:function(){return"(row:"+this.row+",col:"+this.col+")"}},{key:"XYToString",get:function(){return"(x:"+this.x+",y:"+this.y+")"}}]),t}());o=e,e.NotSet=new o(1,-1),e.Zero=new o(0,0),n._RF.pop()}}}));

System.register("chunks:///_virtual/NoAdsAvailableScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts"],(function(t){var e,n,i,o,r,a,l,c,s,u,p,b,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,l=t.Node,c=t.UIOpacity,s=t.Button,u=t.Vec3,p=t.tween,b=t.Component},function(t){f=t.default}],execute:function(){var d,y,h,_,v,g,O,m,C,A,w,I;r._RF.push({},"fcdf18mhz5DsohdUDeGWrM+","NoAdsAvailableScreen",void 0);var k=a.ccclass,z=a.property;t("NoAdsAvailableScreen",(d=k("NoAdsAvailableScreen"),y=z({type:l,visible:!0}),h=z({type:l,visible:!0}),_=z({type:c,visible:!0}),v=z({type:s,visible:!0}),d(((I=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"_components",m,o(e)),i(e,"_board",C,o(e)),i(e,"_backgroundUIOpacity",A,o(e)),i(e,"_btnClose",w,o(e)),e.OnClose=null,e.IsOpen=!1,e}n(e,t);var r=e.prototype;return r.onLoad=function(){null==e.instance?e.instance=this:this.destroy()},r.start=function(){var t=this;this._btnClose.node.on("click",(function(){t.OnCloseClicked()}),this)},r.Open=function(){this.IsOpen=!0,this._components.active=!0,this._board.setScale(new u(0,0,0)),p(this._board).to(.2,{scale:new u(1,1,1)}).start(),p(this._backgroundUIOpacity).to(.2,{opacity:204}).start()},r.Close=function(){var t=this;this.IsOpen=!1,p(this._backgroundUIOpacity).to(.2,{opacity:0}).start(),p(this._board).to(.2,{scale:new u(0,0,0)}).call((function(){t._components.active=!1})).start()},r.OnCloseClicked=function(){f.PlayEffect(f.instance.buttonFX,!1),this.Close()},e}(b)).instance=null,m=e((O=I).prototype,"_components",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(O.prototype,"_board",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(O.prototype,"_backgroundUIOpacity",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(O.prototype,"_btnClose",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=O))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/OnetMatrix.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BetterMatrix.ts","./MPosition.ts","./FiveNodePool.ts","./AudioManager.ts","./ItemManager.ts","./LevelManager.ts","./MNode.ts","./MNodeItem.ts","./PauseScreen.ts","./MatrixGravity.ts","./GameoverScreen.ts","./OnetSearch.ts","./GameData.ts","./OnetMatrixSize.ts","./DevTools.ts","./VictoryScreen.ts","./OnetTopZone.ts","./HelpScreen.ts","./CollectionScreen.ts","./Item.ts","./AnimalDataManager.ts","./YandexAdsManager.ts","./ysdk.ts","./LeaderboardManager.ts","./LoginRequest.ts","./RequestLoginScreen.ts","./RankingScreen.ts","./NoAdsAvailableScreen.ts","./LanguageManager.ts"],(function(e){var t,n,i,o,a,s,l,r,c,d,u,h,m,f,_,S,v,x,N,g,I,p,M,P,y,L,O,C,b,A,T,w,D,R,k,F,B,G,z,E,W,V,Z,X;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass,s=e.asyncToGenerator,l=e.regeneratorRuntime},function(e){r=e.cclegacy,c=e._decorator,d=e.Prefab,u=e.Node,h=e.UITransform,m=e.tween,f=e.Component},function(e){_=e.default},function(e){S=e.default},function(e){v=e.default},function(e){x=e.default},function(e){N=e.default},function(e){g=e.default},function(e){I=e.default},function(e){p=e.default},function(e){M=e.default},function(e){P=e.default},function(e){y=e.default},function(e){L=e.default},function(e){O=e.default},function(e){C=e.default},function(e){b=e.default},function(e){A=e.default},function(e){T=e.default},function(e){w=e.default},function(e){D=e.CollectionScreen},function(e){R=e.ItemStatus},function(e){k=e.AnimalDataManager},function(e){F=e.YandexAdsManager},function(e){B=e.l10n,G=e.ysdk},function(e){z=e.LeaderboardManager},function(e){E=e.LoginRequest},function(e){W=e.RequestLoginScreen},function(e){V=e.RankingScreen},function(e){Z=e.NoAdsAvailableScreen},function(e){X=e.LanguageManager}],execute:function(){var H,U,Y,q,j,J,K,Q,$,ee,te,ne,ie,oe;r._RF.push({},"b0b6cW761hPPKMF0zSkvUoS","OnetMatrix",void 0);var ae=c.ccclass,se=c.property;e("default",(H=ae("OnetMatrix"),U=se({type:d,visible:!0}),Y=se({type:d,visible:!0}),q=se({type:u,visible:!0}),j=se({type:T,visible:!0}),J=se({type:u,visible:!0}),H(((oe=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))||this).isDebug=!0,i(t,"_mNodePrefab",$,o(t)),i(t,"_mNodeItemPrefab",ee,o(t)),i(t,"_mNodePoolHolder",te,o(t)),i(t,"_onetTopZone",ne,o(t)),i(t,"_boardBG",ie,o(t)),t._mNodeMatrix=new _,t._mNodePool=void 0,t._mNodeItemPool=void 0,t._matrixSize=void 0,t._onetSearch=void 0,t._matrixGravity=void 0,t._curLevelIndex=0,t._curLevelData=null,t._lastAdShowTime=0,t.AD_COOLDOWN=60,t._isFinished=!1,t._isRetry=!1,t._AdsLoading=!1,t._tweenScore=null,t._curScore=0,t._curScoreCurrent=0,t._helpMNodeItemS=null,t._helpMNodeItemE=null,t._allMNodeItem=[],t._autoPlayTween=null,t}n(t,e);var r=t.prototype;return r.log=function(e){this.isDebug&&console.log(e)},r.onLoad=function(){null==t.instance?t.instance=this:this.destroy()},r.start=function(){var e=s(l().mark((function e(){var t=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.Prepare(),O.instance.GetAllDataAsync(),g.instance.Prepare(),k.instance.Prepare()]).then((function(){if(t.log("[OnetMatrix] start | Prepare Completed | "+t._mNodePool.poolName),null!=O.instance.saveableLevelData&&null!=O.instance.saveableLevelData.levelIndex){t.log("[OnetMatrix] start | Prepare Completed | Load Saved Data");try{t.LoadSavedData(O.instance.saveableLevelData)}catch(e){t.log("[OnetMatrix] start | Prepare Completed | Load Saved Data | EXCEPTION: "+e),t._mNodePool.CollectAll(),t._mNodeItemPool.CollectAll(),t.Load(g.instance.GetLevelData(O.instance.saveableLevelData.levelIndex))}}else t.log("[OnetMatrix] start | Prepare Completed | Load Level 0"),t.Load(g.instance.GetLevelData(0));t._onetTopZone.findConsumeable.curTime=O.instance.findTimes,t._onetTopZone.shuffleConsumeable.curTime=O.instance.shufflingTimes,void 0!==G&&F.instance.SetIntervalInterstitial(3e4),X.instance.loadLanguageFromGameData(),0!==t._curScore?t._curLevelData.matrixSize.x*t._curLevelData.matrixSize.y>t._allMNodeItem.length&&t.OnPauseClicked():t.OnHelpClicked(),t.SetSizeBoardBG(),x.instance.playBackgroundMusic()}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.SetSizeBoardBG=function(){this._boardBG.active=!0,this._boardBG.setPosition(this.node.position.x,this.node.position.y-12.2),this._boardBG.setScale(this._matrixSize.scaleRatio*this._curLevelData.matrixSize.x+.125,this._matrixSize.scaleRatio*this._curLevelData.matrixSize.y+.3)},r.canShowAd=function(){return Math.floor(Date.now()/1e3)-this._lastAdShowTime>=this.AD_COOLDOWN},r.Prepare=function(){var e=s(l().mark((function e(){var n=this;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.log("[OnetMatrix] Prepare"),this._mNodePool=new v(I,"[FiveNodePool]-MNode",this._mNodePrefab,this._mNodePoolHolder,48),this._mNodePool.Initialize(),this._mNodeItemPool=new v(p,"[FiveNodePool]-MNodeItem",this._mNodeItemPrefab,this._mNodePoolHolder,48),this._mNodeItemPool.Initialize(),M.instance.btnNewGame.node.on("click",(function(){x.PlayEffect(x.instance.buttonFX,!1),n.canShowAd()?(n._lastAdShowTime=Math.floor(Date.now()/1e3),F.instance.ShowInterstitialAd((function(){n.Retry(),M.instance.Close()}),(function(){n.Retry(),M.instance.Close()}))):(n.Retry(),M.instance.Close())}),this),M.instance.btnContinue.node.on("click",(function(){x.PlayEffect(x.instance.buttonFX,!1),t.isPlaying=!0,M.instance.Close()}),this),M.instance.btnClose.node.on("click",(function(){x.PlayEffect(x.instance.buttonFX,!1),t.isPlaying=!0,M.instance.Close()}),this),y.instance.btnRetry.node.on("click",(function(){x.PlayEffect(x.instance.buttonFX,!1),n.Retry(),y.instance.Close(),M.instance.Close()}),this),y.instance.btnContinueAds.node.on("click",(function(){x.PlayEffect(x.instance.buttonFX,!1),n.OnGameoverContinue(120)}),this),this._onetTopZone.findConsumeable.btnConsume.node.on("click",(function(){n.OnFind()}),this),this._onetTopZone.shuffleConsumeable.btnConsume.node.on("click",(function(){n.OnShuffle()}),this),this._onetTopZone.displayItemsCollectionButton.node.on("click",(function(){n.OnDisplayItemsCollection()}),this),this._onetTopZone.btnPause.node.on("click",(function(){n.OnPauseClicked()}),this),this._onetTopZone.btnRanking.node.on("click",(function(){n.OnGetListLeaderboard()})),this.log("[OnetMatrix] Prepare | Completed"),G&&G.features&&G.features.LoadingAPI?(G.features.LoadingAPI.ready(),console.log("[OnetMatrix] LoadingAPI.Ready called success!.")):console.error("[OnetMatrix] LoadingAPI.Ready not success!"),e.abrupt("return",Promise.resolve());case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.Load=function(e){this.log("[OnetMatrix] Load | levelData | "+this._curLevelIndex+" | data: "+e.toString()),this._curLevelData=e,this._matrixSize=new C(e.matrixSize,this.node.getComponent(h).contentSize);var n=this._matrixSize.minX,i=this._matrixSize.maxY,o=this.GetItemIndexRandom(e);this._allMNodeItem=[],this._mNodeMatrix.InitEmpty(new S(this._matrixSize.rowCount,this._matrixSize.colCount));for(var a=0;a<this._matrixSize.rowCount;a++){for(var s=0;s<this._matrixSize.colCount;s++){var l=this._mNodePool.Provide(this.node);if(l.Reset(),l.node.setScale(this._matrixSize.scaleRatio,this._matrixSize.scaleRatio),l.node.setPosition(n,i,0),n+=this._matrixSize.nodeSize,l.node.active=!0,this._mNodeMatrix.SetItem(new S(a,s),l),l.name="Node"+l.mPosition.XYToString,this._mNodeMatrix.holders[a][s].isBorder)l.nodeBaseSprite.node.active=!1,this._mNodeMatrix.holders[a][s].isBorderTL?this._mNodeMatrix.holders[a][s].Value.mNodePath.SetOffsetTL():this._mNodeMatrix.holders[a][s].isBorderTR?this._mNodeMatrix.holders[a][s].Value.mNodePath.SetOffsetTR():this._mNodeMatrix.holders[a][s].isBorderBL?this._mNodeMatrix.holders[a][s].Value.mNodePath.SetOffsetBL():this._mNodeMatrix.holders[a][s].isBorderBR?this._mNodeMatrix.holders[a][s].Value.mNodePath.SetOffsetBR():this._mNodeMatrix.holders[a][s].isBorderT?this._mNodeMatrix.holders[a][s].Value.mNodePath.SetOffsetT():this._mNodeMatrix.holders[a][s].isBorderB?this._mNodeMatrix.holders[a][s].Value.mNodePath.SetOffsetB():this._mNodeMatrix.holders[a][s].isBorderL?this._mNodeMatrix.holders[a][s].Value.mNodePath.SetOffsetL():this._mNodeMatrix.holders[a][s].isBorderR&&this._mNodeMatrix.holders[a][s].Value.mNodePath.SetOffsetR();else{var r=this._mNodeItemPool.Provide(this.node);this._allMNodeItem.push(r);var c=Math.round(this.getRandom(0,o.length-1));r.Init(o[c],N.instance.GetItem(o[c])),l.InitItem(r),l.onSelected=t.OnMNodeSelected,l.nodeBaseSprite.node.active=!0,o.splice(c,1)}}n=this._matrixSize.minX,i-=this._matrixSize.nodeSize}this.log("[OnetMatrix] AllMNodeItem: "+this._allMNodeItem.length),this._onetSearch=new L(this._mNodeMatrix),this._matrixGravity=new P(this._mNodeMatrix),this._matrixGravity.SetGravityType(e.gravityType,.25),this._isRetry&&(0!==this.curScoreCurrent&&(this.curScore=this.curScore-this.curScoreCurrent),this.curScoreCurrent=0,this._isRetry=!1),this.SetSizeBoardBG(),x.instance.playBackgroundMusic(),this._onetTopZone.curLevelLabel.string=B.t("level")+" "+(this._curLevelIndex+1).toString(),this._onetTopZone.countDownTimer.Init(e.time,this.OnTimeOut),this._isFinished=!1,t.isPlaying=!0,t.isFinishedResolve=!0,this.SaveGame(),b.instance.isAutoPlay&&this.EnableAutoPlay(),this.log("[OnetMatrix] Load | DONE | itemIndexRand.length: "+o.length)},r.GetItemIndexRandom=function(e){var t=e.matrixSize.x*e.matrixSize.y,n=t/2;this.log("[OnetMatrix] Load | itemsTotal: "+t+" | itemsPair: "+n);var i=N.instance.GetAvailableItemByLevel(this._curLevelIndex+1),o=Array.from({length:i+1},(function(e,t){return t})),a=e.itemCount,s=Math.min(N.instance.itemNumbers-1,a),l=o.slice(-s);this.log("[OnetMatrix] Load | ItemCount: "+a),this.log("[OnetMatrix] Load | UnlockedItems: "+o),this.log("[OnetMatrix] Load | ChosenItems: "+l);for(var r=[],c=0;c<Math.min(l.length,n);c++)r.push(l[c],l[c]);for(this.log("[OnetMatrix] Load | MakeSure-itemIndexRand.length: "+r.length);r.length/2<n;){var d=Math.floor(Math.random()*l.length);r.push(l[d],l[d])}return r},r.LoadSavedData=function(e){this.log("[OnetMatrix] LoadSavedData"),this._allMNodeItem=[],this._curLevelData=g.instance.GetLevelData(e.levelIndex),this._curLevelIndex=e.levelIndex,this._matrixSize=new C(this._curLevelData.matrixSize,this.node.getComponent(h).contentSize);var n=this._matrixSize.minX,i=this._matrixSize.maxY;this._mNodeMatrix.InitEmpty(new S(this._matrixSize.rowCount,this._matrixSize.colCount));for(var o=0;o<this._matrixSize.rowCount;o++){for(var a=0;a<this._matrixSize.colCount;a++){var s=this._mNodePool.Provide(this.node);if(s.Reset(),s.node.setScale(this._matrixSize.scaleRatio,this._matrixSize.scaleRatio),s.node.setPosition(n,i,0),n+=this._matrixSize.nodeSize,s.node.active=!0,this._mNodeMatrix.SetItem(new S(o,a),s),s.name="Node"+s.mPosition.XYToString,this._mNodeMatrix.holders[o][a].isBorder)s.nodeBaseSprite.node.active=!1,this._mNodeMatrix.holders[o][a].isBorderTL?this._mNodeMatrix.holders[o][a].Value.mNodePath.SetOffsetTL():this._mNodeMatrix.holders[o][a].isBorderTR?this._mNodeMatrix.holders[o][a].Value.mNodePath.SetOffsetTR():this._mNodeMatrix.holders[o][a].isBorderBL?this._mNodeMatrix.holders[o][a].Value.mNodePath.SetOffsetBL():this._mNodeMatrix.holders[o][a].isBorderBR?this._mNodeMatrix.holders[o][a].Value.mNodePath.SetOffsetBR():this._mNodeMatrix.holders[o][a].isBorderT?this._mNodeMatrix.holders[o][a].Value.mNodePath.SetOffsetT():this._mNodeMatrix.holders[o][a].isBorderB?this._mNodeMatrix.holders[o][a].Value.mNodePath.SetOffsetB():this._mNodeMatrix.holders[o][a].isBorderL?this._mNodeMatrix.holders[o][a].Value.mNodePath.SetOffsetL():this._mNodeMatrix.holders[o][a].isBorderR&&this._mNodeMatrix.holders[o][a].Value.mNodePath.SetOffsetR();else{var l=e.matrix[o][a];if(l>-1){var r=this._mNodeItemPool.Provide(this.node);this._allMNodeItem.push(r),r.Init(l,N.instance.GetItem(l)),s.InitItem(r)}s.onSelected=t.OnMNodeSelected,s.nodeBaseSprite.node.active=!0}}n=this._matrixSize.minX,i-=this._matrixSize.nodeSize}this._onetTopZone.curLevelLabel.string=B.t("level")+" "+(e.levelIndex+1).toString(),this.curScore=e.curScore,this._onetSearch=new L(this._mNodeMatrix),this._matrixGravity=new P(this._mNodeMatrix),this._matrixGravity.SetGravityType(this._curLevelData.gravityType,.25),this._onetTopZone.countDownTimer.Init(this._curLevelData.time,this.OnTimeOut),this._onetTopZone.countDownTimer.SetCurTime(e.curTime),e.curTime<=0?this.OnTimeOut():e.isFinished?(this._isFinished=!0,this.OnFinished(!0)):(this._isFinished=!1,t.isPlaying=!0,b.instance.isAutoPlay&&this.EnableAutoPlay()),this.log("[OnetMatrix] LoadSavedData | Done")},r.AutoPlay=function(){var e=this;this.log("[OnetMatrix] AutoPlay"),null!=this._autoPlayTween&&(this._autoPlayTween.stop(),this._autoPlayTween=null),this._autoPlayTween=m(this.node).sequence(m().delay(0),m().call((function(){t._isPlaying&&!e._isFinished&&e.FindMove(!1)&&(e.Resolve(e._helpMNodeItemS.mNodeLinked,e._helpMNodeItemE.mNodeLinked),m().delay(0).start())}))).repeatForever().start()},r.EnableAutoPlay=function(){this.AutoPlay()},r.DisableAutoPlay=function(){null!=this._autoPlayTween&&this._autoPlayTween.stop()},t.OnMNodeSelected=function(e){t.instance.log("[OnetMatrix] OnMNodeSelected | "+e.name+" | isInteractable: "+e.isInteractable+"| isPlaying: "+t.isPlaying+" | isFinishedResolve: "+t.isFinishedResolve),e.isInteractable&&t.isPlaying&&t.isFinishedResolve&&(null==t.curSelected?(t.curSelected=e,e.isSelected=!0,x.PlayEffect(x.instance.nodeSelectedFX,!1),t.instance.log("[OnetMatrix] OnMNodeSelected | Set at first selected | "+t.curSelected.name)):t.curSelected==e?(e.isSelected=!1,t.curSelected=null,x.PlayEffect(x.instance.nodeUnselectedFX,!1),t.instance.log("[OnetMatrix] OnMNodeSelected | un-selected")):(t.instance.log("[OnetMatrix] OnMNodeSelected | Resolve two node"),t.instance.Resolve(t.curSelected,e)))},r.Resolve=function(e,n){var i=this;if(this.log("[OnetMatrix] Resolve | startNode: "+e.name+" - itemIndex: "+e.mNodeItem.itemIndex+" | endNode: "+n.name+" - itemIndex: "+n.mNodeItem.itemIndex),this.RemoveHelps(),e.mNodeItem.itemIndex==n.mNodeItem.itemIndex){var o=this._onetSearch.SearchShortestPath(e,n);this.log("[OnetMatrix] Resolve | isHasPath: "+o),o?(O.instance.IncrementHuntCount(e.mNodeItem.itemIndex),this.curScore+=20,this.curScoreCurrent+=20,this.ShowPath(this._onetSearch.mNodePath),this._allMNodeItem.splice(this._allMNodeItem.indexOf(e.mNodeItem),1),this._mNodeItemPool.Collect(e.mNodeItem),e.UnLinkItem(),e.mNodeEffect.PlayEffect(),this._allMNodeItem.splice(this._allMNodeItem.indexOf(n.mNodeItem),1),this._mNodeItemPool.Collect(n.mNodeItem),n.UnLinkItem(),n.mNodeEffect.PlayEffect(),e.nodeSelected.active=n.nodeSelected.active=!1,t.curSelected=null,x.PlayEffect(x.instance.nodeLinkedFX,!1),t.isPlaying=!1,t.isFinishedResolve=!1,O.instance.SaveLocalAllData(),m(this.node).delay(.25).call((function(){i._matrixGravity.DoGravity(e,n)})).delay(this._matrixGravity.tweenDuration+.05).call((function(){t.isFinishedResolve=!0,t.isPlaying=!0,i.CheckFinished()&&0==i._isFinished?(i._isFinished=!0,i.OnFinished(!1),i.SaveGame()):4==i._allMNodeItem.length?i.CheckCube():i.FindMove(!1)?i.SaveGame():i.Shuffing()})).start()):(e.isSelected=!1,n.isSelected=!0,t.curSelected=n,x.PlayEffect(x.instance.nodeLinkWrongFX,!1))}else this.log("[OnetMatrix] Resolve | Different Item"),e.isSelected=!1,n.isSelected=!0,t.curSelected=n,x.PlayEffect(x.instance.nodeLinkWrongFX,!1)},r.RemoveHelps=function(){this.log("[OnetMatrix] RemoveHelps"),null!=this._helpMNodeItemS&&(this._helpMNodeItemS.HelpHide(),this._helpMNodeItemS=null),null!=this._helpMNodeItemE&&(this._helpMNodeItemE.HelpHide(),this._helpMNodeItemE=null)},r.FindMove=function(e){if(this.log("[OnetMatrix] FindMove"),t.isPlaying){null!=t.curSelected&&(t.curSelected.isSelected=!1,t.curSelected=null);for(var n=new Map,i=[],o=this._mNodeMatrix.GetNotBorder(),a=o.next();!a.done;){var s=a.value.Value;if(s.isInteractable&&s.mNodeItem.itemIndex>=0)n.has(s.mNodeItem.itemIndex)||(n.set(s.mNodeItem.itemIndex,[]),-1===i.indexOf(s.mNodeItem.itemIndex)&&i.push(s.mNodeItem.itemIndex)),n.get(s.mNodeItem.itemIndex).push(s);a=o.next()}for(var l=!1,r=0;r<i.length&&!l;r++)for(var c=n.get(i[r]),d=0;d<c.length&&!l;d++)for(var u=d+1;u<c.length&&!l;u++){if(l=this._onetSearch.SearchShortestPath(c[d],c[u])){this._helpMNodeItemS=c[d].mNodeItem,this._helpMNodeItemE=c[u].mNodeItem,e&&(this._helpMNodeItemS.HelpShow(),this._helpMNodeItemE.HelpShow()),l=!0;break}}return this.log("[OnetMatrix] FindMove | DONE | result: "+l),l}},r.Shuffing=function(){var e=this;if(this.log("[OnetMatrix] Shuffing"),t.isPlaying){null!=t.curSelected&&(t.curSelected.isSelected=!1,t.curSelected=null),this.RemoveHelps(),t.isPlaying=!1;for(var n=[],i=[],o=this._mNodeMatrix.GetNotBorder(),a=o.next();!a.done;){if(a.value.Value.isInteractable){var s=a.value.Value;n.push(s.mNodeItem),i.push(s)}a=o.next()}m(this.node).call((function(){for(var t=0;t<n.length;t++){var o=n[t],a=Math.round(e.getRandom(0,i.length-1)),s=i[a];o.MoveAndLinkTo(s,.5),i.splice(a,1)}})).delay(.6).call((function(){t.isPlaying=!0,e.SaveGame()})).start()}},r.DisplayItemsCollection=function(){this.log("[OnetMatrix] ChangeTheme"),D.instance.Open(),D.instance.OpenItemCollectionMap(!0),D.instance.SetCloseItemMapStatus(!0),D.instance.SetMapScrollViewInteract(!0),D.instance.SetEnableMoveButtons(!0),D.instance.SetNextlevelActive(!1),N.instance.GetItemIndexByLevel(this._curLevelIndex+1)>=N.instance.itemNumbers&&m(this.node).delay(.5).call((function(){console.log("[OnetMatrix] DisplayItemsCollection: Display waiting new item"),D.instance.OpenWaitingNewItem(),D.instance.SetCloseWaitingItemStatus(!0)})).start()},r.ShowPath=function(e){for(var t=e.length,n=0;n<t;n++)e[n].mNodePath.ShowPath(n-1>=0?e[n-1]:null,n+1<t?e[n+1]:null,.2,2==t,n)},r.getRandom=function(e,t){return Math.random()*(t-e)+e},r.CheckFinished=function(){for(var e=this._mNodeMatrix.GetNotBorder(),t=e.next();!t.done;){if(t.value.Value.isInteractable)return!1;t=e.next()}return!0},r.CheckCube=function(){var e=this;if(4==this._allMNodeItem.length){for(var n=this._allMNodeItem[0].mNodeLinked.mPosition.x,i=this._allMNodeItem[0].mNodeLinked.mPosition.x,o=this._allMNodeItem[0].mNodeLinked.mPosition.y,a=this._allMNodeItem[0].mNodeLinked.mPosition.y,s=0;s<this._allMNodeItem.length;s++)this._allMNodeItem[s].mNodeLinked.mPosition.x<n&&(n=this._allMNodeItem[s].mNodeLinked.mPosition.x),this._allMNodeItem[s].mNodeLinked.mPosition.x>i&&(i=this._allMNodeItem[s].mNodeLinked.mPosition.x),this._allMNodeItem[s].mNodeLinked.mPosition.y<o&&(o=this._allMNodeItem[s].mNodeLinked.mPosition.y),this._allMNodeItem[s].mNodeLinked.mPosition.y>a&&(a=this._allMNodeItem[s].mNodeLinked.mPosition.y);if(i-n==1&&a-o==1&&0==this.FindMove(!1)){var l=this._mNodeMatrix.GetItemByXY(n,o),r=this._mNodeMatrix.GetItemByXY(n,a);t.isPlaying=!1,l.mNodeItem.MoveAndLinkTo(r,.5),r.mNodeItem.MoveAndLinkTo(l,.5),m(this.node).delay(.55).call((function(){t.isPlaying=!0,e.SaveGame()})).start()}}},r.OnFinished=function(e){if(this.log("[OnetMatrix] OnFinished"),null!=this._autoPlayTween&&(this._autoPlayTween.stop(),this._autoPlayTween=null),this._boardBG.active=!1,this.curScoreCurrent=0,t.isPlaying=!1,x.instance.stopBackgroundMusic(),O.instance.SaveRemoteAllDataAsync(),O.instance.SaveLocalAllData(),z.instance.SetDataScoreLeaderboard(this.curScore),(this._curLevelIndex+1)%N.instance.GetLevelPerReward!=0)this.OnWinNormalLevel(e);else{var n=N.instance.GetItemIndexByLevel(this._curLevelIndex+2),i=N.instance.GetAvailableItemByLevel(this._curLevelIndex+2);n<N.instance.itemNumbers?(N.instance.AddSelectedItem(i),this.OnWinRewardItem(e)):n-N.instance.itemNumbers==0?this.OnWinWaitingItem(e):this.OnWinNormalLevel(e)}},r.OnWinRewardItem=function(e){var t=this;console.log("[OnetMatrix] Win reward item: Enable victory screen"),A.instance.curLevelLabel.string=(this._curLevelIndex+1).toString(),A.instance.curPointLabel.string=this.curScore.toString(),A.instance.Open(),m(this.node).delay(2).call((function(){console.log("[OnetMatrix] Win reward item: Disenable victory screen"),A.instance.Close(),D.instance.Open(),D.instance.OpenCongratulationVFX(t._curLevelIndex+1)})).delay(2.5).call((function(){console.log("[OnetMatrix] Win reward item: Enable congratulation panel & item collection map"),D.instance.OpenItemCollectionMap(!1),D.instance.EnableNextItem(R.Locked),D.instance.IncreaseNextItemContentSize(),D.instance.SetJustUnlockNextItem(),D.instance.SetMapScrollViewInteract(!1),D.instance.SetNextlevelActive(!0)})).delay(.2).call((function(){return D.instance.CloseCongratulationVFX()})).start()},r.OnWinWaitingItem=function(e){console.log("[OnetMatrix] Win waiting item: Enable victory screen"),A.instance.curLevelLabel.string=(this._curLevelIndex+1).toString(),A.instance.curPointLabel.string=this.curScore.toString(),A.instance.Open(),m(this.node).delay(2).call((function(){console.log("[OnetMatrix] Win waiting item: Disenable victory screen & enable waiting"),A.instance.Close(),D.instance.Open(),D.instance.OpenWaitingNewItem(),D.instance.SetCloseWaitingItemStatus(!1),D.instance.SetNextlevelActive(!0)})).start()},r.OnWinNormalLevel=function(e){console.log("[OnetMatrix] Win Normal Level: Enable victory screen"),A.instance.curLevelLabel.string=(this._curLevelIndex+1).toString(),A.instance.curPointLabel.string=this.curScore.toString(),A.instance.Open(),A.instance.SetNextlevelActive(!0)},r.OnNextLevel=function(){this.RemoveHelps(),x.PlayEffect(x.instance.buttonFX,!1),this.OnVictoryNext(b.instance.isSkipAds)},r.SaveGame=function(){var e=s(l().mark((function e(){var t,n,i,o,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b.instance.isSkipSave){e.next=3;break}return this.log("[OnetMatrix] SaveGame | DevTools isSkipSave"),e.abrupt("return");case 3:for(this.log("[OnetMatrix] SaveGame"),t=[],n=0;n<this._mNodeMatrix.rowSize;n++)for(i=0;i<this._mNodeMatrix.colSize;i++)null==t[n]&&(t[n]=[]),null==(o=this._mNodeMatrix.holders[n][i].Value).mNodeItem?t[n][i]=-1:t[n][i]=o.mNodeItem.itemIndex;a={matrix:t,levelIndex:this._curLevelIndex,curTime:this._onetTopZone.countDownTimer.curTime,curScore:this.curScore,isFinished:this._isFinished},O.instance.saveableLevelData=a;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.OnTimeOut=function(){null!=t.curSelected&&t.curSelected.isSelected&&(t.curSelected.isSelected=!1,t.curSelected=null),t.isPlaying=!1,y.instance.Open(),x.instance.stopBackgroundMusic(),this.SaveGame(),this.log("[OnetMatrix] OnTimeOut | this._isPlaying: "+t.isPlaying),O.instance.SaveRemoteAllDataAsync(),O.instance.SaveLocalAllData()},r.OnFind=function(){var e=this;this._onetTopZone.findConsumeable.curTime>0&&t.isPlaying?(this._onetTopZone.findConsumeable.curTime-=1,O.instance.findTimes=this._onetTopZone.findConsumeable.curTime,x.PlayEffect(x.instance.buttonFX,!1),this.FindMove(!0)):(x.PlayEffect(x.instance.buttonFX,!1),this.WatchAdsAndAddConsumeableItem((function(){return e._onetTopZone.findConsumeable.curTime+=1})))},r.OnShuffle=function(){var e=this;this._onetTopZone.shuffleConsumeable.curTime>0&&t.isPlaying?(this._onetTopZone.shuffleConsumeable.curTime-=1,O.instance.shufflingTimes=this._onetTopZone.shuffleConsumeable.curTime,x.PlayEffect(x.instance.buttonFX,!1),this.Shuffing()):(x.PlayEffect(x.instance.buttonFX,!1),this.WatchAdsAndAddConsumeableItem((function(){return e._onetTopZone.shuffleConsumeable.curTime+=1})))},r.OnDisplayItemsCollection=function(){t.isPlaying&&(x.PlayEffect(x.instance.buttonFX,!1),this.DisplayItemsCollection())},r.WatchAdsAndAddConsumeableItem=function(e){var n=this;if(this._AdsLoading)return console.log("[OneMatrix] | WatchAdsAndAddConsumeableItem | FAIl | Cause: ads loading"),void Z.instance.Open();this._AdsLoading=!0,this.scheduleOnce((function(){n._AdsLoading=!1}),3),F.instance.ShowRewardedAd((function(){n._AdsLoading=!1,t.isPlaying=!1,x.instance.PauseWithoutTween()}),(function(){n._AdsLoading=!1,e(),t.isPlaying=!0,x.instance.ContinueWithoutTween(),n.TrackingCloseNoAdsPopup(),n.log("[OnetMatrix] WatchAdsAndAddConsumeableItem | SUCCEED")}),(function(){t.isPlaying=!0,Z.instance.Open(),n._AdsLoading=!1,n.log("[OnetMatrix] WatchAdsAndAddConsumeableItem | FAILED")}),(function(){t.isPlaying=!0,x.instance.ContinueWithoutTween(),n._AdsLoading=!1,n.TrackingCloseNoAdsPopup(),n.log("[OnetMatrix] WatchAdsAndAddConsumeableItem | CLOSED")}))},r.Retry=function(){this.RemoveHelps(),this._mNodePool.CollectAll(),this._mNodeItemPool.CollectAll(),this._isRetry=!0,this.Load(this._curLevelData)},r.PlayLevel=function(e){null!=this._autoPlayTween&&(this._autoPlayTween.stop(),this._autoPlayTween=null),this.RemoveHelps(),y.instance.Close(),A.instance.Close(),this._mNodePool.CollectAll(),this._mNodeItemPool.CollectAll(),this._curLevelIndex=e,this.Load(g.instance.GetLevelData(e))},r.OnGameoverContinue=function(e){var n=this;if(this._AdsLoading)return console.log("[OneMatrix] | OnGameoverContinue | FAIl | Cause: ads loading"),void Z.instance.Open();this._AdsLoading=!0,this.scheduleOnce((function(){n._AdsLoading=!1}),3);var i=e<this._curLevelData.time?e:this._curLevelData.time;F.instance.ShowRewardedAd((function(){t.isPlaying=!1,n._AdsLoading=!1,x.instance.PauseWithoutTween()}),(function(){n._AdsLoading=!1,n._onetTopZone.countDownTimer.SetCurTime(i),n.TrackingCloseNoAdsPopup(),x.instance.ContinueWithoutTween(),y.instance.Close(),t.isPlaying=!0}),(function(){n._AdsLoading=!1}),(function(){n._AdsLoading=!1,n.TrackingCloseNoAdsPopup()}),!1)},r.TrackingCloseNoAdsPopup=function(){Z.instance.IsOpen&&Z.instance.Close()},r.OnVictoryNext=function(e){var t=this;e?(this.log("[OnetMatrix] | OnVictoryNext"),this._mNodePool.CollectAll(),this._mNodeItemPool.CollectAll(),this._curLevelIndex++,this.Load(g.instance.GetLevelData(this._curLevelIndex)),A.instance.Close(),O.instance.SaveRemoteAllDataAsync(),O.instance.SaveLocalAllData()):F.instance.ShowInterstitialAd((function(){t.log("[OnetMatrix] | OnVictoryNext"),t._mNodePool.CollectAll(),t._mNodeItemPool.CollectAll(),t._curLevelIndex++,t.Load(g.instance.GetLevelData(t._curLevelIndex)),A.instance.Close()}),(function(){t.log("[OnetMatrix] | OnVictoryNext"),t._mNodePool.CollectAll(),t._mNodeItemPool.CollectAll(),t._curLevelIndex++,t.Load(g.instance.GetLevelData(t._curLevelIndex)),A.instance.Close(),O.instance.SaveRemoteAllDataAsync(),O.instance.SaveLocalAllData()}),!1)},r.OnPauseGame=function(e){t.isPlaying=!e},r.OnHelpClicked=function(){x.PlayEffect(x.instance.buttonFX,!1),t.isPlaying=!1,w.instance.Open()},r.OnPauseClicked=function(){x.PlayEffect(x.instance.buttonFX,!1),M.instance.curLevelLabel.string="Level "+(this._curLevelIndex+1).toString(),M.instance.curPointLabel.string=this.curScore.toString(),M.instance.Open(),O.instance.SaveRemoteAllDataAsync(),O.instance.SaveLocalAllData()},r.OnGetListLeaderboard=function(){E.instance.CheckPlayerLogin()?V.instance.Open():W.instance.Open()},a(t,[{key:"curScoreCurrent",get:function(){return this._curScoreCurrent},set:function(e){this._curScoreCurrent=e}},{key:"curScore",get:function(){return this._curScore},set:function(e){var t=this,n=this._curScore;if(this._curScore=e,0!=this._curScore){null!=this._tweenScore&&this._tweenScore.stop();var i=0;this._tweenScore=m(this.node).sequence(m().call((function(){var e,o,a;t._onetTopZone.curScoreLabel.string=Math.floor((e=n,o=t._curScore,a=i,e+a*(o-e))).toString()})),m().delay(.1),m().call((function(){(i+=.2)>=1&&(t._onetTopZone.curScoreLabel.string=t._curScore.toString(),t._tweenScore.stop())}))).repeatForever(),this._tweenScore.start(),this.log("[OnetMatrix] set curScore: "+e)}else this._onetTopZone.curScoreLabel.string=this._curScore.toString()}}],[{key:"isPlaying",get:function(){return t._isPlaying},set:function(e){t._isPlaying=e,t._isPlaying?t.instance._onetTopZone.countDownTimer.ResumeCountDown():t.instance._onetTopZone.countDownTimer.PauseCountDown()}}]),t}(f)).instance=null,oe._isPlaying=!1,oe.curSelected=null,oe.isFinishedResolve=!0,$=t((Q=oe).prototype,"_mNodePrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ee=t(Q.prototype,"_mNodeItemPrefab",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(Q.prototype,"_mNodePoolHolder",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=t(Q.prototype,"_onetTopZone",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=t(Q.prototype,"_boardBG",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=Q))||K));r._RF.pop()}}}));

System.register("chunks:///_virtual/OnetMatrixSize.ts",["cc"],(function(i){var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){t._RF.push({},"d2267p7IcNH740ZboFeB/5f","OnetMatrixSize",void 0);i("default",function(){function i(i,t){this.isDebug=!0,this.colCount=void 0,this.rowCount=void 0,this.sizeRequireX=void 0,this.sizeRequireY=void 0,this.nodeSize=void 0,this.halfNodeSize=void 0,this.scaleRatio=void 0,this.totalSizeX=void 0,this.totalSizeY=void 0,this.minX=void 0,this.maxY=void 0,this.colCount=i.x+2,this.rowCount=i.y+2,this.log("[OnetMatrixSize] constructor | colCount: "+this.colCount+" | rowCount: "+this.rowCount),this.log("[OnetMatrixSize] constructor | matrixSize: "+t),this.sizeRequireX=(t.width+50)/this.colCount,this.sizeRequireY=(t.height+50)/this.rowCount,this.log("[OnetMatrixSize] constructor | sizeRequireX: "+this.sizeRequireX+" | sizeRequireY: "+this.sizeRequireY),this.nodeSize=this.sizeRequireX<this.sizeRequireY?this.sizeRequireX:this.sizeRequireY,this.halfNodeSize=this.nodeSize/2,this.log("[OnetMatrixSize] constructor | nodeSize: "+this.nodeSize+" | halfNodeSize: "+this.halfNodeSize),this.scaleRatio=this.nodeSize/100,this.log("[OnetMatrixSize] constructor | scaleRatio: "+this.scaleRatio),this.totalSizeX=this.nodeSize*this.colCount,this.totalSizeY=this.nodeSize*this.rowCount,this.log("[OnetMatrixSize] constructor | totalSizeX: "+this.totalSizeX+" | totalSizeY: "+this.totalSizeY),this.minX=-(this.totalSizeX/2-this.halfNodeSize),this.maxY=this.totalSizeY/2-this.halfNodeSize,this.log("[OnetMatrixSize] constructor | minX: "+this.minX+" | maxY: "+this.maxY)}return i.prototype.log=function(i){this.isDebug&&console.log(i)},i}());t._RF.pop()}}}));

System.register("chunks:///_virtual/OnetSearch.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,o=t._decorator}],execute:function(){var h;i._RF.push({},"ffaf9ihMXdAT4UlV6NmQRyS","OnetSearch",void 0);var n=o.ccclass;o.property,t("default",n("OnetSearch")(h=function(){var t=i.prototype;function i(t){this._matrix=null,this._isDebug=!1,this._mNodePath=[],this._matrix=t}return t.log=function(t){this._isDebug&&console.log(t)},t.SearchFirstPath=function(t,e){return this.log("[OnetSearch] Search | startNode: "+t.mPosition.XYToString+" | endNode: "+e.mPosition.XYToString),this._mNodePath=[],t.mPosition.CheckNeighbor(e.mPosition)?(this._mNodePath.push(t),this._mNodePath.push(e),!0):t.mPosition.x==e.mPosition.x&&(this.log("[OnetSearch] CheckTwoPoint | line x"),this._mNodePath=this.CheckLineY(t.mPosition.y,e.mPosition.y,t.mPosition.x),this._mNodePath.length>0)||(t.mPosition.y==e.mPosition.y&&(this.log("[OnetSearch] CheckTwoPoint | line y"),this._mNodePath=this.CheckLineX(t.mPosition.x,e.mPosition.x,t.mPosition.y),this._mNodePath.length>0)||(this._mNodePath=this.CheckRectX(t,e),this._mNodePath.length>0||(this._mNodePath=this.CheckRectY(t,e),this._mNodePath.length>0||(this._mNodePath=this.CheckMoreLineX(t,e,1),this._mNodePath.length>0||(this._mNodePath=this.CheckMoreLineX(t,e,-1),this._mNodePath.length>0||(this._mNodePath=this.CheckMoreLineY(t,e,1),this._mNodePath.length>0||(this._mNodePath=this.CheckMoreLineY(t,e,-1),this._mNodePath.length>0)))))))},t.SearchShortestPath=function(t,e){if(this.log("[OnetSearch] SearchShortestPath | startNode: "+t.mPosition.XYToString+" | endNode: "+e.mPosition.XYToString),this._mNodePath=[],t.mPosition.CheckNeighbor(e.mPosition))return this._mNodePath.push(t),this._mNodePath.push(e),!0;if(t.mPosition.x==e.mPosition.x&&(this.log("[OnetSearch] CheckTwoPoint | line x"),this._mNodePath=this.CheckLineY(t.mPosition.y,e.mPosition.y,t.mPosition.x),this._mNodePath.length>0))return!0;if(t.mPosition.y==e.mPosition.y&&(this.log("[OnetSearch] CheckTwoPoint | line y"),this._mNodePath=this.CheckLineX(t.mPosition.x,e.mPosition.x,t.mPosition.y),this._mNodePath.length>0))return!0;var i=this.CheckRectX(t,e);i.length>0&&(0==this._mNodePath.length||this._mNodePath.length>i.length)&&(this.log("[OnetSearch] SearchShortestPath | CheckRectX shortest"),this._mNodePath=i);var o=this.CheckRectY(t,e);o.length>0&&(0==this._mNodePath.length||this._mNodePath.length>o.length)&&(this.log("[OnetSearch] SearchShortestPath | CheckRectY shortest"),this._mNodePath=o);var h=this.CheckMoreLineX(t,e,1);h.length>0&&(0==this._mNodePath.length||this._mNodePath.length>h.length)&&(this.log("[OnetSearch] SearchShortestPath | checkMoreLineXR 1 shortest"),this._mNodePath=h);var n=this.CheckMoreLineX(t,e,-1);n.length>0&&(0==this._mNodePath.length||this._mNodePath.length>n.length)&&(this.log("[OnetSearch] SearchShortestPath | CheckMoreLineX -1 shortest"),this._mNodePath=n);var s=this.CheckMoreLineY(t,e,1);s.length>0&&(0==this._mNodePath.length||this._mNodePath.length>s.length)&&(this.log("[OnetSearch] SearchShortestPath | CheckMoreLineY 1 shortest"),this._mNodePath=s);var r=this.CheckMoreLineY(t,e,-1);return r.length>0&&(0==this._mNodePath.length||this._mNodePath.length>r.length)&&(this.log("[OnetSearch] SearchShortestPath | CheckMoreLineY -1 shortest"),this._mNodePath=r),this._mNodePath.length>0},t.CheckLineX=function(t,e,i){this.log("[OnetSearch] CheckLineX | x1: "+t+" | x2: "+e+" | y: "+i);var o=[],h=Math.min(t,e),n=Math.max(t,e),s=t>e;this.log("[OnetSearch] CheckLineX | minX: "+h+" | maxX: "+n);for(var r=h;r<=n;r++)if(this.log("[OnetSearch] CheckLineY | let x: "+r+" | this._matrix.holders[y][x].Value: "+this._matrix.holders[i][r].Value.name),r==h||r==n)o.push(this._matrix.holders[i][r].Value);else{if(this._matrix.holders[i][r].Value.isInteractable){this.log("[OnetSearch] CheckLineX | Stuck - "+this._matrix.holders[i][r].Value.mPosition.XYToString);break}o.push(this._matrix.holders[i][r].Value),this.log("[OnetSearch] CheckLineX | OK - "+this._matrix.holders[i][r].Value.mPosition.XYToString)}if(o.length==n-h+1){s&&(o=o.reverse());for(var a=0;a<o.length;a++)this.log("[OnetSearch] CheckLineX | Result | i: "+a+" | mNode: "+o[a].name)}else o=[];return o},t.CheckLineY=function(t,e,i){this.log("[OnetSearch] CheckLineY | y1: "+t+" | y2: "+e+" | x: "+i);var o=[],h=Math.min(t,e),n=Math.max(t,e),s=t>e;this.log("[OnetSearch] CheckLineY | minY: "+h+" | maxY: "+n);for(var r=h;r<=n;r++)if(this.log("[OnetSearch] CheckLineY | let y: "+r+" | this._matrix.holders[y][x].Value: "+this._matrix.holders[r][i].Value.name),r==h||r==n)o.push(this._matrix.holders[r][i].Value);else{if(this._matrix.holders[r][i].Value.isInteractable){this.log("[OnetSearch] CheckLineY | Stuck - "+this._matrix.holders[r][i].Value.mPosition.XYToString);break}o.push(this._matrix.holders[r][i].Value),this.log("[OnetSearch] CheckLineY | OK - "+this._matrix.holders[r][i].Value.mPosition.XYToString)}if(o.length==n-h+1){s&&(o=o.reverse());for(var a=0;a<o.length;a++)this.log("[OnetSearch] CheckLineY | Result | i: "+a+" | mNode: "+o[a].name)}else o=[];return o},t.CheckRectX=function(t,e){this.log("[OnetSearch] CheckRectX | startNode: "+t.name+" | endNode: "+e.name);var i=[],o=t,h=e;t.mPosition.x>e.mPosition.x&&(o=e,h=t);for(var n=[],s=[],r=o.mPosition.x;r<=h.mPosition.x;r++)if(r==o.mPosition.x){if(!this._matrix.holders[h.mPosition.y][o.mPosition.x].Value.isInteractable&&(n=this.CheckLineY(o.mPosition.y,h.mPosition.y,o.mPosition.x)).length>0&&(s=this.CheckLineX(o.mPosition.x,h.mPosition.x,h.mPosition.y)).length>0){i=i.concat(n),this.MergeArray(i,s);break}}else if(r==h.mPosition.x){if(!this._matrix.holders[o.mPosition.y][h.mPosition.x].Value.isInteractable&&(n=this.CheckLineY(o.mPosition.y,h.mPosition.y,h.mPosition.x)).length>0){var a=this.CheckLineX(o.mPosition.x,h.mPosition.x,o.mPosition.y);if(a.length>0){i=i.concat(a),this.MergeArray(i,n);break}}}else if(!this._matrix.holders[o.mPosition.y][r].Value.isInteractable&&!this._matrix.holders[h.mPosition.y][r].Value.isInteractable&&(n=this.CheckLineY(o.mPosition.y,h.mPosition.y,r)).length>0&&(s=this.CheckLineX(r,h.mPosition.x,h.mPosition.y)).length>0){var m=this.CheckLineX(o.mPosition.x,r,o.mPosition.y);if(m.length>0){i=i.concat(m),this.MergeArray(i,n),this.MergeArray(i,s);break}}if(i.length>0)for(var l=0;l<i.length;l++)this.log("[OnetSearch] CheckRectX | Result | i: "+l+" | mNode: "+i[l].name);return i},t.CheckRectY=function(t,e){this.log("[OnetSearch] CheckRectY | startNode: "+t.name+" | endNode: "+e.name);var i=[],o=t,h=e;t.mPosition.y>e.mPosition.y&&(o=e,h=t);for(var n=[],s=[],r=o.mPosition.y;r<=h.mPosition.y;r++)if(r==o.mPosition.y){if(!this._matrix.holders[o.mPosition.y][h.mPosition.x].Value.isInteractable&&(n=this.CheckLineX(o.mPosition.x,h.mPosition.x,o.mPosition.y)).length>0&&(s=this.CheckLineY(o.mPosition.y,h.mPosition.y,h.mPosition.x)).length>0){i=i.concat(n),this.MergeArray(i,s);var a=this._matrix.holders[h.mPosition.y][o.mPosition.x].Value.name;this.log("[OnetSearch] CheckRectY | y == pMinY.mPosition.y | checkNode: "+a);break}}else if(r==h.mPosition.y){if(!this._matrix.holders[h.mPosition.y][o.mPosition.x].Value.isInteractable&&(n=this.CheckLineX(o.mPosition.x,h.mPosition.x,h.mPosition.y)).length>0){var m=this.CheckLineY(o.mPosition.y,h.mPosition.y,o.mPosition.x);if(m.length>0){i=i.concat(m),this.MergeArray(i,n);a=this._matrix.holders[h.mPosition.y][o.mPosition.x].Value.name;this.log("[OnetSearch] CheckRectY | y == pMaxY.mPosition.y | checkNode: "+a);break}}}else if(!this._matrix.holders[r][o.mPosition.x].Value.isInteractable&&!this._matrix.holders[r][h.mPosition.x].Value.isInteractable&&(n=this.CheckLineX(o.mPosition.x,h.mPosition.x,r)).length>0&&(s=this.CheckLineY(r,h.mPosition.y,h.mPosition.x)).length>0){var l=this.CheckLineY(o.mPosition.y,r,o.mPosition.x);if(l.length>0){i=i.concat(l),this.MergeArray(i,n),this.MergeArray(i,s);break}}if(i.length>0)for(var c=0;c<i.length;c++)this.log("[OnetSearch] CheckRectY | Result | i: "+c+" | mNode: "+i[c].name);return i},t.CheckMoreLineX=function(t,e,i){this.log("[OnetSearch] CheckMoreLineX | startNode: "+t.name+" | endNode: "+e.name+" | direction: "+i);var o=[],h=t,n=e;t.mPosition.x>e.mPosition.x&&(h=e,n=t);var s=n.mPosition.x+i;-1==i&&(s=h.mPosition.x+i);for(var r=[],a=[],m=[];!this._matrix.holders[h.mPosition.y][s].Value.isInteractable&&!this._matrix.holders[n.mPosition.y][s].Value.isInteractable;){if((r=this.CheckLineX(h.mPosition.x,s,h.mPosition.y)).length>0&&(a=this.CheckLineY(h.mPosition.y,n.mPosition.y,s)).length>0&&(m=this.CheckLineX(s,n.mPosition.x,n.mPosition.y)).length>0){o=o.concat(r),this.MergeArray(o,a),this.MergeArray(o,m);break}if((s+=i)<0||s>this._matrix.colSize-1)break}if(o.length>0)for(var l=0;l<o.length;l++)this.log("[OnetSearch] CheckMoreLineX | Result | i: "+l+" | mNode: "+o[l].name);return this.CheckMoreLineY,o},t.CheckMoreLineY=function(t,e,i){this.log("[OnetSearch] CheckMoreLineY | startNode: "+t.name+" | endNode: "+e.name+" | direction: "+i);var o=[],h=t,n=e;t.mPosition.y>e.mPosition.y&&(h=e,n=t);var s=n.mPosition.y+i;-1==i&&(s=h.mPosition.y+i);for(var r=[],a=[],m=[];!this._matrix.holders[s][h.mPosition.x].Value.isInteractable&&!this._matrix.holders[s][n.mPosition.x].Value.isInteractable;){if((r=this.CheckLineY(h.mPosition.y,s,h.mPosition.x)).length>0&&(a=this.CheckLineX(h.mPosition.x,n.mPosition.x,s)).length>0&&(m=this.CheckLineY(s,n.mPosition.y,n.mPosition.x)).length>0){o=o.concat(r),this.MergeArray(o,a),this.MergeArray(o,m);break}if((s+=i)<0||s>this._matrix.rowSize-1)break}if(o.length>0)for(var l=0;l<o.length;l++)this.log("[OnetSearch] CheckMoreLineY | Result | i: "+l+" | mNode: "+o[l].name);return o},t.MergeArray=function(t,e){for(var i=0;i<e.length;i++)-1===t.indexOf(e[i])&&t.push(e[i])},e(i,[{key:"mNodePath",get:function(){return this._mNodePath}}]),i}())||h);i._RF.pop()}}}));

System.register("chunks:///_virtual/OnetTopZone.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConsumableItem.ts","./CountDownTimer.ts"],(function(e){var n,t,i,r,l,u,o,a,c,s,b,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,l=e.createClass},function(e){u=e.cclegacy,o=e._decorator,a=e.Button,c=e.Label,s=e.Component},function(e){b=e.default},function(e){f=e.default}],execute:function(){var p,y,m,_,g,h,v,C,d,w,L,k,z,T,D,R,B,I,P;u._RF.push({},"c1b41sTRSVJQ4w3EQpla6jC","OnetTopZone",void 0);var S=o.ccclass,O=o.property;e("default",(p=S("OnetTopZone"),y=O({type:a,visible:!0}),m=O({type:b,visible:!0}),_=O({type:b,visible:!0}),g=O({type:f,visible:!0}),h=O({type:c,visible:!0}),v=O({type:c,visible:!0}),C=O({type:a,visible:!0}),d=O({type:a,visible:!0}),p((k=n((L=function(e){function n(){for(var n,t=arguments.length,l=new Array(t),u=0;u<t;u++)l[u]=arguments[u];return n=e.call.apply(e,[this].concat(l))||this,i(n,"_displayItemsCollectionButton",k,r(n)),i(n,"_shuffleConsumeable",z,r(n)),i(n,"_findConsumeable",T,r(n)),i(n,"_countDownTimer",D,r(n)),i(n,"_curLevelLabel",R,r(n)),i(n,"_curScoreLabel",B,r(n)),i(n,"_btnPause",I,r(n)),i(n,"_btnRanking",P,r(n)),n}return t(n,e),l(n,[{key:"displayItemsCollectionButton",get:function(){return this._displayItemsCollectionButton}},{key:"shuffleConsumeable",get:function(){return this._shuffleConsumeable}},{key:"findConsumeable",get:function(){return this._findConsumeable}},{key:"countDownTimer",get:function(){return this._countDownTimer}},{key:"curLevelLabel",get:function(){return this._curLevelLabel}},{key:"curScoreLabel",get:function(){return this._curScoreLabel}},{key:"btnPause",get:function(){return this._btnPause}},{key:"btnRanking",get:function(){return this._btnRanking}}]),n}(s)).prototype,"_displayItemsCollectionButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(L.prototype,"_shuffleConsumeable",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(L.prototype,"_findConsumeable",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(L.prototype,"_countDownTimer",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(L.prototype,"_curLevelLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(L.prototype,"_curScoreLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(L.prototype,"_btnPause",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(L.prototype,"_btnRanking",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=L))||w));u._RF.pop()}}}));

System.register("chunks:///_virtual/PauseScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./GameData.ts","./OnetMatrix.ts","./ysdk.ts","./LanguageManager.ts","./localization.ts"],(function(e){var n,t,i,a,r,s,o,u,l,c,g,h,f,b,p,_,d,m,v,y,C;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){s=e.cclegacy,o=e._decorator,u=e.Node,l=e.UIOpacity,c=e.Label,g=e.Button,h=e.Sprite,f=e.SpriteFrame,b=e.Vec3,p=e.tween,_=e.Component},function(e){d=e.default},function(e){m=e.default},function(e){v=e.default},null,function(e){y=e.LanguageManager},function(e){C=e.LanguageCode}],execute:function(){var L,w,O,k,F,z,N,B,H,M,P,S,U,A,I,R,G,T,E,V,Z,x,D,K,j,J,X,q,Q,W,Y,$,ee,ne,te,ie;s._RF.push({},"66dc70sFrJHEIFZFVjZZlzU","PauseScreen",void 0);var ae=o.ccclass,re=o.property;e("default",(L=ae("PauseScreen"),w=re({type:u,visible:!0}),O=re({type:u,visible:!0}),k=re({type:l,visible:!0}),F=re({type:c,visible:!0}),z=re({type:c,visible:!0}),N=re({type:g,visible:!0}),B=re({type:g,visible:!0}),H=re({type:g,visible:!0}),M=re({type:g,visible:!0}),P=re({type:g,visible:!0}),S=re({type:g,visible:!0}),U=re({visible:!0}),A=re({type:h,visible:!0}),I=re({type:u,visible:!0}),R=re({type:[f],visible:!0}),G=re({type:[u],visible:!0}),L(((ie=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return n=e.call.apply(e,[this].concat(r))||this,i(n,"_components",V,a(n)),i(n,"_board",Z,a(n)),i(n,"_backgroundUIOpacity",x,a(n)),i(n,"_curLevelLabel",D,a(n)),i(n,"_curPointLabel",K,a(n)),i(n,"_btnNewGame",j,a(n)),i(n,"_btnContinue",J,a(n)),i(n,"_btnClose",X,a(n)),i(n,"_btnHelp",q,a(n)),i(n,"_soundOnBtn",Q,a(n)),i(n,"_soundOffBtn",W,a(n)),i(n,"_imgText",Y,a(n)),i(n,"_languageFlagCurrent",$,a(n)),i(n,"_scrollViewLanguages",ee,a(n)),i(n,"_flagNodes",ne,a(n)),i(n,"_frames",te,a(n)),n._isChangeLanguageMode=!1,n}t(n,e);var s=n.prototype;return s.onLoad=function(){null==n.instance?n.instance=this:this.destroy()},s.start=function(){var e=this;this._btnHelp.node.on("click",(function(){e.OnHelpClicked()}),this),this._soundOnBtn.node.on("click",(function(){e.OnSoundClicked()}),this),this._soundOffBtn.node.on("click",(function(){e.OnSoundClicked()}),this),this._soundOnBtn.node.active=m.instance.isAudio,this._soundOffBtn.node.active=!m.instance.isAudio},s.onChangeLanguageMode=function(){this._isChangeLanguageMode=!this._isChangeLanguageMode,this._scrollViewLanguages.active=this._isChangeLanguageMode},s.changeLanguageCode=function(e){y.instance.setLanguageCurrent(e)},s.changeEnglish=function(){this.changeLanguageCode(C.EN),this._languageFlagCurrent.spriteFrame=this._flagNodes[0];for(var e=0;e<=this._frames.length-1;e++)this._frames[e].active=!1;this._frames[0].active=!0},s.changeRussian=function(){this.changeLanguageCode(C.RU),this._languageFlagCurrent.spriteFrame=this._flagNodes[1];for(var e=0;e<=this._frames.length-1;e++)this._frames[e].active=!1;this._frames[1].active=!0},s.changeTurkish=function(){this.changeLanguageCode(C.TR),this._languageFlagCurrent.spriteFrame=this._flagNodes[2];for(var e=0;e<=this._frames.length-1;e++)this._frames[e].active=!1;this._frames[2].active=!0},s.changeChinese=function(){this.changeLanguageCode(C.ZH),this._languageFlagCurrent.spriteFrame=this._flagNodes[3];for(var e=0;e<=this._frames.length-1;e++)this._frames[e].active=!1;this._frames[3].active=!0},s.changeHindi=function(){this.changeLanguageCode(C.HI),this._languageFlagCurrent.spriteFrame=this._flagNodes[4];for(var e=0;e<=this._frames.length-1;e++)this._frames[e].active=!1;this._frames[4].active=!0},s.changeKorean=function(){this.changeLanguageCode(C.KO),this._languageFlagCurrent.spriteFrame=this._flagNodes[5];for(var e=0;e<=this._frames.length-1;e++)this._frames[e].active=!1;this._frames[5].active=!0},s.Open=function(){v.instance.OnPauseGame(!0),this._components.active=!0,this._board.setScale(new b(0,0,0)),p(this._board).to(.2,{scale:new b(1,1,1)}).start(),p(this._backgroundUIOpacity).to(.2,{opacity:204}).start(),this._isChangeLanguageMode=!1,this._scrollViewLanguages.active=this._isChangeLanguageMode,this.OnUpdateLanguage()},s.OnUpdateLanguage=function(){var e=y.instance.getLanguageCurrent();e==C.EN&&this.changeEnglish(),e==C.RU&&this.changeRussian(),e==C.TR&&this.changeTurkish(),e==C.ZH&&this.changeChinese(),e==C.HI&&this.changeHindi(),e==C.KO&&this.changeKorean()},s.Close=function(){var e=this;v.instance.OnPauseGame(!1),p(this._backgroundUIOpacity).to(.2,{opacity:0}).start(),p(this._board).to(.2,{scale:new b(0,0,0)}).call((function(){e._components.active=!1})).start()},s.OnHelpClicked=function(){v.instance.OnHelpClicked()},s.OnSoundClicked=function(){m.instance.isAudio=!m.instance.isAudio,this._soundOnBtn.node.active=m.instance.isAudio,this._soundOffBtn.node.active=!m.instance.isAudio,d.PlayEffect(d.instance.buttonFX,!1),m.instance.isAudio?d.instance.playBackgroundMusic():d.instance.stopBackgroundMusic()},r(n,[{key:"curLevelLabel",get:function(){return this._curLevelLabel}},{key:"curPointLabel",get:function(){return this._curPointLabel}},{key:"btnNewGame",get:function(){return this._btnNewGame}},{key:"btnContinue",get:function(){return this._btnContinue}},{key:"btnClose",get:function(){return this._btnClose}}]),n}(_)).instance=null,V=n((E=ie).prototype,"_components",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=n(E.prototype,"_board",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(E.prototype,"_backgroundUIOpacity",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(E.prototype,"_curLevelLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=n(E.prototype,"_curPointLabel",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(E.prototype,"_btnNewGame",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(E.prototype,"_btnContinue",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=n(E.prototype,"_btnClose",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=n(E.prototype,"_btnHelp",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=n(E.prototype,"_soundOnBtn",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(E.prototype,"_soundOffBtn",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=n(E.prototype,"_imgText",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=n(E.prototype,"_languageFlagCurrent",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=n(E.prototype,"_scrollViewLanguages",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=n(E.prototype,"_flagNodes",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=n(E.prototype,"_frames",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=E))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/PhotoLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,a,n,s,i,c,u,h;return{setters:[function(e){t=e.inheritsLoose,r=e.createForOfIteratorHelperLoose,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){n=e.cclegacy,s=e._decorator,i=e.assetManager,c=e.Component,u=e.Texture2D,h=e.SpriteFrame}],execute:function(){var p,l;n._RF.push({},"5b497RjQcNHb7cf71Ku3uUV","PhotoLoader",void 0);var m=s.ccclass;s.property,e("PhotoLoader",m("PhotoLoader")(((l=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.LoadPlayerPhoto=function(){var e=o(a().mark((function e(t,r){var o,n,s,i;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!((o=this.photoCache.get(t))&&Date.now()-o.timestamp<1e3*this.CACHE_TIME)){e.next=5;break}return r.spriteFrame=o.spriteFrame,e.abrupt("return");case 5:return e.next=7,this.loadImageFromURL(t);case 7:if(n=e.sent){e.next=11;break}return console.error("[PhotoLoader] Failed to load image from URL:",t),e.abrupt("return");case 11:(s=new u).image=n,(i=new h).texture=s,this.photoCache.set(t,{spriteFrame:i,timestamp:Date.now()}),r.spriteFrame=i,e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.error("[PhotoLoader] Error loading photo:",e.t0);case 22:case"end":return e.stop()}}),e,this,[[0,19]])})));return function(t,r){return e.apply(this,arguments)}}(),n.loadImageFromURL=function(e){return new Promise((function(t,r){i.loadRemote(e,{ext:".png"},(function(e,o){e?r(e):t(o)}))}))},n.CleanCache=function(){for(var e,t=Date.now(),o=r(this.photoCache.entries());!(e=o()).done;){var a=e.value,n=a[0],s=a[1];t-s.timestamp>1e3*this.CACHE_TIME&&(s.spriteFrame.destroy(),this.photoCache.delete(n))}},n.ClearCache=function(){for(var e,t=r(this.photoCache.values());!(e=t()).done;){e.value.spriteFrame.destroy()}this.photoCache.clear()},n}(c)).CACHE_TIME=300,l.photoCache=new Map,p=l))||p);n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./IconData.ts"],(function(e){var r,t,i,n,a,o,l,s,c,u,p,b,f,v,y,_,m,d;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,c=e.Sprite,u=e.Node,p=e.Label,b=e.Color,f=e.ImageAsset,v=e.Texture2D,y=e.SpriteFrame,_=e.Component,m=e.sys},function(e){d=e.default}],execute:function(){var g,h,I,w,S,k,z,A,P,D,x,R,G,F,L,q,B,Y,K;l._RF.push({},"d8758eKfOtKhLi5Y4GqvpIR","PlayerItem",void 0);var N=s.ccclass,T=s.property;e("PlayerItem",(g=N("PlayerItem"),h=T({type:c,visible:!0}),I=T({type:u,visible:!0}),w=T({type:p,visible:!0}),S=T({type:p,visible:!0}),k=T({type:p,visible:!0}),z=T({type:c,visible:!0}),A=T({type:c,visible:!0}),P=T({type:[d],visible:!0}),g((R=r((x=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a))||this,i(r,"_board",R,n(r)),i(r,"_borderBoard",G,n(r)),i(r,"_labelRanking",F,n(r)),i(r,"_labelScore",L,n(r)),i(r,"_labelName",q,n(r)),i(r,"_spriteAvatar",B,n(r)),i(r,"_spriteIcon",Y,n(r)),i(r,"_listIcons",K,n(r)),r._colorDefault=new b(69,214,91,255),r}t(r,e);var l=r.prototype;return l.SetPlayerInfor=function(){var e=a(o().mark((function e(r,t,i,n,a){var l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!=typeof YaGames){e.next=3;break}return console.warn("Yandex Games SDK is not available."),e.abrupt("return");case 3:this._labelRanking.string=r.toString(),this._labelScore.string=t.toString(),this._labelName.string=void 0===i?a.substring(0,10):i,this.LoadAvatar(n),(l=m.localStorage.getItem("uniqueID"))&&(a===l?(this._board.color=new b(137,252,72,255),this._borderBoard.active=!0,console.log("[PlayerItem] playerRank: ",l),console.log("[PlayerItem] playerUnique: ",m.localStorage.getItem("uniqueID"))):(this._board.color=new b(154,207,123,255),this._borderBoard.active=!1)),console.log("[PlayerItem] Rank: ",r),e.t0=r,e.next=1===e.t0?13:2===e.t0?16:3===e.t0?19:22;break;case 13:return this._spriteIcon.spriteFrame=this._listIcons[0].sprite,this._spriteIcon.node.active=!0,e.abrupt("break",24);case 16:return this._spriteIcon.spriteFrame=this._listIcons[1].sprite,this._spriteIcon.node.active=!0,e.abrupt("break",24);case 19:return this._spriteIcon.spriteFrame=this._listIcons[2].sprite,this._spriteIcon.node.active=!0,e.abrupt("break",24);case 22:return this._spriteIcon.node.active=!1,e.abrupt("break",24);case 24:case"end":return e.stop()}}),e,this)})));return function(r,t,i,n,a){return e.apply(this,arguments)}}(),l.LoadAvatar=function(e){var r=this,t=new Image;t.crossOrigin="anonymous",t.src=e,t.onload=function(){var e=new f(t),i=new v;i.image=e,r.SetAvatar(i)},t.onerror=function(e){console.error("Error loading avatar:",e)}},l.SetAvatar=function(e){if(console.log("[ColorPuzzleGame] | SetAvatar | tex",e),null!=e&&null!=this._spriteAvatar){var r=new y;r.texture=e,this._spriteAvatar.spriteFrame=r,this._spriteAvatar.color=b.WHITE}},l.GetUniqueIdPlayer=function(){"undefined"!=typeof YaGames||console.warn("Yandex Games SDK is not available.")},r}(_)).prototype,"_board",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=r(x.prototype,"_borderBoard",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=r(x.prototype,"_labelRanking",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=r(x.prototype,"_labelScore",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=r(x.prototype,"_labelName",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=r(x.prototype,"_spriteAvatar",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=r(x.prototype,"_spriteIcon",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=r(x.prototype,"_listIcons",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=x))||D));l._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerItem.ts","./LeaderboardManager.ts"],(function(e){var t,n,r,a,i,o,c,s,l,u,p,f,d,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){c=e.cclegacy,s=e._decorator,l=e.Prefab,u=e.Node,p=e.instantiate,f=e.Component},function(e){d=e.PlayerItem},function(e){y=e.LeaderboardManager}],execute:function(){var b,h,m,v,g,P,L,I;c._RF.push({},"17c0cvkgDxN2LtHW5EbtRZd","PlayerList",void 0);var _=s.ccclass,k=s.property;e("PlayerList",(b=_("PlayerList"),h=k({type:l,visible:!0}),m=k({type:u,visible:!0}),b(((I=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"_rankingItemPrefab",P,a(t)),r(t,"_contentNode",L,a(t)),t}n(t,e);var c=t.prototype;return c.onLoad=function(){null==t.instance?t.instance=this:this.destroy()},c.ShowRankingItem=function(e){var t=this;e.forEach((function(e){var n=p(t._rankingItemPrefab),r=n.getComponent(d);r?r.SetPlayerInfor(e.rank,e.score,e.publicName,e.avatar,e.uniqueId):console.error("[PlayerList] PlayerItem not available!"),t._contentNode.addChild(n)}))},c.GetAndDisplay=function(){var e=i(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.instance.GetListEntriesLeaderboard();case 2:t=e.sent,y.instance.GetPlayerEntryLeaderboard(),this.ShowRankingItem(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.DestroyRankingItem=function(){this._contentNode.removeAllChildren()},t}(f)).instance=null,P=t((g=I).prototype,"_rankingItemPrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(g.prototype,"_contentNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=g))||v));c._RF.pop()}}}));

System.register("chunks:///_virtual/ProfileScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,i,o,a,l,c,s,p,u,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.Node,c=e.UIOpacity,s=e.Label,p=e.Vec3,u=e.tween,y=e.Component}],execute:function(){var f,b,d,h,I,_,D,g,v,m,w,P;o._RF.push({},"ef2c91XVO5Ez7rbomNU/bnF","ProfileScreen",void 0);var O=a.ccclass,z=a.property;e("ProfileScreen",(f=O("ProfileScreen"),b=z({type:l,visible:!0}),d=z({type:l,visible:!0}),h=z({type:c,visible:!0}),I=z({type:s,visible:!0}),f(((P=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"_components",g,i(t)),r(t,"_board",v,i(t)),r(t,"_backgroundUIOpacity",m,i(t)),r(t,"_playerID",w,i(t)),t}n(t,e);var o=t.prototype;return o.OnLoad=function(){null==t.instance?(t.instance=this,this.LoadAndDisplayPlayerID(this._playerID)):this.destroy()},o.Open=function(){this._components.active=!0,this._board.setScale(new p(0,0,0)),u(this._board).to(.2,{scale:new p(1,1,1)}).start(),u(this._backgroundUIOpacity).to(.2,{opacity:204}).start()},o.Close=function(){var e=this;u(this._backgroundUIOpacity).to(.2,{opacity:0}).start(),u(this._board).to(.2,{scale:new p(0,0,0)}).call((function(){e._components.active=!1})).start()},o.LoadAndDisplayPlayerID=function(e){"undefined"!=typeof FBInstant?FBInstant.player.getDataAsync(["playerID"]).then((function(t){var n=t.playerID||"No ID found";console.log("Loaded Player ID: "+n),e.string="Player ID: "+n})).catch((function(e){console.error("Error loading player ID: "+e)})):console.warn("FBInstant is not available.")},t}(y)).instance=null,g=t((D=P).prototype,"_components",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(D.prototype,"_board",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(D.prototype,"_backgroundUIOpacity",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(D.prototype,"_playerID",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=D))||_));o._RF.pop()}}}));

System.register("chunks:///_virtual/RankingScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OnetMatrix.ts","./PlayerList.ts","./AudioManager.ts"],(function(t){var n,e,i,o,a,r,c,s,l,u,p,b,f,y,d;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.Node,s=t.UIOpacity,l=t.Button,u=t.Vec3,p=t.tween,b=t.Component},function(t){f=t.default},function(t){y=t.PlayerList},function(t){d=t.default}],execute:function(){var h,_,g,v,m,k,O,w,C,I,P,R;a._RF.push({},"5d95bT/2UVGUo7w06bmWd75","RankingScreen",void 0);var U=r.ccclass,z=r.property;t("RankingScreen",(h=U("RankingScreen"),_=z({type:c,visible:!0}),g=z({type:c,visible:!0}),v=z({type:s,visible:!0}),m=z({type:l,visible:!0}),h(((R=function(t){function n(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return n=t.call.apply(t,[this].concat(a))||this,i(n,"_components",w,o(n)),i(n,"_board",C,o(n)),i(n,"_backgroundUIOpacity",I,o(n)),i(n,"_btnClose",P,o(n)),n}e(n,t);var a=n.prototype;return a.onLoad=function(){null==n.instance?n.instance=this:this.destroy()},a.start=function(){var t=this;this._btnClose.node.on("click",(function(){t.OnCloseClicked()}),this)},a.Open=function(){f.instance.OnPauseGame(!0),this._components.active=!0,y.instance.GetAndDisplay(),this._board.setScale(new u(0,0,0)),p(this._board).to(.2,{scale:new u(1,1,1)}).start(),p(this._backgroundUIOpacity).to(.2,{opacity:204}).start()},a.Close=function(){var t=this;f.instance.OnPauseGame(!1),y.instance.DestroyRankingItem(),p(this._backgroundUIOpacity).to(.2,{opacity:0}).start(),p(this._board).to(.2,{scale:new u(0,0,0)}).call((function(){t._components.active=!1})).start()},a.OnCloseClicked=function(){d.PlayEffect(d.instance.buttonFX,!1),this.Close()},n}(b)).instance=null,w=n((O=R).prototype,"_components",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=n(O.prototype,"_board",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(O.prototype,"_backgroundUIOpacity",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(O.prototype,"_btnClose",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=O))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/RemindScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,i,r,o,l,a,c,s,u,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Node,c=e.Label,s=e.Vec3,u=e.tween,p=e.Component}],execute:function(){var d,f,m,v,b,_,h,y,L,g;o._RF.push({},"45fefNKYTxLHoauWSmEgYvL","RemindScreen",void 0);var R=l.ccclass,S=l.property;e("RemindScreen",(d=R("RemindScreen"),f=S({type:a,visible:!0}),m=S({type:a,visible:!0}),v=S({type:c,visible:!0}),d(((g=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return n=e.call.apply(e,[this].concat(o))||this,i(n,"_components",h,r(n)),i(n,"_remindBoard",y,r(n)),i(n,"_levelLabel",L,r(n)),n}t(n,e);var o=n.prototype;return o.onLoad=function(){null==n.instance?n.instance=this:this.destroy()},o.SetLevelRequire=function(e){console.log("[RemindScreen] SetLevelRequire: "+e),this._levelLabel.string="Level "+e.toString()+"!!"},o.Open=function(){this._remindBoard.scale=s.ZERO,this._components.active=!0,u(this._remindBoard).to(.2,{scale:new s(1,1,1)}).start()},o.Close=function(){var e=this;u(this._remindBoard).to(.2,{scale:new s(0,0,0)}).call((function(){e._components.active=!1})).start()},n}(p)).instance=null,h=n((_=g).prototype,"_components",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=n(_.prototype,"_remindBoard",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(_.prototype,"_levelLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=_))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/RequestLoginScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OnetMatrix.ts","./AudioManager.ts","./LoginRequest.ts"],(function(n){var t,e,i,o,a,r,c,s,l,u,p,b,f,d,g;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,c=n.Node,s=n.UIOpacity,l=n.Button,u=n.Vec3,p=n.tween,b=n.Component},function(n){f=n.default},function(n){d=n.default},function(n){g=n.LoginRequest}],execute:function(){var y,h,_,v,L,m,O,C,w,k,R,z,I,q;a._RF.push({},"ad577LdnodEh7FUEnQcIi5/","RequestLoginScreen",void 0);var S=r.ccclass,U=r.property;n("RequestLoginScreen",(y=S("RequestLoginScreen"),h=U({type:c,visible:!0}),_=U({type:c,visible:!0}),v=U({type:s,visible:!0}),L=U({type:l,visible:!0}),m=U({type:l,visible:!0}),y(((q=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=n.call.apply(n,[this].concat(a))||this,i(t,"_components",w,o(t)),i(t,"_board",k,o(t)),i(t,"_backgroundUIOpacity",R,o(t)),i(t,"_btnClose",z,o(t)),i(t,"_btnLogin",I,o(t)),t}e(t,n);var a=t.prototype;return a.onLoad=function(){null==t.instance?t.instance=this:this.destroy()},a.start=function(){var n=this;this._btnClose.node.on("click",(function(){n.OnCloseClicked()}),this),this._btnLogin.node.on("click",(function(){n.OnLoginYandex()}),this)},a.Open=function(){f.instance.OnPauseGame(!0),this._components.active=!0,this._board.setScale(new u(0,0,0)),p(this._board).to(.2,{scale:new u(1,1,1)}).start(),p(this._backgroundUIOpacity).to(.2,{opacity:204}).start()},a.Close=function(){var n=this;f.instance.OnPauseGame(!1),p(this._backgroundUIOpacity).to(.2,{opacity:0}).start(),p(this._board).to(.2,{scale:new u(0,0,0)}).call((function(){n._components.active=!1})).start()},a.OnLoginYandex=function(){g.instance.HandleLoginDialog(),this.Close()},a.OnCloseClicked=function(){d.PlayEffect(d.instance.buttonFX,!1),this.Close()},t}(b)).instance=null,w=t((C=q).prototype,"_components",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(C.prototype,"_board",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(C.prototype,"_backgroundUIOpacity",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(C.prototype,"_btnClose",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(C.prototype,"_btnLogin",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=C))||O));a._RF.pop()}}}));

System.register("chunks:///_virtual/SaveableLevelData.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"01bdf/sQMNAT4B6xfQdFuwD","SaveableLevelData",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/schema.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){e("generateSchema",(function e(r){if(Array.isArray(r))return;for(var t={},c=0,s=Object.entries(r);c<s.length;c++){var n=s[c],a=n[0],i=n[1];switch(typeof i){case"string":t[a]={type:"string"};break;case"object":var o=e(i);o&&(t[a]=o)}}return{type:"object",properties:t,required:Object.keys(t)}})),r._RF.push({},"e5770g3f2lDZqGmydzzoGkv","schema",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/server.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"02691Mp4bhNXJo9w5iuormH","server",void 0);e("editorServerFetch",(function(e){return new Promise((function(t,n){fetch(e).then((function(e){t(e.json())})).catch((function(){return n()}))}))}));t._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteFadeEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,i,o,n,s,p,a,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,s=t._decorator,p=t.Sprite,a=t.Color,c=t.tween,l=t.Component}],execute:function(){var f,u,h,d,y;n._RF.push({},"d6d24ibA+FI97ayWU7ZntY2","SpriteFadeEffect",void 0);var I=s.ccclass,_=s.property;t("SpriteFadeEffect",(f=I("SpriteFadeEffect"),u=_({type:p,visible:!0,tooltip:"The sprite component to fade"}),f((y=e((d=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n))||this,i(e,"_UIsprite",y,o(e)),e}r(e,t);var n=e.prototype;return n.start=function(){if(this._UIsprite||(this._UIsprite=this.getComponent(p)),this._UIsprite){var t=this._UIsprite.color;this._UIsprite.color=new a(t.r,t.g,t.b,0),this.playFadeInEffect()}else console.warn("No Sprite component found!")},n.playFadeInEffect=function(){if(this._UIsprite){var t=this._UIsprite.color;c(this._UIsprite).delay(.5).to(4,{color:new a(t.r,t.g,t.b,255)}).start()}},e}(l)).prototype,"_UIsprite",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=d))||h));n._RF.pop()}}}));

System.register("chunks:///_virtual/text.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){function c(t){return t.charAt(0).toUpperCase()+t.slice(1)}t({capitalizeEachWord:function(t){return t.split(" ").map((function(t){return c(t)})).join(" ")},capitalizeFirstLetter:c}),e._RF.push({},"fc885DJwtBFgrQ8MjsyB2GZ","text",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/VictoryScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./OnetMatrix.ts"],(function(e){var t,n,i,r,o,l,c,a,u,s,p,y,f,b,v,d,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){l=e.cclegacy,c=e._decorator,a=e.Node,u=e.UIOpacity,s=e.Label,p=e.Button,y=e.ParticleSystem2D,f=e.Vec3,b=e.tween,v=e.Component},function(e){d=e.default},function(e){h=e.default}],execute:function(){var L,_,g,m,S,w,B,x,O,k,N,P,z,C,I,U,A,V,D,F;l._RF.push({},"f8e64oNdXlGwYv62rltM85W","VictoryScreen",void 0);var M=c.ccclass,E=c.property;e("default",(L=M("VictoryScreen"),_=E({type:a,visible:!0}),g=E({type:a,visible:!0}),m=E({type:u,visible:!0}),S=E({type:s,visible:!0}),w=E({type:s,visible:!0}),B=E({type:a,visible:!0}),x=E({type:p,visible:!0}),O=E({type:y,visible:!0}),L(((F=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,i(t,"_components",P,r(t)),i(t,"_victoryBoard",z,r(t)),i(t,"_backgroundUIOpacity",C,r(t)),i(t,"_curLevelLabel",I,r(t)),i(t,"_curPointLabel",U,r(t)),i(t,"effectBackNode",A,r(t)),i(t,"nextLevelButton",V,r(t)),i(t,"confettiParticleSystem",D,r(t)),t}n(t,e);var l=t.prototype;return l.onLoad=function(){var e=this;this.nextLevelButton.node.on("click",(function(){return e.OnNextLevel()}),this),null==t.instance?t.instance=this:this.destroy()},l.Open=function(){this._victoryBoard.scale=f.ZERO,this._components.active=!0,this.confettiParticleSystem.resetSystem(),this.SetNextlevelActive(!1),d.PlayEffect(d.instance.victoryFX,!1),b(this._backgroundUIOpacity).to(.2,{opacity:204}).start(),b(this._victoryBoard).to(.2,{scale:new f(1,1,1)}).start(),b(this.effectBackNode).by(5,{eulerAngles:new f(0,0,360)}).repeatForever().start()},l.Close=function(){var e=this;b(this._backgroundUIOpacity).to(.2,{opacity:0}).start(),b(this._victoryBoard).to(.2,{scale:new f(0,0,0)}).call((function(){e._components.active=!1})).start()},l.SetNextlevelActive=function(e){this.nextLevelButton.node.active=e},l.OnNextLevel=function(){console.log("[VictoryScreen] | OnNextLevel | SUCCESS"),this.Close(),h.instance.OnNextLevel()},o(t,[{key:"curLevelLabel",get:function(){return this._curLevelLabel}},{key:"curPointLabel",get:function(){return this._curPointLabel}}]),t}(v)).instance=null,P=t((N=F).prototype,"_components",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(N.prototype,"_victoryBoard",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(N.prototype,"_backgroundUIOpacity",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(N.prototype,"_curLevelLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(N.prototype,"_curPointLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(N.prototype,"effectBackNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(N.prototype,"nextLevelButton",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(N.prototype,"confettiParticleSystem",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=N))||k));l._RF.pop()}}}));

System.register("chunks:///_virtual/YandexAdsManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ysdk.ts","./DevTools.ts","./DialogScreen.ts","./AudioManager.ts"],(function(e){var n,t,a,s,o,i,r,l;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy,a=e._decorator,s=e.Component},function(e){o=e.ysdk},function(e){i=e.default},function(e){r=e.DialogScreen},function(e){l=e.default}],execute:function(){var d,c;t._RF.push({},"68eefXoRqhM86ISkdDtRBtn","YandexAdsManager",void 0);var u=a.ccclass;a.property,e("YandexAdsManager",u("YandexAdsManager")(((c=function(e){function t(){for(var n,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return(n=e.call.apply(e,[this].concat(a))||this)._lastViewInterstitial=null,n._intervalInterstitial=-1,n}n(t,e);var a=t.prototype;return a.onLoad=function(){null==t.instance?t.instance=this:this.destroy()},a.ShowRewardedAd=function(e,n,t,a,s){var i=this;void 0===s&&(s=!0),this.TrackShowAdsValid(t,"ShowRewardedAd")&&o.adv.showRewardedVideo({callbacks:{onOpen:function(){console.log("[YandexAdsManager] Rewarded ad opened"),e()},onRewarded:function(){console.log("[YandexAdsManager] Rewarded ad watched successfully"),n()},onClose:function(){console.log("[YandexAdsManager] Rewarded ad closed"),a()},onError:function(e){console.log("[YandexAdsManager] Failed to show rewarded ad: "+e),i.TrackRequestStatusZero(e,s),t()}}})},a.SetIntervalInterstitial=function(e){this._intervalInterstitial=e},a.UnSetIntervalInterstitial=function(){this._intervalInterstitial=-1},a.ShowInterstitialAd=function(e,n,t){var a=this;void 0===t&&(t=!0),this.TrackShowAdsValid(n,"ShowInterstitialAd")&&(this.IsInterstitialAdReady(e)||(this._lastViewInterstitial=new Date(Date.now()),o.adv.showFullscreenAdv({callbacks:{onOpen:function(){l.instance.PauseWithoutTween(),console.log("[YandexAdsManager] Interstitial ad opened")},onOffline:function(){return console.log("[YandexAdsManager] Internet do not connected")},onClose:function(t){l.instance.ContinueWithoutTween(),t?(console.log("[YandexAdsManager] Interstitial ad shown successfully"),e()):(console.log("[YandexAdsManager] Interstitial ad closed without being shown"),n())},onError:function(e){console.log("[YandexAdsManager] Failed to show interstitial ad: "+e),a.TrackRequestStatusZero(e,t),n()}}})))},a.IsInterstitialAdReady=function(e){if(null!=this._lastViewInterstitial&&this._intervalInterstitial>0){var n=Date.now().valueOf()-this._lastViewInterstitial.valueOf();if(n<this._intervalInterstitial)return console.log("[YandexAdsManager] | IsInterstitialAdReady | lastViewDistance: "+n+" | _intervalInterstitial: "+this._intervalInterstitial),e(),!0}return!1},a.TrackShowAdsValid=function(e,n){return console.log("[YandexAdsManager]  "+n+" called"),"undefined"!=typeof YaGames&&!i.instance.isSkipAds||(console.log("[YandexAdsManager] | "+n+" | Yandex SDK not available"),e(),!1)},a.TrackRequestStatusZero=function(e,n){e.includes("SyntaxError")&&e.includes("Request Status: 0")&&(console.log("`[YandexAdsManager] Unable to parse response: Request Status: 0 - Possible ad-block or network issue."),n&&r.instance.Open())},t}(s)).instance=null,d=c))||d);t._RF.pop()}}}));

System.register("chunks:///_virtual/YandexAvatar.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ysdk.ts"],(function(e){var a,t,r,n,o,l,i,s,c,u,v,f,y,p;return{setters:[function(e){a=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,i=e.Sprite,s=e.Label,c=e.ImageAsset,u=e.Texture2D,v=e.SpriteFrame,f=e.Color,y=e.Component},function(e){p=e.ysdk}],execute:function(){var d,h,g,m,x,w,A,b;o._RF.push({},"c10e9SZw5xBbqy1Vxwwfpp7","YandexAvatar",void 0);var D=l.ccclass,P=l.property;e("default",(d=D("YandexAvatar"),h=P({type:i,visible:!0}),g=P({type:s,visible:!0}),d(((b=function(e){function a(){for(var a,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return a=e.call.apply(e,[this].concat(o))||this,r(a,"_avatar",w,n(a)),r(a,"_avatarText",A,n(a)),a}t(a,e);var o=a.prototype;return o.onLoad=function(){null==a.instance?a.instance=this:this.destroy()},o.start=function(){this.GetAllDataPlayer(),this.GetAvatar()},o.GetAvatar=function(){"undefined"!=typeof YaGames?p.getPlayer().then((function(e){var t=e.getPhoto("medium");if(t){console.log("[YandexAvatar] AvtUrl: ",t);var r=new Image;r.crossOrigin="anonymous",r.src=t,r.onload=function(){var e=new c(r),t=new u;t.image=e,a.instance.SetAvatar(t)},r.onerror=function(e){console.error("Error loading avatar:",e)}}else console.warn("Player has no avatar.")})).catch((function(e){console.error("Error getting player data:",e)})):console.warn("Yandex Games SDK is not available.")},o.SetAvatar=function(e){if(console.log("[ColorPuzzleGame] | SetAvatar | tex",e),null!=e&&null!=this._avatar){var a=new v;a.texture=e,this._avatar.spriteFrame=a,this._avatar.color=f.WHITE,null!=this._avatarText&&(this._avatarText.node.active=!1)}},o.GetAllDataPlayer=function(){if("undefined"!=typeof YaGames)try{p.getPlayer().then((function(e){var a=e.getUniqueID(),t=e.getName();e.setData({playerID:a,playerName:t}).then((function(){console.log("Player data saved successfully!")})).catch((function(e){console.error("Error while saving data:",e)})),console.log("Player ID: "+a),console.log("Player Name: "+t)})).catch((function(e){console.error("Error while fetching player data:",e)}))}catch(e){console.error("Error in GetAllDataPlayer:",e)}else console.warn("Yandex Games SDK is not available.")},a}(y)).instance=null,w=a((x=b).prototype,"_avatar",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=a(x.prototype,"_avatarText",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=x))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/ysdk.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./l10n2.ts","./index2.ts","./constants.ts","./localization.ts","./log.ts","./schema.ts","./server.ts","./text.ts","./ipc.ts"],(function(e){var n,a,t,r,i,o;return{setters:[function(e){n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){t=e.cclegacy,r=e.game},function(e){i=e.EDITOR},function(e){o=e.L10NManager},null,function(n){var a={};a.L10N_BUNDLE=n.L10N_BUNDLE,a.PACKAGE_NAME=n.PACKAGE_NAME,e(a)},function(n){var a={};a.LanguageCode=n.LanguageCode,a.domainToLanguageCode=n.domainToLanguageCode,a.getLanguageName=n.getLanguageName,a.getLanguageNativeName=n.getLanguageNativeName,a.isLanguageCode=n.isLanguageCode,e(a)},function(n){var a={};a.error=n.error,a.log=n.log,a.warn=n.warn,e(a)},function(n){e("generateSchema",n.generateSchema)},function(n){e("editorServerFetch",n.editorServerFetch)},function(n){var a={};a.capitalizeEachWord=n.capitalizeEachWord,a.capitalizeFirstLetter=n.capitalizeFirstLetter,e(a)},function(n){e("ipc",n.ipc)}],execute:async function(){t._RF.push({},"deeb3KOEFVCpYd+yNouZ+WL","ysdk",void 0);var c=e("ysdk",{}),s=e("l10n",o.instance);t.GAME_VIEW||i?await s.init():r.onPostProjectInitDelegate.add(n(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,YaGames.init();case 2:return c=e("ysdk",n.sent),n.next=5,s.init();case 5:s.changeLanguage(c.environment.i18n.lang);case 6:case"end":return n.stop()}}),n)})))),t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});